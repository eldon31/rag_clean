[
  {
    "text": "JSON Schema Generation | pydantic/pydantic | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[pydantic/pydantic](https://github.com/pydantic/pydantic \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 11 October 2025 ([76ef0b](https://github.com/pydantic/pydantic/commits/76ef0b08))\n\n- [Overview](pydantic/pydantic/1-overview.md)\n- [Core Model System](pydantic/pydantic/2-core-model-system.md)\n- [BaseModel](pydantic/pydantic/2.1-basemodel.md)\n- [Field System](pydantic/pydantic/2.2-field-system.md)\n- [Model Configuration](pydantic/pydantic/2.3-model-configuration.md)\n- [Type System](pydantic/pydantic/3-type-system.md)\n- [Constrained Types](pydantic/pydantic/3.1-constrained-types.md)\n- [Network Types](pydantic/pydantic/3.2-network-types.md)\n- [TypeAdapter](pydantic/pydantic/3.3-typeadapter.md)\n- [Generics and Forward References](pydantic/pydantic/3.4-generics-and-forward-references.md)\n- [Validation and Serialization](pydantic/pydantic/4-validation-and-serialization.md)\n- [Validators](pydantic/pydantic/4.1-validators.md)\n- [Serializers](pydantic/pydantic/4.2-serializers.md)\n- [JSON Conversion](pydantic/pydantic/4.3-json-conversion.md)\n- [Schema Generation](pydantic/pydantic/5-schema-generation.md)\n- [Core Schema Generation](pydantic/pydantic/5.1-core-schema-generation.md)\n- [JSON Schema Generation](pydantic/pydantic/5.2-json-schema-generation.md)\n- [Advanced Features](pydantic/pydantic/6-advanced-features.md)\n- [Dataclass Support](pydantic/pydantic/6.1-dataclass-support.md)\n- [Function Validation](pydantic/pydantic/6.2-function-validation.md)\n- [RootModel and Computed Fields](pydantic/pydantic/6.3-rootmodel-and-computed-fields.md)\n- [Plugin System](pydantic/pydantic/6.4-plugin-system.md)\n- [Development and Deployment](pydantic/pydantic/7-development-and-deployment.md)\n- [Testing Framework](pydantic/pydantic/7.1-testing-framework.md)\n- [CI/CD Pipeline](pydantic/pydantic/7.2-cicd-pipeline.md)\n- [Documentation System](pydantic/pydantic/7.3-documentation-system.md)\n- [Versioning and Dependencies](pydantic/pydantic/7.4-versioning-and-dependencies.md)\n- [Migration and Compatibility](pydantic/pydantic/8-migration-and-compatibility.md)\n- [V1 to V2 Migration](pydantic/pydantic/8.1-v1-to-v2-migration.md)\n- [Backported Modules](pydantic/pydantic/8.2-backported-modules.md)\n\nMenu\n\n# JSON Schema Generation\n\nRelevant source files\n\n- [pydantic/\\_internal/\\_core\\_metadata.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/_internal/_core_metadata.py)\n- [pydantic/\\_internal/\\_generate\\_schema.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/_internal/_generate_schema.py)\n- [pydantic/json\\_schema.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py)\n- [pyproject.toml](https://github.com/pydantic/pydantic/blob/76ef0b08/pyproject.toml)\n- [tests/test\\_datetime.py](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_datetime.py)\n- [tests/test\\_json\\_schema.py](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py)",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_5.2-json-schema-generation.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 958,
      "character_count": 3143,
      "created_at": "2025-10-16T17:41:46.004433",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_5.2-json-schema-generation.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "This document explains how Pydantic generates JSON Schema from models and types. JSON Schema is a vocabulary that allows you to annotate and validate JSON documents, which is useful for API documentation, client code generation, and validation in different environments. For information about internal core schema generation, see [Core Schema Generation](pydantic/pydantic/5.1-core-schema-generation.md).\n\n## Overview\n\nPydantic provides built-in JSON Schema generation capabilities for its models and types. The generated JSON Schema documents describe the expected structure, types, constraints, and other metadata for validation and serialization purposes.\n\n```\n```\n\nSources: [pydantic/json\\_schema.py216-427](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L216-L427)\n\n## Architecture\n\nThe JSON Schema generation system centers around the `GenerateJsonSchema` class, which handles the entire process of converting Pydantic core schemas into standard JSON Schema documents.\n\n```\n```\n\nSources: [pydantic/json\\_schema.py216-390](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L216-L390)\n\n### Key Components\n\n1. **GenerateJsonSchema**: The main class responsible for converting core schemas to JSON Schema documents\n2. **Reference Management System**: Handles schema references to avoid duplication and circular dependencies\n3. **Schema Mode Handling**: Supports both 'validation' and 'serialization' modes\n4. **Type Mapping**: Converts Pydantic types to their JSON Schema equivalents\n\n### JSON Schema Generation Flow\n\n```\n```\n\nSources: [pydantic/json\\_schema.py378-425](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L378-L425)\n\n## Reference System\n\nThe JSON Schema generator uses a sophisticated reference system to handle complex type references, avoid duplication, and manage circular dependencies.\n\n```\n```\n\nSources: [pydantic/json\\_schema.py119-139](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L119-L139) [pydantic/json\\_schema.py258-264](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L258-L264)\n\nWhen Pydantic encounters the same type multiple times (such as a model used in different places), it creates a schema definition and uses references to avoid duplication:\n\n1. **CoreRef**: Internal identifier for a core schema\n2. **DefsRef**: Name of the type in the definitions dictionary\n3. **JsonRef**: JSON Schema `$ref` value (e.g., `#/$defs/User`)\n\n### Reference Template\n\nBy default, references use the format `#/$defs/{model}`, but this can be customized with the `ref_template` parameter:\n\n```\n```\n\nSources: [pydantic/json\\_schema.py116-117](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L116-L117) [tests/test\\_json\\_schema.py143-178](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L143-L178)\n\n## Schema Modes\n\nPydantic supports two modes for JSON Schema generation:\n\n| Mode            | Description                  | Use Case                                    |\n| --------------- | ---------------------------- | ------------------------------------------- |\n| `validation`    | Schema for input validation  | Describes what input data should look like  |\n| `serialization` | Schema for serialized output | Describes what model.model\\_dump() produces |\n\nThe modes are important because some types have different representations for validation vs. serialization:\n\n```\n```\n\nSources: [pydantic/json\\_schema.py79-87](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L79-L87) [tests/test\\_json\\_schema.py524-542](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L524-L542)\n\n## Customizing JSON Schema Generation\n\nPydantic offers several ways to customize the generated JSON Schema:\n\n### Model Configuration\n\nUse the `model_config` with `json_schema_extra` to add custom attributes to the schema:\n\n```\n```\n\nSources: [tests/test\\_json\\_schema.py448-457](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L448-L457)\n\n### Field Customization\n\nFields support various JSON Schema attributes directly:\n\n```\n```\n\nSources: [tests/test\\_json\\_schema.py226-245](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L226-L245)",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_5.2-json-schema-generation.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 1023,
      "character_count": 4330,
      "created_at": "2025-10-16T17:41:46.015565",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_5.2-json-schema-generation.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "### Type-Level Customization\n\nCustom types can implement `__get_pydantic_json_schema__` to control their schema representation:\n\n```\n```\n\nSources: [tests/test\\_json\\_schema.py292-330](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L292-L330)\n\n## Common JSON Schema Features\n\n### Field Aliases\n\nWhen using field aliases, schemas can be generated by alias or by attribute name:\n\n```\n```\n\nSources: [tests/test\\_json\\_schema.py125-142](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L125-L142) [tests/test\\_json\\_schema.py253-259](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L253-L259)\n\n### Nested Models\n\nWhen a model contains other models, those models are included in the `$defs` section and referenced:\n\n```\n```\n\nSources: [tests/test\\_json\\_schema.py195-223](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L195-L223) [tests/test\\_json\\_schema.py546-565](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L546-L565)\n\n### Enums\n\nEnum classes are represented with their possible values:\n\n```\n```\n\nSources: [tests/test\\_json\\_schema.py261-289](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L261-L289)\n\n## Integration with Core Schema Generation\n\nJSON Schema generation works in tandem with core schema generation:\n\n```\n```\n\nDuring core schema generation, metadata can be attached for later use in JSON Schema generation:\n\n1. `pydantic_js_functions`: For defining custom JSON Schema handlers\n2. `pydantic_js_updates`: For adding or updating JSON Schema properties\n3. `pydantic_js_extra`: For adding complete JSON Schema objects\n\nSources: [pydantic/\\_internal/\\_core\\_metadata.py13-46](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/_internal/_core_metadata.py#L13-L46) [pydantic/\\_internal/\\_generate\\_schema.py668-713](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/_internal/_generate_schema.py#L668-L713)\n\n## API Reference\n\nHere are the main functions and classes for JSON Schema generation:\n\n| Name                            | Description                                  |\n| ------------------------------- | -------------------------------------------- |\n| `BaseModel.model_json_schema()` | Generate JSON Schema for a model             |\n| `TypeAdapter.json_schema()`     | Generate JSON Schema for any type            |\n| `models_json_schema()`          | Generate JSON Schema for multiple models     |\n| `GenerateJsonSchema`            | Class for customizing JSON Schema generation |\n\nSources: [pydantic/json\\_schema.py216-224](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L216-L224) [tests/test\\_json\\_schema.py669-670](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_json_schema.py#L669-L670)\n\n## Advanced Features\n\n### Schema Dialect\n\nBy default, Pydantic uses the JSON Schema draft 2020-12 dialect, but this can be customized by extending `GenerateJsonSchema`:\n\n```\n```\n\nSources: [pydantic/json\\_schema.py250-251](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L250-L251)\n\n### Warning Management\n\nThe JSON Schema generator can emit warnings for issues like non-serializable defaults or skipped discriminators:\n\n```\n```\n\nSources: [pydantic/json\\_schema.py101-106](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L101-L106) [pydantic/json\\_schema.py252-254](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L252-L254)\n\n### Advanced Reference Management\n\nFor complex schemas with many references, Pydantic attempts to simplify reference names by removing redundancy while avoiding collisions:\n\n```\n```\n\nSources: [pydantic/json\\_schema.py135-186](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/json_schema.py#L135-L186)\n\n## Performance Considerations\n\nFor models with many related types, JSON Schema generation may be expensive. Consider:",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_5.2-json-schema-generation.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 1014,
      "character_count": 3988,
      "created_at": "2025-10-16T17:41:46.027509",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_5.2-json-schema-generation.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "1. Caching generated schemas when appropriate\n2. Only generating schemas when needed, not during startup\n3. Using `TypeAdapter` for simpler types that don't need full model capabilities\n\nDismiss\n\nRefresh this wiki\n\nThis wiki was recently refreshed. Please wait 4 days to refresh again.\n\n### On this page\n\n- [JSON Schema Generation](#json-schema-generation.md)\n- [Overview](#overview.md)\n- [Architecture](#architecture.md)\n- [Key Components](#key-components.md)\n- [JSON Schema Generation Flow](#json-schema-generation-flow.md)\n- [Reference System](#reference-system.md)\n- [Reference Template](#reference-template.md)\n- [Schema Modes](#schema-modes.md)\n- [Customizing JSON Schema Generation](#customizing-json-schema-generation.md)\n- [Model Configuration](#model-configuration.md)\n- [Field Customization](#field-customization.md)\n- [Type-Level Customization](#type-level-customization.md)\n- [Common JSON Schema Features](#common-json-schema-features.md)\n- [Field Aliases](#field-aliases.md)\n- [Nested Models](#nested-models.md)\n- [Enums](#enums.md)\n- [Integration with Core Schema Generation](#integration-with-core-schema-generation.md)\n- [API Reference](#api-reference.md)\n- [Advanced Features](#advanced-features.md)\n- [Schema Dialect](#schema-dialect.md)\n- [Warning Management](#warning-management.md)\n- [Advanced Reference Management](#advanced-reference-management.md)\n- [Performance Considerations](#performance-considerations.md)",
    "metadata": {
      "chunk_id": 3,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_5.2-json-schema-generation.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 331,
      "character_count": 1435,
      "created_at": "2025-10-16T17:41:46.028051",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 3,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_5.2-json-schema-generation.md",
      "collection_context": "pydantic_pydantic"
    }
  }
]