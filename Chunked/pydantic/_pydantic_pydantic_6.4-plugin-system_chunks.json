[
  {
    "text": "## Overview  The plugin system provides a way to instrument Pydantic's validation process without modifying models or types. Plugins implement the `PydanticPluginProtocol` and receive callbacks at key points during validation:  - **on\\_enter**: Before validation begins - **on\\_success**: After successful validation - **on\\_error**: When validation fails - **on\\_exception**: When an unexpected exception occurs  Plugins are invoked automatically whenever a `SchemaValidator` is created for BaseModels, TypeAdapters, dataclasses, `validate_call`, or `create_model`. **Sources:** [pydantic/plugin/\\_\\_init\\_\\_.py1-194](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/__init__.py#L1-L194)",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0001",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Overview"
      ],
      "heading_text": "Overview",
      "token_count": 165,
      "char_count": 706,
      "start_char": 4361,
      "end_char": 5067,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5428571428571428,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.747936",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 165,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Overview",
      "chunk_hash": "86d94cda52942177",
      "content_digest": "86d94cda52942177",
      "chunk_length": 706,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pydantic",
          "validation",
          "plugin",
          "the",
          "plugins",
          "when",
          "exception",
          "init",
          "overview",
          "system",
          "provides",
          "way",
          "instrument",
          "process",
          "without",
          "modifying",
          "models",
          "types",
          "implement",
          "pydanticpluginprotocol"
        ],
        "term_weights": [
          {
            "term": "pydantic",
            "tf": 5,
            "weight": 0.067568
          },
          {
            "term": "validation",
            "tf": 5,
            "weight": 0.067568
          },
          {
            "term": "plugin",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "plugins",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "when",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "exception",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "init",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "overview",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "way",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "instrument",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "process",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "without",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "modifying",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "models",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "types",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "implement",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "pydanticpluginprotocol",
            "tf": 1,
            "weight": 0.013514
          }
        ],
        "unique_terms": 59,
        "total_terms": 74
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Overview",
        "exception",
        "init",
        "overview",
        "plugin",
        "plugins",
        "pydantic",
        "system",
        "the",
        "validation",
        "when"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5428571428571428,
      "overall": 0.7142857142857143
    }
  },
  {
    "text": "### Handler Lifecycle ``` ``` Each handler protocol defines four callback methods. All methods have default no-op implementations, so plugins only need to implement the callbacks they care about. **Sources:** [pydantic/plugin/\\_schema\\_validator.py96-126](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L96-L126)",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0006",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Handler Lifecycle"
      ],
      "heading_text": "Handler Lifecycle",
      "token_count": 82,
      "char_count": 353,
      "start_char": 6879,
      "end_char": 7232,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5706451612903226,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.756526",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 82,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Handler Lifecycle",
      "chunk_hash": "75537c24a3acd115",
      "content_digest": "75537c24a3acd115",
      "chunk_length": 353,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pydantic",
          "handler",
          "methods",
          "plugin",
          "schema",
          "validator",
          "lifecycle",
          "each",
          "protocol",
          "defines",
          "four",
          "callback",
          "all",
          "have",
          "default",
          "implementations",
          "plugins",
          "only",
          "need",
          "implement"
        ],
        "term_weights": [
          {
            "term": "pydantic",
            "tf": 4,
            "weight": 0.093023
          },
          {
            "term": "handler",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "methods",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "plugin",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "schema",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "validator",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "lifecycle",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "each",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "protocol",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "defines",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "four",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "callback",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "all",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "have",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "default",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "implementations",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "plugins",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "only",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "need",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "implement",
            "tf": 1,
            "weight": 0.023256
          }
        ],
        "unique_terms": 35,
        "total_terms": 43
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Handler Lifecycle",
        "defines",
        "each",
        "handler",
        "lifecycle",
        "methods",
        "plugin",
        "protocol",
        "pydantic",
        "schema",
        "validator"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5706451612903226,
      "overall": 0.6902150537634409
    }
  },
  {
    "text": "### ValidatePythonHandlerProtocol  Handles events for `validate_python()` calls: ``` ``` The `self_instance` parameter is populated when validation occurs during model `__init__`, allowing plugins to observe the model instance being initialized. **Sources:** [pydantic/plugin/\\_\\_init\\_\\_.py110-138](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/__init__.py#L110-L138)",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0007",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "ValidatePythonHandlerProtocol"
      ],
      "heading_text": "ValidatePythonHandlerProtocol",
      "token_count": 96,
      "char_count": 389,
      "start_char": 7237,
      "end_char": 7626,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5609677419354838,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.757785",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 96,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "ValidatePythonHandlerProtocol",
      "chunk_hash": "8bac9ef892c6e327",
      "content_digest": "8bac9ef892c6e327",
      "chunk_length": 389,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pydantic",
          "init",
          "the",
          "instance",
          "model",
          "plugin",
          "validatepythonhandlerprotocol",
          "handles",
          "events",
          "for",
          "validate",
          "python",
          "calls",
          "self",
          "parameter",
          "populated",
          "when",
          "validation",
          "occurs",
          "during"
        ],
        "term_weights": [
          {
            "term": "pydantic",
            "tf": 4,
            "weight": 0.090909
          },
          {
            "term": "init",
            "tf": 3,
            "weight": 0.068182
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "instance",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "plugin",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "validatepythonhandlerprotocol",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "handles",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "events",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "validate",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "python",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "calls",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "self",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "parameter",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "populated",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "when",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "validation",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "occurs",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "during",
            "tf": 1,
            "weight": 0.022727
          }
        ],
        "unique_terms": 35,
        "total_terms": 44
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "ValidatePythonHandlerProtocol",
        "events",
        "for",
        "handles",
        "init",
        "instance",
        "model",
        "plugin",
        "pydantic",
        "the",
        "validatepythonhandlerprotocol"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5609677419354838,
      "overall": 0.7203225806451612
    }
  },
  {
    "text": "### Architecture ``` ``` The `PluggableSchemaValidator` wraps a standard `SchemaValidator` and intercepts its validation methods. When plugins are registered, `create_schema_validator()` returns a `PluggableSchemaValidator` instead of a plain `SchemaValidator`. **Sources:** [pydantic/plugin/\\_schema\\_validator.py22-52](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L22-L52) [pydantic/plugin/\\_schema\\_validator.py54-94](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L54-L94)",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0011",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Architecture"
      ],
      "heading_text": "Architecture",
      "token_count": 148,
      "char_count": 560,
      "start_char": 8159,
      "end_char": 8719,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5512903225806451,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.760673",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 148,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Architecture",
      "chunk_hash": "4986118ccb4e5eda",
      "content_digest": "4986118ccb4e5eda",
      "chunk_length": 560,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pydantic",
          "schema",
          "validator",
          "plugin",
          "pluggableschemavalidator",
          "schemavalidator",
          "https",
          "github",
          "com",
          "blob",
          "76ef0b08",
          "architecture",
          "the",
          "wraps",
          "standard",
          "and",
          "intercepts",
          "its",
          "validation",
          "methods"
        ],
        "term_weights": [
          {
            "term": "pydantic",
            "tf": 8,
            "weight": 0.133333
          },
          {
            "term": "schema",
            "tf": 5,
            "weight": 0.083333
          },
          {
            "term": "validator",
            "tf": 5,
            "weight": 0.083333
          },
          {
            "term": "plugin",
            "tf": 4,
            "weight": 0.066667
          },
          {
            "term": "pluggableschemavalidator",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "schemavalidator",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "76ef0b08",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "wraps",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "standard",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "intercepts",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "its",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "validation",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "methods",
            "tf": 1,
            "weight": 0.016667
          }
        ],
        "unique_terms": 35,
        "total_terms": 60
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Architecture",
        "blob",
        "com",
        "github",
        "https",
        "pluggableschemavalidator",
        "plugin",
        "pydantic",
        "schema",
        "schemavalidator",
        "validator"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5512903225806451,
      "overall": 0.7170967741935484
    }
  },
  {
    "text": "### Plugin Settings  Models can pass settings to plugins via the `plugin_settings` configuration: ``` ``` These settings are passed to `PydanticPluginProtocol.new_schema_validator()` as the `plugin_settings` parameter, allowing plugins to customize behavior per schema. **Sources:** [tests/test\\_plugins.py68-76](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py#L68-L76)",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0015",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Plugin Settings"
      ],
      "heading_text": "Plugin Settings",
      "token_count": 91,
      "char_count": 394,
      "start_char": 10754,
      "end_char": 11148,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5194117647058824,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.770059",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 91,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Plugin Settings",
      "chunk_hash": "c45e048afbfb0b33",
      "content_digest": "c45e048afbfb0b33",
      "chunk_length": 394,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "settings",
          "plugins",
          "plugin",
          "the",
          "schema",
          "tests",
          "test",
          "pydantic",
          "models",
          "can",
          "pass",
          "via",
          "configuration",
          "these",
          "are",
          "passed",
          "pydanticpluginprotocol",
          "new",
          "validator",
          "parameter"
        ],
        "term_weights": [
          {
            "term": "settings",
            "tf": 5,
            "weight": 0.106383
          },
          {
            "term": "plugins",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "plugin",
            "tf": 3,
            "weight": 0.06383
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "schema",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "pydantic",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "models",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "can",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "pass",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "via",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "these",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "passed",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "pydanticpluginprotocol",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "new",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "validator",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "parameter",
            "tf": 1,
            "weight": 0.021277
          }
        ],
        "unique_terms": 33,
        "total_terms": 47
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Plugin Settings",
        "can",
        "models",
        "plugin",
        "plugins",
        "pydantic",
        "schema",
        "settings",
        "test",
        "tests",
        "the"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5194117647058824,
      "overall": 0.7064705882352941
    }
  },
  {
    "text": "## Usage Examples",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0016",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Usage Examples"
      ],
      "heading_text": "Usage Examples",
      "token_count": 3,
      "char_count": 17,
      "start_char": 11153,
      "end_char": 11170,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.770358",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 3,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Usage Examples",
      "chunk_hash": "40ba86df7413777b",
      "content_digest": "40ba86df7413777b",
      "chunk_length": 17,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "usage",
          "examples"
        ],
        "term_weights": [
          {
            "term": "usage",
            "tf": 1,
            "weight": 0.5
          },
          {
            "term": "examples",
            "tf": 1,
            "weight": 0.5
          }
        ],
        "unique_terms": 2,
        "total_terms": 2
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Usage Examples",
        "examples",
        "usage"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Stateful Plugin with Cleanup  Plugins can maintain state across validation calls: ``` ``` All three lifecycle methods (`on_success`, `on_error`, `on_exception`) are called to ensure proper cleanup regardless of validation outcome. **Sources:** [tests/test\\_plugins.py217-272](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py#L217-L272)",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0018",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 18,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Stateful Plugin with Cleanup"
      ],
      "heading_text": "Stateful Plugin with Cleanup",
      "token_count": 84,
      "char_count": 363,
      "start_char": 11337,
      "end_char": 11700,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5627272727272727,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.772384",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 84,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Stateful Plugin with Cleanup",
      "chunk_hash": "9a5bd09effdc2849",
      "content_digest": "9a5bd09effdc2849",
      "chunk_length": 363,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "plugins",
          "cleanup",
          "validation",
          "tests",
          "test",
          "pydantic",
          "stateful",
          "plugin",
          "with",
          "can",
          "maintain",
          "state",
          "across",
          "calls",
          "all",
          "three",
          "lifecycle",
          "methods",
          "success",
          "error"
        ],
        "term_weights": [
          {
            "term": "plugins",
            "tf": 3,
            "weight": 0.068182
          },
          {
            "term": "cleanup",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "validation",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "pydantic",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "stateful",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "plugin",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "can",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "maintain",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "state",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "across",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "calls",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "all",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "three",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "lifecycle",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "methods",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "success",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "error",
            "tf": 1,
            "weight": 0.022727
          }
        ],
        "unique_terms": 37,
        "total_terms": 44
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Stateful Plugin with Cleanup",
        "can",
        "cleanup",
        "plugin",
        "plugins",
        "pydantic",
        "stateful",
        "test",
        "tests",
        "validation",
        "with"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5627272727272727,
      "overall": 0.7209090909090908
    }
  },
  {
    "text": "### Multi-Method Plugin  Plugins can handle all three validation methods: ``` ``` Each handler receives method-specific parameters in `on_enter()`. For example, `ValidateJsonHandlerProtocol.on_enter()` receives `input: str | bytes | bytearray` while `ValidatePythonHandlerProtocol.on_enter()` receives `input: Any`. **Sources:** [tests/test\\_plugins.py274-336](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py#L274-L336)",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0019",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 19,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Multi-Method Plugin"
      ],
      "heading_text": "Multi-Method Plugin",
      "token_count": 104,
      "char_count": 444,
      "start_char": 11705,
      "end_char": 12149,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7483333333333334,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.773998",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 104,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Multi-Method Plugin",
      "chunk_hash": "e3510d447e0a8b15",
      "content_digest": "e3510d447e0a8b15",
      "chunk_length": 444,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "plugins",
          "receives",
          "enter",
          "method",
          "input",
          "tests",
          "test",
          "pydantic",
          "multi",
          "plugin",
          "can",
          "handle",
          "all",
          "three",
          "validation",
          "methods",
          "each",
          "handler",
          "specific",
          "parameters"
        ],
        "term_weights": [
          {
            "term": "plugins",
            "tf": 3,
            "weight": 0.06
          },
          {
            "term": "receives",
            "tf": 3,
            "weight": 0.06
          },
          {
            "term": "enter",
            "tf": 3,
            "weight": 0.06
          },
          {
            "term": "method",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "input",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "pydantic",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "multi",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "plugin",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "can",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "handle",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "all",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "three",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "validation",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "methods",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "each",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "handler",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "specific",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "parameters",
            "tf": 1,
            "weight": 0.02
          }
        ],
        "unique_terms": 39,
        "total_terms": 50
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Multi-Method Plugin",
        "enter",
        "input",
        "method",
        "multi",
        "plugin",
        "plugins",
        "pydantic",
        "receives",
        "test",
        "tests"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7483333333333334,
      "overall": 0.7494444444444445
    }
  },
  {
    "text": "## Implementation Details",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0022",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 22,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Implementation Details"
      ],
      "heading_text": "Implementation Details",
      "token_count": 3,
      "char_count": 25,
      "start_char": 12615,
      "end_char": 12640,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.775997",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 3,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Implementation Details",
      "chunk_hash": "812a10c977ea5550",
      "content_digest": "812a10c977ea5550",
      "chunk_length": 25,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "implementation",
          "details"
        ],
        "term_weights": [
          {
            "term": "implementation",
            "tf": 1,
            "weight": 0.5
          },
          {
            "term": "details",
            "tf": 1,
            "weight": 0.5
          }
        ],
        "unique_terms": 2,
        "total_terms": 2
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Implementation Details",
        "details",
        "implementation"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Handler Method Filtering  The `filter_handlers()` function prevents calling protocol default methods: ``` ``` This allows plugins to only implement the callbacks they need without performance overhead from no-op protocol defaults. **Sources:** [pydantic/plugin/\\_schema\\_validator.py128-141](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L128-L141)",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0023",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 23,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Handler Method Filtering"
      ],
      "heading_text": "Handler Method Filtering",
      "token_count": 87,
      "char_count": 394,
      "start_char": 12642,
      "end_char": 13036,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5627272727272727,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.777265",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 87,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Handler Method Filtering",
      "chunk_hash": "834a9ccb85f09ce1",
      "content_digest": "834a9ccb85f09ce1",
      "chunk_length": 394,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pydantic",
          "the",
          "protocol",
          "plugin",
          "schema",
          "validator",
          "handler",
          "method",
          "filtering",
          "filter",
          "handlers",
          "function",
          "prevents",
          "calling",
          "default",
          "methods",
          "this",
          "allows",
          "plugins",
          "only"
        ],
        "term_weights": [
          {
            "term": "pydantic",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "protocol",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "plugin",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "schema",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "validator",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "handler",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "method",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "filtering",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "filter",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "handlers",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "function",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "prevents",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "calling",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "default",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "methods",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "this",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "allows",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "plugins",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "only",
            "tf": 1,
            "weight": 0.021277
          }
        ],
        "unique_terms": 39,
        "total_terms": 47
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Handler Method Filtering",
        "filter",
        "filtering",
        "handler",
        "method",
        "plugin",
        "protocol",
        "pydantic",
        "schema",
        "the",
        "validator"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5627272727272727,
      "overall": 0.7209090909090908
    }
  },
  {
    "text": "### Performance Considerations\n\nWhen no plugins are installed, `create_schema_validator()` returns a plain `SchemaValidator` with zero overhead. The plugin system only activates when plugins are registered via the plugin loader.\n\n**Sources:** [pydantic/plugin/\\_schema\\_validator.py22-51](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L22-L51)\n\nDismiss\n\nRefresh this wiki\n\nThis wiki was recently refreshed. Please wait 4 days to refresh again.",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0025",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 25,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Performance Considerations"
      ],
      "heading_text": "Performance Considerations",
      "token_count": 111,
      "char_count": 485,
      "start_char": 13466,
      "end_char": 13951,
      "semantic_score": 0.7,
      "structural_score": 0.9999999999999999,
      "retrieval_quality": 0.538936170212766,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.779253",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 111,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "Performance Considerations",
      "chunk_hash": "77bf117448d309e3",
      "content_digest": "77bf117448d309e3",
      "chunk_length": 485,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "plugin",
          "pydantic",
          "schema",
          "validator",
          "when",
          "plugins",
          "are",
          "the",
          "refresh",
          "this",
          "wiki",
          "performance",
          "considerations",
          "installed",
          "create",
          "returns",
          "plain",
          "schemavalidator",
          "with",
          "zero"
        ],
        "term_weights": [
          {
            "term": "plugin",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "pydantic",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "schema",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "validator",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "when",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "plugins",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "are",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "this",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "wiki",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "performance",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "considerations",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "installed",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "create",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "returns",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "plain",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "schemavalidator",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "zero",
            "tf": 1,
            "weight": 0.016393
          }
        ],
        "unique_terms": 44,
        "total_terms": 61
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Performance Considerations",
        "are",
        "plugin",
        "plugins",
        "pydantic",
        "refresh",
        "schema",
        "the",
        "this",
        "validator",
        "when"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.9999999999999999,
      "retrieval_quality": 0.538936170212766,
      "overall": 0.7463120567375885
    }
  },
  {
    "text": "### On this page  - [Plugin System](#plugin-system.md) - [Overview](#overview.md) - [Plugin Protocol](#plugin-protocol.md) - [PydanticPluginProtocol](#pydanticpluginprotocol.md) - [SchemaTypePath and SchemaKind](#schematypepath-and-schemakind.md) - [Event Handler Protocols](#event-handler-protocols.md) - [Handler Lifecycle](#handler-lifecycle.md) - [ValidatePythonHandlerProtocol](#validatepythonhandlerprotocol.md) - [ValidateJsonHandlerProtocol](#validatejsonhandlerprotocol.md) - [ValidateStringsHandlerProtocol](#validatestringshandlerprotocol.md) - [PluggableSchemaValidator](#pluggableschemavalidator.md) - [Architecture](#architecture.md) - [Wrapper Construction](#wrapper-construction.md) - [Plugin Registration](#plugin-registration.md) - [Integration Points](#integration-points.md) - [Plugin Settings](#plugin-settings.md) - [Usage Examples](#usage-examples.md) - [Basic Logging Plugin](#basic-logging-plugin.md) - [Stateful Plugin with Cleanup](#stateful-plugin-with-cleanup.md) - [Multi-Method Plugin](#multi-method-plugin.md) - [Filtering by Schema Kind](#filtering-by-schema-kind.md) - [Filtering by Module Path](#filtering-by-module-path.md) - [Implementation Details](#implementation-details.md) - [Handler Method Filtering](#handler-method-filtering.md) - [Attribute Proxying](#attribute-proxying.md) - [Performance Considerations](#performance-considerations.md)",
    "metadata": {
      "chunk_id": "af9dc0d7c0a2-0026",
      "source_file": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "file_extension": ".md",
      "chunk_index": 26,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "On this page"
      ],
      "heading_text": "On this page",
      "token_count": 339,
      "char_count": 1383,
      "start_char": 13953,
      "end_char": 15336,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.6922882352941176,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:07.781271",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 339,
      "document_id": "af9dc0d7c0a2",
      "document_name": "_pydantic_pydantic_6.4-plugin-system",
      "source_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "source_filename": "_pydantic_pydantic_6.4-plugin-system.md",
      "source_directory": "Docs\\pydantic",
      "relative_path": "Docs\\pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "hierarchy_path": "On this page",
      "chunk_hash": "8b05025a7e4d6400",
      "content_digest": "8b05025a7e4d6400",
      "chunk_length": 1383,
      "payload_version": "1.3",
      "collection_hints": [
        "pydantic"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "plugin",
          "handler",
          "filtering",
          "method",
          "system",
          "overview",
          "protocol",
          "pydanticpluginprotocol",
          "schematypepath",
          "and",
          "schemakind",
          "event",
          "protocols",
          "lifecycle",
          "validatepythonhandlerprotocol",
          "validatejsonhandlerprotocol",
          "validatestringshandlerprotocol",
          "pluggableschemavalidator",
          "architecture",
          "wrapper"
        ],
        "term_weights": [
          {
            "term": "plugin",
            "tf": 14,
            "weight": 0.127273
          },
          {
            "term": "handler",
            "tf": 6,
            "weight": 0.054545
          },
          {
            "term": "filtering",
            "tf": 6,
            "weight": 0.054545
          },
          {
            "term": "method",
            "tf": 4,
            "weight": 0.036364
          },
          {
            "term": "system",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "overview",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "protocol",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "pydanticpluginprotocol",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "schematypepath",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "schemakind",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "event",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "protocols",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "lifecycle",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "validatepythonhandlerprotocol",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "validatejsonhandlerprotocol",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "validatestringshandlerprotocol",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "pluggableschemavalidator",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "architecture",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "wrapper",
            "tf": 2,
            "weight": 0.018182
          }
        ],
        "unique_terms": 45,
        "total_terms": 110
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "On this page",
        "and",
        "filtering",
        "handler",
        "method",
        "overview",
        "plugin",
        "protocol",
        "pydanticpluginprotocol",
        "schematypepath",
        "system"
      ],
      "collection_name": "pydantic"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.6922882352941176,
      "overall": 0.7307627450980392
    }
  }
]