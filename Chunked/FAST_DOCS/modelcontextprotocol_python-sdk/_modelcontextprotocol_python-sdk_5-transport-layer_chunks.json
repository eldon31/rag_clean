[
  {
    "text": "# Transport Layer  Relevant source files  - [src/mcp/server/sse.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/sse.py) - [tests/shared/test\\_sse.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/shared/test_sse.py)  The transport layer provides the foundational communication mechanisms that enable MCP clients and servers to exchange JSON-RPC messages. This layer abstracts away the underlying network protocols and provides consistent interfaces for different communication patterns including HTTP-based streaming, WebSockets, and process-based communication. For detailed protocol message handling, see [Protocol & Message System](modelcontextprotocol/python-sdk/4-protocol-and-message-system.md). For client-side transport usage, see [Client Transports](modelcontextprotocol/python-sdk/3.2-client-transports.md). For server-side transport security, see [Transport Security](#5.5.md).",
    "metadata": {
      "chunk_id": "77a5ec48a58e-0000",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "file_extension": ".md",
      "chunk_index": 0,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Transport Layer"
      ],
      "heading_text": "Transport Layer",
      "token_count": 197,
      "char_count": 949,
      "start_char": 3427,
      "end_char": 4376,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.518,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:04.977941",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 197,
      "document_id": "77a5ec48a58e",
      "document_name": "_modelcontextprotocol_python-sdk_5-transport-layer",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "hierarchy_path": "Transport Layer",
      "chunk_hash": "92eb05e2259881ad",
      "content_digest": "92eb05e2259881ad",
      "chunk_length": 949,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "transport",
          "sse",
          "modelcontextprotocol",
          "python",
          "sdk",
          "and",
          "for",
          "layer",
          "mcp",
          "server",
          "the",
          "communication",
          "protocol",
          "message",
          "see",
          "client",
          "src",
          "https",
          "github",
          "com"
        ],
        "term_weights": [
          {
            "term": "transport",
            "tf": 5,
            "weight": 0.042735
          },
          {
            "term": "sse",
            "tf": 4,
            "weight": 0.034188
          },
          {
            "term": "modelcontextprotocol",
            "tf": 4,
            "weight": 0.034188
          },
          {
            "term": "python",
            "tf": 4,
            "weight": 0.034188
          },
          {
            "term": "sdk",
            "tf": 4,
            "weight": 0.034188
          },
          {
            "term": "and",
            "tf": 4,
            "weight": 0.034188
          },
          {
            "term": "for",
            "tf": 4,
            "weight": 0.034188
          },
          {
            "term": "layer",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "mcp",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "server",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "communication",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "protocol",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "message",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "see",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "client",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.017094
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.017094
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.017094
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.017094
          }
        ],
        "unique_terms": 62,
        "total_terms": 117
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Transport Layer",
        "and",
        "for",
        "layer",
        "mcp",
        "modelcontextprotocol",
        "python",
        "sdk",
        "server",
        "sse",
        "transport"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.518,
      "overall": 0.706
    }
  },
  {
    "text": "## Transport Architecture Overview  The MCP SDK supports multiple transport mechanisms, each optimized for different deployment scenarios and communication patterns: ``` ``` **Sources:** [src/mcp/server/streamable\\_http.py122-902](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/streamable_http.py#L122-L902) [src/mcp/server/sse.py64-250](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/sse.py#L64-L250) [src/mcp/server/transport\\_security.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/transport_security.py) [tests/shared/test\\_streamable\\_http.py1-1600](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/shared/test_streamable_http.py#L1-L1600)",
    "metadata": {
      "chunk_id": "77a5ec48a58e-0001",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Transport Architecture Overview"
      ],
      "heading_text": "Transport Architecture Overview",
      "token_count": 194,
      "char_count": 769,
      "start_char": 4379,
      "end_char": 5148,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5677777777777778,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:04.979720",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 194,
      "document_id": "77a5ec48a58e",
      "document_name": "_modelcontextprotocol_python-sdk_5-transport-layer",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "hierarchy_path": "Transport Architecture Overview",
      "chunk_hash": "8567fe3a2d73dfa2",
      "content_digest": "8567fe3a2d73dfa2",
      "chunk_length": 769,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "src",
          "server",
          "sdk",
          "transport",
          "streamable",
          "http",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "blob",
          "146d7efb",
          "sse",
          "security",
          "tests",
          "shared",
          "test",
          "architecture"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 7,
            "weight": 0.069307
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.059406
          },
          {
            "term": "server",
            "tf": 6,
            "weight": 0.059406
          },
          {
            "term": "sdk",
            "tf": 5,
            "weight": 0.049505
          },
          {
            "term": "transport",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "streamable",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "http",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "modelcontextprotocol",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "python",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "146d7efb",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "sse",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "security",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "shared",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.009901
          }
        ],
        "unique_terms": 46,
        "total_terms": 101
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Transport Architecture Overview",
        "com",
        "github",
        "http",
        "https",
        "mcp",
        "sdk",
        "server",
        "src",
        "streamable",
        "transport"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5677777777777778,
      "overall": 0.6892592592592592
    }
  },
  {
    "text": "#### SSE Transport Architecture ``` ``` **Sources:** [src/mcp/server/sse.py64-250](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/sse.py#L64-L250) [tests/shared/test\\_sse.py83-104](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/shared/test_sse.py#L83-L104)  The `SseServerTransport` class provides two ASGI applications:  - `connect_sse()`: Handles GET requests to establish SSE streams - `handle_post_message()`: Handles POST requests containing client messages  Key implementation details:  - Endpoint validation prevents full URLs, requiring relative paths like `/messages/` - Session management using UUID4 for unique session identification - Request context propagation through `ServerMessageMetadata` - DNS rebinding protection via `TransportSecurityMiddleware`",
    "metadata": {
      "chunk_id": "77a5ec48a58e-0005",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "SSE Transport Architecture"
      ],
      "heading_text": "SSE Transport Architecture",
      "token_count": 184,
      "char_count": 824,
      "start_char": 6637,
      "end_char": 7461,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5458823529411765,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:04.984120",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 184,
      "document_id": "77a5ec48a58e",
      "document_name": "_modelcontextprotocol_python-sdk_5-transport-layer",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "hierarchy_path": "SSE Transport Architecture",
      "chunk_hash": "1da0b57616f9c995",
      "content_digest": "1da0b57616f9c995",
      "chunk_length": 824,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "sse",
          "src",
          "mcp",
          "server",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "tests",
          "shared",
          "test",
          "handles",
          "requests",
          "post",
          "messages",
          "session"
        ],
        "term_weights": [
          {
            "term": "sse",
            "tf": 7,
            "weight": 0.070707
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "mcp",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "server",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "shared",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "handles",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "requests",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "post",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "messages",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "session",
            "tf": 2,
            "weight": 0.020202
          }
        ],
        "unique_terms": 74,
        "total_terms": 99
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "SSE Transport Architecture",
        "com",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "python",
        "sdk",
        "server",
        "src",
        "sse"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5458823529411765,
      "overall": 0.7152941176470587
    }
  },
  {
    "text": "### SSE-Specific Message Flow ``` ``` **Sources:** [src/mcp/server/sse.py121-250](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/sse.py#L121-L250) [src/mcp/client/sse.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py) [tests/shared/test\\_sse.py183-214](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/shared/test_sse.py#L183-L214)  The SSE transport uses a unique dual-channel approach:  - **GET channel**: Establishes SSE stream for server-to-client messages - **POST channel**: Handles client-to-server messages with session correlation - **Session correlation**: UUID-based session matching between channels - **Request context**: Each POST request includes full request context via `ServerMessageMetadata`",
    "metadata": {
      "chunk_id": "77a5ec48a58e-0009",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "SSE-Specific Message Flow"
      ],
      "heading_text": "SSE-Specific Message Flow",
      "token_count": 192,
      "char_count": 806,
      "start_char": 8284,
      "end_char": 9090,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5417857142857143,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:04.987895",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 192,
      "document_id": "77a5ec48a58e",
      "document_name": "_modelcontextprotocol_python-sdk_5-transport-layer",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "hierarchy_path": "SSE-Specific Message Flow",
      "chunk_hash": "dc79ffd73836c75b",
      "content_digest": "dc79ffd73836c75b",
      "chunk_length": 806,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "sse",
          "src",
          "mcp",
          "server",
          "client",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "channel",
          "session",
          "request",
          "tests",
          "shared",
          "test",
          "messages"
        ],
        "term_weights": [
          {
            "term": "sse",
            "tf": 9,
            "weight": 0.084906
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.037736
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.037736
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.037736
          },
          {
            "term": "client",
            "tf": 4,
            "weight": 0.037736
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "channel",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "session",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "request",
            "tf": 3,
            "weight": 0.028302
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.018868
          },
          {
            "term": "shared",
            "tf": 2,
            "weight": 0.018868
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.018868
          },
          {
            "term": "messages",
            "tf": 2,
            "weight": 0.018868
          }
        ],
        "unique_terms": 57,
        "total_terms": 106
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "SSE-Specific Message Flow",
        "client",
        "com",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "python",
        "server",
        "src",
        "sse"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5417857142857143,
      "overall": 0.7139285714285714
    }
  },
  {
    "text": "### Security Validation Flow ``` ``` **Sources:** [src/mcp/server/sse.py106-119](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/sse.py#L106-L119) [src/mcp/server/transport\\_security.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/transport_security.py) [tests/shared/test\\_sse.py488-513](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/shared/test_sse.py#L488-L513)",
    "metadata": {
      "chunk_id": "77a5ec48a58e-0011",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Security Validation Flow"
      ],
      "heading_text": "Security Validation Flow",
      "token_count": 125,
      "char_count": 457,
      "start_char": 9255,
      "end_char": 9712,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:04.988779",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 125,
      "document_id": "77a5ec48a58e",
      "document_name": "_modelcontextprotocol_python-sdk_5-transport-layer",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "hierarchy_path": "Security Validation Flow",
      "chunk_hash": "e484748bb5a65bc2",
      "content_digest": "e484748bb5a65bc2",
      "chunk_length": 457,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "mcp",
          "server",
          "sse",
          "security",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "transport",
          "tests",
          "shared",
          "test",
          "validation",
          "flow",
          "sources"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 4,
            "weight": 0.064516
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.064516
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.064516
          },
          {
            "term": "sse",
            "tf": 4,
            "weight": 0.064516
          },
          {
            "term": "security",
            "tf": 3,
            "weight": 0.048387
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.048387
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.048387
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.048387
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.048387
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.048387
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.048387
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.048387
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.048387
          },
          {
            "term": "transport",
            "tf": 2,
            "weight": 0.032258
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.032258
          },
          {
            "term": "shared",
            "tf": 2,
            "weight": 0.032258
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.032258
          },
          {
            "term": "validation",
            "tf": 1,
            "weight": 0.016129
          },
          {
            "term": "flow",
            "tf": 1,
            "weight": 0.016129
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.016129
          }
        ],
        "unique_terms": 28,
        "total_terms": 62
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Security Validation Flow",
        "com",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "python",
        "security",
        "server",
        "src",
        "sse"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "overall": 0.6866666666666666
    }
  },
  {
    "text": "## Transport Selection Guidelines  Choose the appropriate transport based on your deployment requirements:  - **StreamableHTTP**: Best for production web applications requiring session persistence and resumability - **SSE**: Ideal for lightweight real-time updates with simple setup - **STDIO**: Perfect for local development, CLI tools, and process-based architectures - **WebSocket**: Optimal for interactive applications requiring low-latency bidirectional communication  Each transport is covered in detail in the following sections: [StreamableHTTP Transport](modelcontextprotocol/python-sdk/5.1-streamablehttp-transport.md), [SSE Transport](modelcontextprotocol/python-sdk/5.2-server-sent-events-\\(sse\\)-transport.md), [STDIO Transport](modelcontextprotocol/python-sdk/5.3-stdio-transport.md), [WebSocket Transport](modelcontextprotocol/python-sdk/5.4-transport-security.md), and [Transport Security](#5.5.md). Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "77a5ec48a58e-0013",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Transport Selection Guidelines"
      ],
      "heading_text": "Transport Selection Guidelines",
      "token_count": 201,
      "char_count": 967,
      "start_char": 10210,
      "end_char": 11177,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7370588235294117,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:04.990981",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 201,
      "document_id": "77a5ec48a58e",
      "document_name": "_modelcontextprotocol_python-sdk_5-transport-layer",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_filename": "_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5-transport-layer.md",
      "hierarchy_path": "Transport Selection Guidelines",
      "chunk_hash": "906087fa8429c031",
      "content_digest": "906087fa8429c031",
      "chunk_length": 967,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "transport",
          "for",
          "modelcontextprotocol",
          "python",
          "sdk",
          "streamablehttp",
          "and",
          "sse",
          "stdio",
          "the",
          "based",
          "applications",
          "requiring",
          "websocket",
          "security",
          "refresh",
          "selection",
          "guidelines",
          "choose",
          "appropriate"
        ],
        "term_weights": [
          {
            "term": "transport",
            "tf": 12,
            "weight": 0.118812
          },
          {
            "term": "for",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "modelcontextprotocol",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "python",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "sdk",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "streamablehttp",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "sse",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "stdio",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "based",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "applications",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "requiring",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "websocket",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "security",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "selection",
            "tf": 1,
            "weight": 0.009901
          },
          {
            "term": "guidelines",
            "tf": 1,
            "weight": 0.009901
          },
          {
            "term": "choose",
            "tf": 1,
            "weight": 0.009901
          },
          {
            "term": "appropriate",
            "tf": 1,
            "weight": 0.009901
          }
        ],
        "unique_terms": 63,
        "total_terms": 101
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Transport Selection Guidelines",
        "and",
        "for",
        "modelcontextprotocol",
        "python",
        "sdk",
        "sse",
        "stdio",
        "streamablehttp",
        "the",
        "transport"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7370588235294117,
      "overall": 0.7790196078431372
    }
  }
]