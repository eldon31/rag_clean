[
  {
    "text": "# Tool Management  Relevant source files  - [src/mcp/server/fastmcp/\\_\\_init\\_\\_.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/__init__.py) - [src/mcp/server/fastmcp/tools/base.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/base.py) - [src/mcp/server/fastmcp/tools/tool\\_manager.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/tool_manager.py) - [src/mcp/server/fastmcp/utilities/func\\_metadata.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py) - [src/mcp/server/fastmcp/utilities/types.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/types.py) - [tests/server/fastmcp/test\\_func\\_metadata.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/server/fastmcp/test_func_metadata.py) - [tests/server/fastmcp/test\\_tool\\_manager.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/server/fastmcp/test_tool_manager.py)  FastMCP's tool management system enables developers to register Python functions as MCP tools using the `@tool` decorator and execute them through the `ToolManager`. The system automatically handles argument validation, context injection, and structured output generation. The tool management system consists of three main components: the `ToolManager` for centralized tool registration and execution, the `Tool` class for wrapping functions with metadata, and the `FuncMetadata` system for function introspection and validation.",
    "metadata": {
      "chunk_id": "7a9af7269334-0000",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 0,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Management"
      ],
      "heading_text": "Tool Management",
      "token_count": 401,
      "char_count": 1660,
      "start_char": 3427,
      "end_char": 5087,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5292887640449438,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.504813",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 401,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Management",
      "chunk_hash": "58e2082ffe8429c0",
      "content_digest": "58e2082ffe8429c0",
      "chunk_length": 1660,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastmcp",
          "server",
          "mcp",
          "tool",
          "src",
          "python",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "sdk",
          "blob",
          "146d7efb",
          "the",
          "tools",
          "metadata",
          "and",
          "manager",
          "utilities",
          "func"
        ],
        "term_weights": [
          {
            "term": "fastmcp",
            "tf": 15,
            "weight": 0.070423
          },
          {
            "term": "server",
            "tf": 14,
            "weight": 0.065728
          },
          {
            "term": "mcp",
            "tf": 11,
            "weight": 0.051643
          },
          {
            "term": "tool",
            "tf": 10,
            "weight": 0.046948
          },
          {
            "term": "src",
            "tf": 10,
            "weight": 0.046948
          },
          {
            "term": "python",
            "tf": 8,
            "weight": 0.037559
          },
          {
            "term": "https",
            "tf": 7,
            "weight": 0.032864
          },
          {
            "term": "github",
            "tf": 7,
            "weight": 0.032864
          },
          {
            "term": "com",
            "tf": 7,
            "weight": 0.032864
          },
          {
            "term": "modelcontextprotocol",
            "tf": 7,
            "weight": 0.032864
          },
          {
            "term": "sdk",
            "tf": 7,
            "weight": 0.032864
          },
          {
            "term": "blob",
            "tf": 7,
            "weight": 0.032864
          },
          {
            "term": "146d7efb",
            "tf": 7,
            "weight": 0.032864
          },
          {
            "term": "the",
            "tf": 7,
            "weight": 0.032864
          },
          {
            "term": "tools",
            "tf": 5,
            "weight": 0.023474
          },
          {
            "term": "metadata",
            "tf": 5,
            "weight": 0.023474
          },
          {
            "term": "and",
            "tf": 5,
            "weight": 0.023474
          },
          {
            "term": "manager",
            "tf": 4,
            "weight": 0.018779
          },
          {
            "term": "utilities",
            "tf": 4,
            "weight": 0.018779
          },
          {
            "term": "func",
            "tf": 4,
            "weight": 0.018779
          }
        ],
        "unique_terms": 63,
        "total_terms": 213
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Management",
        "com",
        "fastmcp",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "python",
        "server",
        "src",
        "tool"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5292887640449438,
      "overall": 0.6764295880149813
    }
  },
  {
    "text": "## Tool Registration with @tool Decorator  Tools are registered using the `@tool` decorator, which automatically converts Python functions into MCP tools. The decorator analyzes function signatures, creates validation schemas, and registers the tool with the `ToolManager`.",
    "metadata": {
      "chunk_id": "7a9af7269334-0001",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Registration with @tool Decorator"
      ],
      "heading_text": "Tool Registration with @tool Decorator",
      "token_count": 49,
      "char_count": 273,
      "start_char": 5090,
      "end_char": 5363,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.505829",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 49,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Registration with @tool Decorator",
      "chunk_hash": "74bb095d0422a9d1",
      "content_digest": "74bb095d0422a9d1",
      "chunk_length": 273,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tool",
          "the",
          "decorator",
          "with",
          "tools",
          "registration",
          "are",
          "registered",
          "using",
          "which",
          "automatically",
          "converts",
          "python",
          "functions",
          "into",
          "mcp",
          "analyzes",
          "function",
          "signatures",
          "creates"
        ],
        "term_weights": [
          {
            "term": "tool",
            "tf": 4,
            "weight": 0.114286
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.114286
          },
          {
            "term": "decorator",
            "tf": 3,
            "weight": 0.085714
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.057143
          },
          {
            "term": "tools",
            "tf": 2,
            "weight": 0.057143
          },
          {
            "term": "registration",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "registered",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "using",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "which",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "automatically",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "converts",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "python",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "functions",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "into",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "mcp",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "analyzes",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "function",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "signatures",
            "tf": 1,
            "weight": 0.028571
          },
          {
            "term": "creates",
            "tf": 1,
            "weight": 0.028571
          }
        ],
        "unique_terms": 25,
        "total_terms": 35
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Registration with @tool Decorator",
        "are",
        "decorator",
        "registered",
        "registration",
        "the",
        "tool",
        "tools",
        "using",
        "which",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "overall": 0.7466666666666666
    }
  },
  {
    "text": "### Tool Registration Flow ``` ``` Sources: [src/mcp/server/fastmcp/tools/tool\\_manager.py45-71](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/tool_manager.py#L45-L71) [src/mcp/server/fastmcp/tools/base.py42-84](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/base.py#L42-L84)",
    "metadata": {
      "chunk_id": "7a9af7269334-0002",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Registration Flow"
      ],
      "heading_text": "Tool Registration Flow",
      "token_count": 105,
      "char_count": 370,
      "start_char": 5365,
      "end_char": 5735,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.506581",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 105,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Registration Flow",
      "chunk_hash": "154481d9ef914213",
      "content_digest": "154481d9ef914213",
      "chunk_length": 370,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "mcp",
          "server",
          "fastmcp",
          "tools",
          "tool",
          "manager",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "base",
          "registration",
          "flow",
          "sources",
          "py45"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "fastmcp",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "tools",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "tool",
            "tf": 3,
            "weight": 0.057692
          },
          {
            "term": "manager",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "registration",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "flow",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "py45",
            "tf": 1,
            "weight": 0.019231
          }
        ],
        "unique_terms": 25,
        "total_terms": 52
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Registration Flow",
        "com",
        "fastmcp",
        "github",
        "https",
        "manager",
        "mcp",
        "server",
        "src",
        "tool",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "overall": 0.6855555555555556
    }
  },
  {
    "text": "### Argument Processing Pipeline  The `FuncMetadata.call_fn_with_arg_validation()` method processes raw arguments through validation and type conversion before function execution. ``` ``` Sources: [src/mcp/server/fastmcp/utilities/func\\_metadata.py68-89](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L68-L89) [src/mcp/server/fastmcp/utilities/func\\_metadata.py121-159](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L121-L159) [src/mcp/server/fastmcp/utilities/func\\_metadata.py44-55](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L44-L55)  **Argument Processing Features:**  | Stage            | Implementation               | Purpose                              | Example                                  | | ---------------- | ---------------------------- | ------------------------------------ | ---------------------------------------- | | JSON Pre-parsing | `pre_parse_json()`           | Parse JSON strings to Python objects | `\"[1,2,3]\"` → `[1,2,3]`                  | | Type Validation  | `arg_model.model_validate()` | Validate against Pydantic model      | `str` parameter rejects `int`            | | Alias Resolution | `model_dump_one_level()`     | Map aliases to parameter names       | Field aliases → function parameter names | | Default Handling | Pydantic `Field()`           | Apply default values                 | Optional parameters get defaults         | | Complex Types    | Nested model support         | Handle complex structures            | `BaseModel`, `TypedDict`, dataclasses    |  **JSON Pre-parsing Logic:**  The `pre_parse_json()` method handles cases where MCP clients send complex data as JSON strings instead of native types: ``` ``` Sources: [src/mcp/server/fastmcp/utilities/func\\_metadata.py121-159](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L121-L159)",
    "metadata": {
      "chunk_id": "7a9af7269334-0004",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Argument Processing Pipeline"
      ],
      "heading_text": "Argument Processing Pipeline",
      "token_count": 462,
      "char_count": 2074,
      "start_char": 6535,
      "end_char": 8609,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7197688311688312,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.516954",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 462,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Argument Processing Pipeline",
      "chunk_hash": "dc87390ad6c05d22",
      "content_digest": "dc87390ad6c05d22",
      "chunk_length": 2074,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "src",
          "server",
          "fastmcp",
          "utilities",
          "func",
          "metadata",
          "json",
          "python",
          "model",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "sdk",
          "blob",
          "146d7efb",
          "pre",
          "validation",
          "parse"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 9,
            "weight": 0.041667
          },
          {
            "term": "src",
            "tf": 8,
            "weight": 0.037037
          },
          {
            "term": "server",
            "tf": 8,
            "weight": 0.037037
          },
          {
            "term": "fastmcp",
            "tf": 8,
            "weight": 0.037037
          },
          {
            "term": "utilities",
            "tf": 8,
            "weight": 0.037037
          },
          {
            "term": "func",
            "tf": 8,
            "weight": 0.037037
          },
          {
            "term": "metadata",
            "tf": 8,
            "weight": 0.037037
          },
          {
            "term": "json",
            "tf": 6,
            "weight": 0.027778
          },
          {
            "term": "python",
            "tf": 5,
            "weight": 0.023148
          },
          {
            "term": "model",
            "tf": 5,
            "weight": 0.023148
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.018519
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.018519
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.018519
          },
          {
            "term": "modelcontextprotocol",
            "tf": 4,
            "weight": 0.018519
          },
          {
            "term": "sdk",
            "tf": 4,
            "weight": 0.018519
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.018519
          },
          {
            "term": "146d7efb",
            "tf": 4,
            "weight": 0.018519
          },
          {
            "term": "pre",
            "tf": 4,
            "weight": 0.018519
          },
          {
            "term": "validation",
            "tf": 3,
            "weight": 0.013889
          },
          {
            "term": "parse",
            "tf": 3,
            "weight": 0.013889
          }
        ],
        "unique_terms": 100,
        "total_terms": 216
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Argument Processing Pipeline",
        "fastmcp",
        "func",
        "json",
        "mcp",
        "metadata",
        "model",
        "python",
        "server",
        "src",
        "utilities"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7197688311688312,
      "overall": 0.8065896103896103
    }
  },
  {
    "text": "## Tool Registration System  Tools are registered through the `Tool` class and the `@mcp.tool` decorator, which provides a high-level interface for function-to-tool conversion.",
    "metadata": {
      "chunk_id": "7a9af7269334-0005",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Registration System"
      ],
      "heading_text": "Tool Registration System",
      "token_count": 36,
      "char_count": 176,
      "start_char": 8615,
      "end_char": 8791,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5769565217391305,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.519508",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 36,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Registration System",
      "chunk_hash": "66d4c2f6fbba2bf3",
      "content_digest": "66d4c2f6fbba2bf3",
      "chunk_length": 176,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tool",
          "the",
          "registration",
          "system",
          "tools",
          "are",
          "registered",
          "through",
          "class",
          "and",
          "mcp",
          "decorator",
          "which",
          "provides",
          "high",
          "level",
          "interface",
          "for",
          "function",
          "conversion"
        ],
        "term_weights": [
          {
            "term": "tool",
            "tf": 4,
            "weight": 0.166667
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.083333
          },
          {
            "term": "registration",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "tools",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "registered",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "mcp",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "decorator",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "which",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "high",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "level",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "interface",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "function",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "conversion",
            "tf": 1,
            "weight": 0.041667
          }
        ],
        "unique_terms": 20,
        "total_terms": 24
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Registration System",
        "and",
        "are",
        "class",
        "registered",
        "registration",
        "system",
        "the",
        "through",
        "tool",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5769565217391305,
      "overall": 0.7256521739130434
    }
  },
  {
    "text": "### Tool Class Structure  The `Tool` class encapsulates all information needed to execute a function as an MCP tool, including metadata, validation models, and execution logic. ``` ``` Sources: [src/mcp/server/fastmcp/tools/tool\\_manager.py19-35](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/tool_manager.py#L19-L35) [src/mcp/server/fastmcp/tools/base.py22-39](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/base.py#L22-L39) [src/mcp/server/fastmcp/utilities/func\\_metadata.py62-66](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L62-L66)",
    "metadata": {
      "chunk_id": "7a9af7269334-0006",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Class Structure"
      ],
      "heading_text": "Tool Class Structure",
      "token_count": 189,
      "char_count": 702,
      "start_char": 8793,
      "end_char": 9495,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.57125,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.520720",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 189,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Class Structure",
      "chunk_hash": "c7f14ad3acbb9ff6",
      "content_digest": "c7f14ad3acbb9ff6",
      "chunk_length": 702,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "src",
          "server",
          "fastmcp",
          "tool",
          "tools",
          "metadata",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "class",
          "manager",
          "base",
          "utilities",
          "func"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 7,
            "weight": 0.073684
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.063158
          },
          {
            "term": "server",
            "tf": 6,
            "weight": 0.063158
          },
          {
            "term": "fastmcp",
            "tf": 6,
            "weight": 0.063158
          },
          {
            "term": "tool",
            "tf": 5,
            "weight": 0.052632
          },
          {
            "term": "tools",
            "tf": 4,
            "weight": 0.042105
          },
          {
            "term": "metadata",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "class",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "manager",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "utilities",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "func",
            "tf": 2,
            "weight": 0.021053
          }
        ],
        "unique_terms": 44,
        "total_terms": 95
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Class Structure",
        "com",
        "fastmcp",
        "github",
        "https",
        "mcp",
        "metadata",
        "server",
        "src",
        "tool",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.57125,
      "overall": 0.7237499999999999
    }
  },
  {
    "text": "### Tool Creation Process  The `Tool.from_function()` method creates a `Tool` instance from a Python function by extracting metadata and creating validation schemas. ``` ``` Sources: [src/mcp/server/fastmcp/tools/base.py42-84](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/base.py#L42-L84)",
    "metadata": {
      "chunk_id": "7a9af7269334-0007",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Creation Process"
      ],
      "heading_text": "Tool Creation Process",
      "token_count": 81,
      "char_count": 337,
      "start_char": 9499,
      "end_char": 9836,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.566923076923077,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.521796",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 81,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Creation Process",
      "chunk_hash": "75fadfc219941eb6",
      "content_digest": "75fadfc219941eb6",
      "chunk_length": 337,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tool",
          "from",
          "function",
          "python",
          "src",
          "mcp",
          "server",
          "fastmcp",
          "tools",
          "base",
          "creation",
          "process",
          "the",
          "method",
          "creates",
          "instance",
          "extracting",
          "metadata",
          "and",
          "creating"
        ],
        "term_weights": [
          {
            "term": "tool",
            "tf": 3,
            "weight": 0.068182
          },
          {
            "term": "from",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "function",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "mcp",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "server",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "tools",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.045455
          },
          {
            "term": "creation",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "process",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "method",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "creates",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "instance",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "extracting",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "metadata",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.022727
          },
          {
            "term": "creating",
            "tf": 1,
            "weight": 0.022727
          }
        ],
        "unique_terms": 33,
        "total_terms": 44
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Creation Process",
        "base",
        "fastmcp",
        "from",
        "function",
        "mcp",
        "python",
        "server",
        "src",
        "tool",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.566923076923077,
      "overall": 0.688974358974359
    }
  },
  {
    "text": "## Tool Execution System\n\nTool execution involves argument validation, context injection, and result conversion.",
    "metadata": {
      "chunk_id": "7a9af7269334-0009",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Execution System"
      ],
      "heading_text": "Tool Execution System",
      "token_count": 18,
      "char_count": 112,
      "start_char": 10793,
      "end_char": 10905,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.523960",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 18,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Execution System",
      "chunk_hash": "d43f2f59bf552d61",
      "content_digest": "d43f2f59bf552d61",
      "chunk_length": 112,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tool",
          "execution",
          "system",
          "involves",
          "argument",
          "validation",
          "context",
          "injection",
          "and",
          "result",
          "conversion"
        ],
        "term_weights": [
          {
            "term": "tool",
            "tf": 2,
            "weight": 0.153846
          },
          {
            "term": "execution",
            "tf": 2,
            "weight": 0.153846
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "involves",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "argument",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "validation",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "context",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "injection",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "result",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "conversion",
            "tf": 1,
            "weight": 0.076923
          }
        ],
        "unique_terms": 11,
        "total_terms": 13
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Execution System",
        "and",
        "argument",
        "context",
        "execution",
        "injection",
        "involves",
        "result",
        "system",
        "tool",
        "validation"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "overall": 0.7490476190476191
    }
  },
  {
    "text": "### Tool Execution Pipeline ``` ``` Sources: [src/mcp/server/fastmcp/tools/tool\\_manager.py73-85](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/tool_manager.py#L73-L85) [src/mcp/server/fastmcp/tools/base.py86-106](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/base.py#L86-L106) [src/mcp/server/fastmcp/utilities/func\\_metadata.py68-89](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L68-L89)",
    "metadata": {
      "chunk_id": "7a9af7269334-0010",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Execution Pipeline"
      ],
      "heading_text": "Tool Execution Pipeline",
      "token_count": 159,
      "char_count": 555,
      "start_char": 10907,
      "end_char": 11462,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.524672",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 159,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Execution Pipeline",
      "chunk_hash": "de7584a9675a50a4",
      "content_digest": "de7584a9675a50a4",
      "chunk_length": 555,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "mcp",
          "server",
          "fastmcp",
          "tools",
          "tool",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "manager",
          "base",
          "utilities",
          "func",
          "metadata",
          "execution"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 6,
            "weight": 0.076923
          },
          {
            "term": "mcp",
            "tf": 6,
            "weight": 0.076923
          },
          {
            "term": "server",
            "tf": 6,
            "weight": 0.076923
          },
          {
            "term": "fastmcp",
            "tf": 6,
            "weight": 0.076923
          },
          {
            "term": "tools",
            "tf": 4,
            "weight": 0.051282
          },
          {
            "term": "tool",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "manager",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "utilities",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "func",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "metadata",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "execution",
            "tf": 1,
            "weight": 0.012821
          }
        ],
        "unique_terms": 32,
        "total_terms": 78
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Execution Pipeline",
        "com",
        "fastmcp",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "server",
        "src",
        "tool",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "overall": 0.6866666666666666
    }
  },
  {
    "text": "### Error Handling  Tool execution wraps exceptions in `ToolError` for consistent error reporting: ``` ``` Sources: [src/mcp/server/fastmcp/tools/base.py97-110](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/base.py#L97-L110)",
    "metadata": {
      "chunk_id": "7a9af7269334-0011",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Error Handling"
      ],
      "heading_text": "Error Handling",
      "token_count": 69,
      "char_count": 272,
      "start_char": 11466,
      "end_char": 11738,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5547058823529412,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.525559",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 69,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Error Handling",
      "chunk_hash": "a74593a686bdb713",
      "content_digest": "a74593a686bdb713",
      "chunk_length": 272,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "error",
          "src",
          "mcp",
          "server",
          "fastmcp",
          "tools",
          "base",
          "handling",
          "tool",
          "execution",
          "wraps",
          "exceptions",
          "toolerror",
          "for",
          "consistent",
          "reporting",
          "sources",
          "py97",
          "110",
          "https"
        ],
        "term_weights": [
          {
            "term": "error",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "mcp",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "server",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "tools",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "handling",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "tool",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "execution",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "wraps",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "exceptions",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "toolerror",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "consistent",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "reporting",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "py97",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "110",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "https",
            "tf": 1,
            "weight": 0.027778
          }
        ],
        "unique_terms": 29,
        "total_terms": 36
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Error Handling",
        "base",
        "error",
        "execution",
        "fastmcp",
        "handling",
        "mcp",
        "server",
        "src",
        "tool",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5547058823529412,
      "overall": 0.718235294117647
    }
  },
  {
    "text": "### ToolManager Architecture ``` ``` Sources: [src/mcp/server/fastmcp/tools/tool\\_manager.py19-35](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/tool_manager.py#L19-L35) [src/mcp/server/fastmcp/tools/tool\\_manager.py45-85](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/tool_manager.py#L45-L85)",
    "metadata": {
      "chunk_id": "7a9af7269334-0013",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "ToolManager Architecture"
      ],
      "heading_text": "ToolManager Architecture",
      "token_count": 108,
      "char_count": 389,
      "start_char": 11966,
      "end_char": 12355,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.526832",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 108,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "ToolManager Architecture",
      "chunk_hash": "7cd22520e18f2343",
      "content_digest": "7cd22520e18f2343",
      "chunk_length": 389,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "mcp",
          "server",
          "fastmcp",
          "tools",
          "tool",
          "manager",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "toolmanager",
          "architecture",
          "sources",
          "py19",
          "l19"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "fastmcp",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "tools",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "tool",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "manager",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "toolmanager",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "py19",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "l19",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 24,
        "total_terms": 53
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "ToolManager Architecture",
        "com",
        "fastmcp",
        "github",
        "https",
        "manager",
        "mcp",
        "server",
        "src",
        "tool",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "overall": 0.6841666666666667
    }
  },
  {
    "text": "### Tool Registration Workflow ``` ``` Sources: [src/mcp/server/fastmcp/tools/tool\\_manager.py45-71](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/tool_manager.py#L45-L71) [src/mcp/server/fastmcp/tools/base.py42-84](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/base.py#L42-L84)",
    "metadata": {
      "chunk_id": "7a9af7269334-0015",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Registration Workflow"
      ],
      "heading_text": "Tool Registration Workflow",
      "token_count": 105,
      "char_count": 374,
      "start_char": 13463,
      "end_char": 13837,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.528685",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 105,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Registration Workflow",
      "chunk_hash": "1d0f1acf67341ad9",
      "content_digest": "1d0f1acf67341ad9",
      "chunk_length": 374,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "mcp",
          "server",
          "fastmcp",
          "tools",
          "tool",
          "manager",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "base",
          "registration",
          "workflow",
          "sources",
          "py45"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "fastmcp",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "tools",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "tool",
            "tf": 3,
            "weight": 0.057692
          },
          {
            "term": "manager",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "registration",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "workflow",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "py45",
            "tf": 1,
            "weight": 0.019231
          }
        ],
        "unique_terms": 25,
        "total_terms": 52
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Registration Workflow",
        "com",
        "fastmcp",
        "github",
        "https",
        "manager",
        "mcp",
        "server",
        "src",
        "tool",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "overall": 0.6855555555555556
    }
  },
  {
    "text": "### Structured Output Types ``` ``` Sources: [src/mcp/server/fastmcp/utilities/func\\_metadata.py287-371](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L287-L371) [src/mcp/server/fastmcp/utilities/func\\_metadata.py425-449](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L425-L449)",
    "metadata": {
      "chunk_id": "7a9af7269334-0017",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 17,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Structured Output Types"
      ],
      "heading_text": "Structured Output Types",
      "token_count": 117,
      "char_count": 416,
      "start_char": 13956,
      "end_char": 14372,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.529598",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 117,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Structured Output Types",
      "chunk_hash": "ffcba72a49a084e0",
      "content_digest": "ffcba72a49a084e0",
      "chunk_length": 416,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "mcp",
          "server",
          "fastmcp",
          "utilities",
          "func",
          "metadata",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "structured",
          "output",
          "types",
          "sources",
          "py287"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "fastmcp",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "utilities",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "func",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "metadata",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "structured",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "output",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "types",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "py287",
            "tf": 1,
            "weight": 0.017857
          }
        ],
        "unique_terms": 27,
        "total_terms": 56
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Structured Output Types",
        "com",
        "fastmcp",
        "func",
        "github",
        "https",
        "mcp",
        "metadata",
        "server",
        "src",
        "utilities"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "overall": 0.6855555555555556
    }
  },
  {
    "text": "### Output Conversion Process  The `convert_result()` method handles both unstructured and structured output:  **Dual Output Generation:** ``` ``` **Content Conversion Logic:**  - **Unstructured**: Converts results to `ContentBlock` sequences (text, image, audio) - **Structured**: Validates against output schema and serializes to JSON-compatible dict - **Return**: Tuple of both formats for backwards compatibility  Sources: [src/mcp/server/fastmcp/utilities/func\\_metadata.py91-119](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L91-L119) [src/mcp/server/fastmcp/utilities/func\\_metadata.py489-524](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L489-L524)",
    "metadata": {
      "chunk_id": "7a9af7269334-0018",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 18,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Output Conversion Process"
      ],
      "heading_text": "Output Conversion Process",
      "token_count": 190,
      "char_count": 796,
      "start_char": 14376,
      "end_char": 15172,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.531796",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 190,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Output Conversion Process",
      "chunk_hash": "05f2d6842a9e6d76",
      "content_digest": "05f2d6842a9e6d76",
      "chunk_length": 796,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "output",
          "src",
          "mcp",
          "server",
          "fastmcp",
          "utilities",
          "func",
          "metadata",
          "conversion",
          "both",
          "unstructured",
          "and",
          "structured",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob"
        ],
        "term_weights": [
          {
            "term": "output",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "fastmcp",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "utilities",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "func",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "metadata",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "conversion",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "both",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "unstructured",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "structured",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.020619
          }
        ],
        "unique_terms": 60,
        "total_terms": 97
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Output Conversion Process",
        "both",
        "conversion",
        "fastmcp",
        "func",
        "mcp",
        "metadata",
        "output",
        "server",
        "src",
        "utilities"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "overall": 0.7133333333333333
    }
  },
  {
    "text": "### Reserved Parameter Names  The system handles conflicts with Pydantic `BaseModel` methods by using aliases: ``` ``` **Alias Resolution Process:** ``` ``` This prevents Pydantic warnings about shadowing parent attributes while maintaining the original parameter names in the external API. Sources: [src/mcp/server/fastmcp/utilities/func\\_metadata.py240-252](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/utilities/func_metadata.py#L240-L252)",
    "metadata": {
      "chunk_id": "7a9af7269334-0020",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 20,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Reserved Parameter Names"
      ],
      "heading_text": "Reserved Parameter Names",
      "token_count": 109,
      "char_count": 485,
      "start_char": 15198,
      "end_char": 15683,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5328571428571428,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.533280",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 109,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Reserved Parameter Names",
      "chunk_hash": "cedb9d244e32bcb7",
      "content_digest": "cedb9d244e32bcb7",
      "chunk_length": 485,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "the",
          "parameter",
          "names",
          "pydantic",
          "src",
          "mcp",
          "server",
          "fastmcp",
          "utilities",
          "func",
          "metadata",
          "reserved",
          "system",
          "handles",
          "conflicts",
          "with",
          "basemodel",
          "methods",
          "using",
          "aliases"
        ],
        "term_weights": [
          {
            "term": "the",
            "tf": 3,
            "weight": 0.05
          },
          {
            "term": "parameter",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "names",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "pydantic",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "mcp",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "server",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "utilities",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "func",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "metadata",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "reserved",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "handles",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "conflicts",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "basemodel",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "methods",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "using",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "aliases",
            "tf": 1,
            "weight": 0.016667
          }
        ],
        "unique_terms": 48,
        "total_terms": 60
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Reserved Parameter Names",
        "fastmcp",
        "func",
        "mcp",
        "names",
        "parameter",
        "pydantic",
        "server",
        "src",
        "the",
        "utilities"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5328571428571428,
      "overall": 0.7109523809523809
    }
  },
  {
    "text": "### Async Function Support  Both sync and async functions are supported with automatic detection: ``` ``` Sources: [src/mcp/server/fastmcp/tools/base.py113-119](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/base.py#L113-L119)",
    "metadata": {
      "chunk_id": "7a9af7269334-0021",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 21,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Async Function Support"
      ],
      "heading_text": "Async Function Support",
      "token_count": 67,
      "char_count": 273,
      "start_char": 15690,
      "end_char": 15963,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.534061",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 67,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Async Function Support",
      "chunk_hash": "6b46b6f5bf447af2",
      "content_digest": "6b46b6f5bf447af2",
      "chunk_length": 273,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "async",
          "src",
          "mcp",
          "server",
          "fastmcp",
          "tools",
          "base",
          "function",
          "support",
          "both",
          "sync",
          "and",
          "functions",
          "are",
          "supported",
          "with",
          "automatic",
          "detection",
          "sources",
          "py113"
        ],
        "term_weights": [
          {
            "term": "async",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "mcp",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "server",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "tools",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "function",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "support",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "both",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "sync",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "functions",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "supported",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "automatic",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "detection",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "py113",
            "tf": 1,
            "weight": 0.026316
          }
        ],
        "unique_terms": 31,
        "total_terms": 38
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Async Function Support",
        "async",
        "base",
        "both",
        "fastmcp",
        "function",
        "mcp",
        "server",
        "src",
        "support",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "overall": 0.7188888888888888
    }
  },
  {
    "text": "### Tool Annotations  Tools support optional metadata through `ToolAnnotations`:  - `title`: Human-readable title - `readOnlyHint`: Indicates read-only operations - `openWorldHint`: Indicates open-world assumptions  Sources: [src/mcp/server/fastmcp/tools/base.py34](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/fastmcp/tools/base.py#L34-L34)  Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "7a9af7269334-0022",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "file_extension": ".md",
      "chunk_index": 22,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tool Annotations"
      ],
      "heading_text": "Tool Annotations",
      "token_count": 100,
      "char_count": 428,
      "start_char": 15967,
      "end_char": 16395,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5536363636363636,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.534399",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 100,
      "document_id": "7a9af7269334",
      "document_name": "_modelcontextprotocol_python-sdk_2.2-tool-management",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_filename": "_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_2.2-tool-management.md",
      "hierarchy_path": "Tool Annotations",
      "chunk_hash": "6f9fe727564e09b4",
      "content_digest": "6f9fe727564e09b4",
      "chunk_length": 428,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tools",
          "title",
          "indicates",
          "src",
          "mcp",
          "server",
          "fastmcp",
          "base",
          "l34",
          "refresh",
          "tool",
          "annotations",
          "support",
          "optional",
          "metadata",
          "through",
          "toolannotations",
          "human",
          "readable",
          "readonlyhint"
        ],
        "term_weights": [
          {
            "term": "tools",
            "tf": 3,
            "weight": 0.056604
          },
          {
            "term": "title",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "indicates",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "mcp",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "server",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "l34",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "tool",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "annotations",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "support",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "optional",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "metadata",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "toolannotations",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "human",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "readable",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "readonlyhint",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 42,
        "total_terms": 53
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tool Annotations",
        "base",
        "fastmcp",
        "indicates",
        "l34",
        "mcp",
        "refresh",
        "server",
        "src",
        "title",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5536363636363636,
      "overall": 0.7178787878787878
    }
  }
]