[
  {
    "text": "# Protocol & Message System  Relevant source files  - [README.md](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md) - [src/mcp/server/lowlevel/server.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/lowlevel/server.py) - [src/mcp/types.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py)  This page documents the core Model Context Protocol (MCP) message system, JSON-RPC foundation, and type system that enables communication between MCP clients and servers. This covers the fundamental protocol layer that underlies all MCP interactions. For high-level server development using decorators and simplified APIs, see [FastMCP Server Framework](modelcontextprotocol/python-sdk/2-fastmcp-server-framework.md). For transport-specific implementations like stdio, SSE, and StreamableHTTP, see [Transport Layer](modelcontextprotocol/python-sdk/5-transport-layer.md). For client-side message handling, see [Client Framework](modelcontextprotocol/python-sdk/3-client-framework.md).",
    "metadata": {
      "chunk_id": "8666ddb612b5-0000",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "file_extension": ".md",
      "chunk_index": 0,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Protocol & Message System"
      ],
      "heading_text": "Protocol & Message System",
      "token_count": 236,
      "char_count": 1068,
      "start_char": 3437,
      "end_char": 4505,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5187499999999999,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.774051",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 236,
      "document_id": "8666ddb612b5",
      "document_name": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "hierarchy_path": "Protocol & Message System",
      "chunk_hash": "b5580bb3cc12c92e",
      "content_digest": "b5580bb3cc12c92e",
      "chunk_length": 1068,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "server",
          "modelcontextprotocol",
          "python",
          "sdk",
          "src",
          "and",
          "framework",
          "protocol",
          "message",
          "system",
          "https",
          "github",
          "com",
          "blob",
          "146d7efb",
          "layer",
          "for",
          "see",
          "transport"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 7,
            "weight": 0.052239
          },
          {
            "term": "server",
            "tf": 7,
            "weight": 0.052239
          },
          {
            "term": "modelcontextprotocol",
            "tf": 6,
            "weight": 0.044776
          },
          {
            "term": "python",
            "tf": 6,
            "weight": 0.044776
          },
          {
            "term": "sdk",
            "tf": 6,
            "weight": 0.044776
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.029851
          },
          {
            "term": "and",
            "tf": 4,
            "weight": 0.029851
          },
          {
            "term": "framework",
            "tf": 4,
            "weight": 0.029851
          },
          {
            "term": "protocol",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "message",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "system",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "layer",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "see",
            "tf": 3,
            "weight": 0.022388
          },
          {
            "term": "transport",
            "tf": 3,
            "weight": 0.022388
          }
        ],
        "unique_terms": 65,
        "total_terms": 134
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Protocol & Message System",
        "and",
        "framework",
        "mcp",
        "message",
        "modelcontextprotocol",
        "protocol",
        "python",
        "sdk",
        "server",
        "src"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5187499999999999,
      "overall": 0.7062499999999999
    }
  },
  {
    "text": "## JSON-RPC Foundation  MCP is built on JSON-RPC 2.0, providing a standardized request-response and notification messaging pattern. The protocol defines four core message types that form the foundation of all MCP communication. ``` ``` **Sources:** [src/mcp/types.py124-193](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L124-L193) [src/mcp/shared/message.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/shared/message.py)  The base JSON-RPC types define the message structure:  - `JSONRPCRequest`: Request expecting a response, includes `id`, `method`, and `params` - `JSONRPCResponse`: Successful response with `id` and `result` - `JSONRPCError`: Error response with `id` and `error` containing code, message, and optional data - `JSONRPCNotification`: One-way message with `method` and `params`, no response expected",
    "metadata": {
      "chunk_id": "8666ddb612b5-0001",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "JSON-RPC Foundation"
      ],
      "heading_text": "JSON-RPC Foundation",
      "token_count": 212,
      "char_count": 884,
      "start_char": 4508,
      "end_char": 5392,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5057303370786517,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.776736",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 212,
      "document_id": "8666ddb612b5",
      "document_name": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "hierarchy_path": "JSON-RPC Foundation",
      "chunk_hash": "a4f32a7e7ba3efe1",
      "content_digest": "a4f32a7e7ba3efe1",
      "chunk_length": 884,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "and",
          "message",
          "response",
          "the",
          "types",
          "src",
          "json",
          "rpc",
          "with",
          "foundation",
          "request",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 6,
            "weight": 0.055046
          },
          {
            "term": "and",
            "tf": 6,
            "weight": 0.055046
          },
          {
            "term": "message",
            "tf": 6,
            "weight": 0.055046
          },
          {
            "term": "response",
            "tf": 5,
            "weight": 0.045872
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.036697
          },
          {
            "term": "types",
            "tf": 4,
            "weight": 0.036697
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.036697
          },
          {
            "term": "json",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "rpc",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "with",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "foundation",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "request",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.018349
          }
        ],
        "unique_terms": 61,
        "total_terms": 109
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "JSON-RPC Foundation",
        "and",
        "json",
        "mcp",
        "message",
        "response",
        "rpc",
        "src",
        "the",
        "types",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5057303370786517,
      "overall": 0.7019101123595505
    }
  },
  {
    "text": "## Protocol Message Hierarchy  MCP defines a structured hierarchy of message types that inherit from the JSON-RPC foundation, creating type-safe request and response patterns. ``` ``` **Sources:** [src/mcp/types.py82-122](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L82-L122) [src/mcp/types.py335-365](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L335-L365) [src/mcp/types.py815-922](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L815-L922)  Each protocol operation follows this pattern:  1. **Request class**: Defines the method name and parameter structure 2. **Parameter class**: Strongly-typed parameters extending `RequestParams` 3. **Result class**: Response structure extending `Result` 4. **Specialized handling**: Pagination, metadata, and protocol-specific features",
    "metadata": {
      "chunk_id": "8666ddb612b5-0002",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Protocol Message Hierarchy"
      ],
      "heading_text": "Protocol Message Hierarchy",
      "token_count": 216,
      "char_count": 886,
      "start_char": 5396,
      "end_char": 6282,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5326470588235294,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.780425",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 216,
      "document_id": "8666ddb612b5",
      "document_name": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "hierarchy_path": "Protocol Message Hierarchy",
      "chunk_hash": "6622b15cd7d44e79",
      "content_digest": "6622b15cd7d44e79",
      "chunk_length": 886,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "types",
          "src",
          "protocol",
          "and",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "class",
          "message",
          "hierarchy",
          "defines",
          "the",
          "request",
          "response"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 7,
            "weight": 0.061404
          },
          {
            "term": "types",
            "tf": 7,
            "weight": 0.061404
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.052632
          },
          {
            "term": "protocol",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "class",
            "tf": 3,
            "weight": 0.026316
          },
          {
            "term": "message",
            "tf": 2,
            "weight": 0.017544
          },
          {
            "term": "hierarchy",
            "tf": 2,
            "weight": 0.017544
          },
          {
            "term": "defines",
            "tf": 2,
            "weight": 0.017544
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.017544
          },
          {
            "term": "request",
            "tf": 2,
            "weight": 0.017544
          },
          {
            "term": "response",
            "tf": 2,
            "weight": 0.017544
          }
        ],
        "unique_terms": 65,
        "total_terms": 114
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Protocol Message Hierarchy",
        "and",
        "com",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "protocol",
        "python",
        "src",
        "types"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5326470588235294,
      "overall": 0.6775490196078432
    }
  },
  {
    "text": "## Core Protocol Operations  MCP defines several categories of protocol operations, each with specific request-response patterns and capabilities. ``` ``` **Sources:** [src/mcp/types.py345-365](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L345-L365) [src/mcp/types.py419-554](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L419-L554) [src/mcp/types.py815-922](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L815-L922) [src/mcp/types.py630-802](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L630-L802) [src/mcp/types.py1061-1081](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L1061-L1081)",
    "metadata": {
      "chunk_id": "8666ddb612b5-0003",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Core Protocol Operations"
      ],
      "heading_text": "Core Protocol Operations",
      "token_count": 216,
      "char_count": 766,
      "start_char": 6286,
      "end_char": 7052,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.566923076923077,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.782634",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 216,
      "document_id": "8666ddb612b5",
      "document_name": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "hierarchy_path": "Core Protocol Operations",
      "chunk_hash": "fdb151d15f8d27a6",
      "content_digest": "fdb151d15f8d27a6",
      "chunk_length": 766,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "src",
          "types",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "protocol",
          "operations",
          "core",
          "defines",
          "several",
          "categories",
          "each",
          "with",
          "specific"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 11,
            "weight": 0.101852
          },
          {
            "term": "src",
            "tf": 10,
            "weight": 0.092593
          },
          {
            "term": "types",
            "tf": 10,
            "weight": 0.092593
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.046296
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.046296
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.046296
          },
          {
            "term": "modelcontextprotocol",
            "tf": 5,
            "weight": 0.046296
          },
          {
            "term": "python",
            "tf": 5,
            "weight": 0.046296
          },
          {
            "term": "sdk",
            "tf": 5,
            "weight": 0.046296
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.046296
          },
          {
            "term": "146d7efb",
            "tf": 5,
            "weight": 0.046296
          },
          {
            "term": "protocol",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "operations",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "core",
            "tf": 1,
            "weight": 0.009259
          },
          {
            "term": "defines",
            "tf": 1,
            "weight": 0.009259
          },
          {
            "term": "several",
            "tf": 1,
            "weight": 0.009259
          },
          {
            "term": "categories",
            "tf": 1,
            "weight": 0.009259
          },
          {
            "term": "each",
            "tf": 1,
            "weight": 0.009259
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.009259
          },
          {
            "term": "specific",
            "tf": 1,
            "weight": 0.009259
          }
        ],
        "unique_terms": 46,
        "total_terms": 108
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Core Protocol Operations",
        "blob",
        "com",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "python",
        "sdk",
        "src",
        "types"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.566923076923077,
      "overall": 0.688974358974359
    }
  },
  {
    "text": "## Protocol Versioning and Capabilities  MCP uses semantic versioning and capability negotiation to ensure compatibility between clients and servers with different feature sets. ``` ``` **Sources:** [src/mcp/types.py26-34](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L26-L34) [src/mcp/types.py265-332](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L265-L332) [src/mcp/types.py335-365](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L335-L365)  Capability negotiation enables:  - **Protocol versioning**: Semantic version strings for compatibility checking - **Feature detection**: Clients and servers declare supported capabilities - **Graceful degradation**: Optional features can be disabled if not supported - **Extension points**: Experimental capabilities for new features",
    "metadata": {
      "chunk_id": "8666ddb612b5-0006",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Protocol Versioning and Capabilities"
      ],
      "heading_text": "Protocol Versioning and Capabilities",
      "token_count": 197,
      "char_count": 886,
      "start_char": 9009,
      "end_char": 9895,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5073913043478261,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.793377",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 197,
      "document_id": "8666ddb612b5",
      "document_name": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "hierarchy_path": "Protocol Versioning and Capabilities",
      "chunk_hash": "d31aa081bc235fc3",
      "content_digest": "d31aa081bc235fc3",
      "chunk_length": 886,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "src",
          "types",
          "and",
          "versioning",
          "capabilities",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "protocol",
          "semantic",
          "capability",
          "negotiation",
          "compatibility",
          "clients"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 7,
            "weight": 0.06422
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.055046
          },
          {
            "term": "types",
            "tf": 6,
            "weight": 0.055046
          },
          {
            "term": "and",
            "tf": 4,
            "weight": 0.036697
          },
          {
            "term": "versioning",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "capabilities",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.027523
          },
          {
            "term": "protocol",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "semantic",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "capability",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "negotiation",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "compatibility",
            "tf": 2,
            "weight": 0.018349
          },
          {
            "term": "clients",
            "tf": 2,
            "weight": 0.018349
          }
        ],
        "unique_terms": 59,
        "total_terms": 109
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Protocol Versioning and Capabilities",
        "and",
        "capabilities",
        "com",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "src",
        "types",
        "versioning"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5073913043478261,
      "overall": 0.7024637681159419
    }
  },
  {
    "text": "## Error Handling and Status Codes  MCP defines standardized error codes and error handling patterns based on JSON-RPC 2.0 specifications. ``` ``` **Sources:** [src/mcp/types.py149-179](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L149-L179) [src/mcp/server/lowlevel/server.py440-447](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/lowlevel/server.py#L440-L447) [src/mcp/shared/exceptions.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/shared/exceptions.py)  Error handling includes:  - **Standard JSON-RPC codes**: Parse, request, method, and parameter errors - **MCP-specific codes**: Connection and transport-related errors - **Structured error data**: Code, message, and optional additional data - **Exception mapping**: Python exceptions converted to MCP error responses  Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "8666ddb612b5-0007",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Error Handling and Status Codes"
      ],
      "heading_text": "Error Handling and Status Codes",
      "token_count": 220,
      "char_count": 927,
      "start_char": 9899,
      "end_char": 10826,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5008108108108108,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.798038",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 220,
      "document_id": "8666ddb612b5",
      "document_name": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "hierarchy_path": "Error Handling and Status Codes",
      "chunk_hash": "17ca93979cbad747",
      "content_digest": "17ca93979cbad747",
      "chunk_length": 927,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "error",
          "src",
          "and",
          "codes",
          "python",
          "server",
          "handling",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "sdk",
          "blob",
          "146d7efb",
          "exceptions",
          "json",
          "rpc",
          "types",
          "lowlevel"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 9,
            "weight": 0.075
          },
          {
            "term": "error",
            "tf": 6,
            "weight": 0.05
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.05
          },
          {
            "term": "and",
            "tf": 5,
            "weight": 0.041667
          },
          {
            "term": "codes",
            "tf": 4,
            "weight": 0.033333
          },
          {
            "term": "python",
            "tf": 4,
            "weight": 0.033333
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.033333
          },
          {
            "term": "handling",
            "tf": 3,
            "weight": 0.025
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.025
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.025
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.025
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.025
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.025
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.025
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.025
          },
          {
            "term": "exceptions",
            "tf": 3,
            "weight": 0.025
          },
          {
            "term": "json",
            "tf": 2,
            "weight": 0.016667
          },
          {
            "term": "rpc",
            "tf": 2,
            "weight": 0.016667
          },
          {
            "term": "types",
            "tf": 2,
            "weight": 0.016667
          },
          {
            "term": "lowlevel",
            "tf": 2,
            "weight": 0.016667
          }
        ],
        "unique_terms": 63,
        "total_terms": 120
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Error Handling and Status Codes",
        "and",
        "codes",
        "error",
        "github",
        "handling",
        "https",
        "mcp",
        "python",
        "server",
        "src"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5008108108108108,
      "overall": 0.7002702702702702
    }
  },
  {
    "text": "### On this page  - [Protocol & Message System](#protocol-message-system.md) - [JSON-RPC Foundation](#json-rpc-foundation.md) - [Protocol Message Hierarchy](#protocol-message-hierarchy.md) - [Core Protocol Operations](#core-protocol-operations.md) - [Message Processing Architecture](#message-processing-architecture.md) - [Content and Structured Output System](#content-and-structured-output-system.md) - [Protocol Versioning and Capabilities](#protocol-versioning-and-capabilities.md) - [Error Handling and Status Codes](#error-handling-and-status-codes.md)",
    "metadata": {
      "chunk_id": "8666ddb612b5-0008",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "On this page"
      ],
      "heading_text": "On this page",
      "token_count": 128,
      "char_count": 559,
      "start_char": 10830,
      "end_char": 11389,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5021951219512195,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.799144",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 128,
      "document_id": "8666ddb612b5",
      "document_name": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_filename": "_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_4-protocol-and-message-system.md",
      "hierarchy_path": "On this page",
      "chunk_hash": "aa31b92ef4c64e66",
      "content_digest": "aa31b92ef4c64e66",
      "chunk_length": 559,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "protocol",
          "message",
          "and",
          "system",
          "json",
          "rpc",
          "foundation",
          "hierarchy",
          "core",
          "operations",
          "processing",
          "architecture",
          "content",
          "structured",
          "output",
          "versioning",
          "capabilities",
          "error",
          "handling",
          "status"
        ],
        "term_weights": [
          {
            "term": "protocol",
            "tf": 8,
            "weight": 0.133333
          },
          {
            "term": "message",
            "tf": 6,
            "weight": 0.1
          },
          {
            "term": "and",
            "tf": 6,
            "weight": 0.1
          },
          {
            "term": "system",
            "tf": 4,
            "weight": 0.066667
          },
          {
            "term": "json",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "rpc",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "foundation",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "hierarchy",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "core",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "operations",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "processing",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "architecture",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "content",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "structured",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "output",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "versioning",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "capabilities",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "error",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "handling",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "status",
            "tf": 2,
            "weight": 0.033333
          }
        ],
        "unique_terms": 23,
        "total_terms": 60
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "On this page",
        "and",
        "core",
        "foundation",
        "hierarchy",
        "json",
        "message",
        "operations",
        "protocol",
        "rpc",
        "system"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5021951219512195,
      "overall": 0.7007317073170731
    }
  }
]