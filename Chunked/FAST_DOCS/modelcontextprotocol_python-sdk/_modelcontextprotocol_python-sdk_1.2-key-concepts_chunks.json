[
  {
    "text": "# Key Concepts  Relevant source files  - [README.md](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md) - [src/mcp/server/lowlevel/server.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/lowlevel/server.py) - [src/mcp/types.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py)  This document explains the fundamental concepts of the Model Context Protocol (MCP) Python SDK. It covers the core entities, protocol mechanics, and architectural patterns that developers need to understand when building MCP servers and clients. For specific implementation guidance on building servers, see [FastMCP Server Framework](modelcontextprotocol/python-sdk/2-fastmcp-server-framework.md). For client-side development, see [Client Framework](modelcontextprotocol/python-sdk/3-client-framework.md).",
    "metadata": {
      "chunk_id": "550290a63e62-0000",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 0,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Key Concepts"
      ],
      "heading_text": "Key Concepts",
      "token_count": 195,
      "char_count": 878,
      "start_char": 3424,
      "end_char": 4302,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.543125,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.354293",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 195,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Key Concepts",
      "chunk_hash": "5e0f7e7bdd293ea0",
      "content_digest": "5e0f7e7bdd293ea0",
      "chunk_length": 878,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "python",
          "sdk",
          "mcp",
          "server",
          "modelcontextprotocol",
          "src",
          "framework",
          "https",
          "github",
          "com",
          "blob",
          "146d7efb",
          "the",
          "client",
          "concepts",
          "readme",
          "lowlevel",
          "types",
          "protocol",
          "and"
        ],
        "term_weights": [
          {
            "term": "python",
            "tf": 6,
            "weight": 0.056075
          },
          {
            "term": "sdk",
            "tf": 6,
            "weight": 0.056075
          },
          {
            "term": "mcp",
            "tf": 6,
            "weight": 0.056075
          },
          {
            "term": "server",
            "tf": 6,
            "weight": 0.056075
          },
          {
            "term": "modelcontextprotocol",
            "tf": 5,
            "weight": 0.046729
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "framework",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "client",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "concepts",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "readme",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "lowlevel",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "types",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "protocol",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.018692
          }
        ],
        "unique_terms": 52,
        "total_terms": 107
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Key Concepts",
        "com",
        "framework",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "python",
        "sdk",
        "server",
        "src"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.543125,
      "overall": 0.714375
    }
  },
  {
    "text": "## MCP Protocol Overview  The Model Context Protocol enables standardized communication between Large Language Models and external systems. The protocol defines how clients (typically LLM applications) can discover and interact with servers that expose tools, data, and interaction patterns. ``` ``` **MCP Core Architecture**  Sources: [README.md84-194](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md#L84-L194) [src/mcp/types.py8-34](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L8-L34)",
    "metadata": {
      "chunk_id": "550290a63e62-0001",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "MCP Protocol Overview"
      ],
      "heading_text": "MCP Protocol Overview",
      "token_count": 127,
      "char_count": 551,
      "start_char": 4304,
      "end_char": 4855,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5517021276595745,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.357215",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 127,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "MCP Protocol Overview",
      "chunk_hash": "0c04a861c6c21aa1",
      "content_digest": "0c04a861c6c21aa1",
      "chunk_length": 551,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mcp",
          "protocol",
          "and",
          "the",
          "readme",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "src",
          "types",
          "overview",
          "model",
          "context",
          "enables",
          "standardized"
        ],
        "term_weights": [
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.055556
          },
          {
            "term": "protocol",
            "tf": 3,
            "weight": 0.041667
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.041667
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "readme",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "types",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "overview",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "context",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "enables",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "standardized",
            "tf": 1,
            "weight": 0.013889
          }
        ],
        "unique_terms": 53,
        "total_terms": 72
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "MCP Protocol Overview",
        "and",
        "com",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "protocol",
        "python",
        "readme",
        "the"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5517021276595745,
      "overall": 0.7172340425531915
    }
  },
  {
    "text": "### MCP Servers  Servers expose functionality and data to LLM applications. The MCP Python SDK provides two server implementation approaches:  - **FastMCP**: High-level decorator-based framework using `FastMCP` class - **Low-level Server**: Direct protocol implementation using `Server` class ``` ``` **Server Implementation Architecture**  Sources: [src/mcp/server/lowlevel/server.py1-66](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/lowlevel/server.py#L1-L66) [README.md198-265](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md#L198-L265)",
    "metadata": {
      "chunk_id": "550290a63e62-0003",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "MCP Servers"
      ],
      "heading_text": "MCP Servers",
      "token_count": 144,
      "char_count": 601,
      "start_char": 4883,
      "end_char": 5484,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5366666666666666,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.360862",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 144,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "MCP Servers",
      "chunk_hash": "4897302c505cc63d",
      "content_digest": "4897302c505cc63d",
      "chunk_length": 601,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "server",
          "mcp",
          "python",
          "sdk",
          "implementation",
          "servers",
          "fastmcp",
          "level",
          "using",
          "class",
          "src",
          "lowlevel",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "blob",
          "146d7efb",
          "readme",
          "expose"
        ],
        "term_weights": [
          {
            "term": "server",
            "tf": 8,
            "weight": 0.108108
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "implementation",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "servers",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "level",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "using",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "class",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "lowlevel",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "readme",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "expose",
            "tf": 1,
            "weight": 0.013514
          }
        ],
        "unique_terms": 44,
        "total_terms": 74
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "MCP Servers",
        "class",
        "fastmcp",
        "implementation",
        "level",
        "mcp",
        "python",
        "sdk",
        "server",
        "servers",
        "using"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5366666666666666,
      "overall": 0.7122222222222222
    }
  },
  {
    "text": "### MCP Clients\n\nClients connect to servers and facilitate communication with LLMs. The primary client implementation is `ClientSession`, which handles protocol negotiation, message routing, and connection management.\n\nSources: [README.md84-92](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md#L84-L92)",
    "metadata": {
      "chunk_id": "550290a63e62-0004",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "MCP Clients"
      ],
      "heading_text": "MCP Clients",
      "token_count": 71,
      "char_count": 328,
      "start_char": 5488,
      "end_char": 5816,
      "semantic_score": 0.6,
      "structural_score": 0.7,
      "retrieval_quality": 0.5693103448275862,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.361681",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 71,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "MCP Clients",
      "chunk_hash": "d53a5f49c48bde69",
      "content_digest": "d53a5f49c48bde69",
      "chunk_length": 328,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "clients",
          "and",
          "readme",
          "mcp",
          "connect",
          "servers",
          "facilitate",
          "communication",
          "with",
          "llms",
          "the",
          "primary",
          "client",
          "implementation",
          "clientsession",
          "which",
          "handles",
          "protocol",
          "negotiation",
          "message"
        ],
        "term_weights": [
          {
            "term": "clients",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "readme",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "mcp",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "connect",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "servers",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "facilitate",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "communication",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "llms",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "primary",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "client",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "implementation",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "clientsession",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "which",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "handles",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "protocol",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "negotiation",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "message",
            "tf": 1,
            "weight": 0.026316
          }
        ],
        "unique_terms": 35,
        "total_terms": 38
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "MCP Clients",
        "and",
        "clients",
        "communication",
        "connect",
        "facilitate",
        "llms",
        "mcp",
        "readme",
        "servers",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.7,
      "retrieval_quality": 0.5693103448275862,
      "overall": 0.6231034482758621
    }
  },
  {
    "text": "### Tools  Tools are executable functions that LLMs can call to perform actions or computations. They are defined using the `@tool` decorator in FastMCP or the `call_tool()` handler in low-level servers. ``` ``` **Tool Lifecycle and Processing**  Tools support both structured and unstructured output. The `CallToolResult` type includes both `content` (unstructured) and `structuredContent` (structured) fields for maximum compatibility. Sources: [README.md297-384](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md#L297-L384) [src/mcp/server/lowlevel/server.py465-547](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/lowlevel/server.py#L465-L547) [src/mcp/types.py869-922](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L869-L922)",
    "metadata": {
      "chunk_id": "550290a63e62-0006",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Tools"
      ],
      "heading_text": "Tools",
      "token_count": 208,
      "char_count": 823,
      "start_char": 5840,
      "end_char": 6663,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5367741935483871,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.364785",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 208,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Tools",
      "chunk_hash": "d4db86e484f32f2b",
      "content_digest": "d4db86e484f32f2b",
      "chunk_length": 823,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "mcp",
          "server",
          "tools",
          "the",
          "tool",
          "and",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "are",
          "call",
          "both",
          "structured",
          "unstructured"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "tools",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "tool",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "are",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "call",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "both",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "structured",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "unstructured",
            "tf": 2,
            "weight": 0.018692
          }
        ],
        "unique_terms": 66,
        "total_terms": 107
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Tools",
        "and",
        "com",
        "github",
        "https",
        "mcp",
        "server",
        "src",
        "the",
        "tool",
        "tools"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5367741935483871,
      "overall": 0.6789247311827956
    }
  },
  {
    "text": "### Resources  Resources provide read-only access to data that LLMs can consume. They are identified by URIs and can return text, binary data, or multiple content blocks. ``` ``` **Resource Architecture and Content Types**  Sources: [README.md266-296](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md#L266-L296) [src/mcp/types.py431-554](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L431-L554) [src/mcp/server/lowlevel/server.py311-367](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/lowlevel/server.py#L311-L367)",
    "metadata": {
      "chunk_id": "550290a63e62-0007",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Resources"
      ],
      "heading_text": "Resources",
      "token_count": 162,
      "char_count": 609,
      "start_char": 6668,
      "end_char": 7277,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5505263157894736,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.367374",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 162,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Resources",
      "chunk_hash": "0916f23ef208cfc0",
      "content_digest": "0916f23ef208cfc0",
      "chunk_length": 609,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "mcp",
          "server",
          "types",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "resources",
          "data",
          "can",
          "and",
          "content",
          "readme",
          "lowlevel",
          "provide"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 4,
            "weight": 0.047619
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.047619
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.047619
          },
          {
            "term": "types",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "resources",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "data",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "can",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "content",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "readme",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "lowlevel",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "provide",
            "tf": 1,
            "weight": 0.011905
          }
        ],
        "unique_terms": 50,
        "total_terms": 84
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Resources",
        "com",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "python",
        "sdk",
        "server",
        "src",
        "types"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5505263157894736,
      "overall": 0.6835087719298246
    }
  },
  {
    "text": "### Prompts  Prompts are reusable templates that help structure LLM interactions. They can include parameters and return formatted message sequences. ``` ``` **Prompt Template System**  Sources: [README.md490-517](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md#L490-L517) [src/mcp/types.py630-812](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L630-L812)",
    "metadata": {
      "chunk_id": "550290a63e62-0008",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Prompts"
      ],
      "heading_text": "Prompts",
      "token_count": 105,
      "char_count": 418,
      "start_char": 7281,
      "end_char": 7699,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5685714285714286,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.369871",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 105,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Prompts",
      "chunk_hash": "2d1b08bc6fe14a74",
      "content_digest": "2d1b08bc6fe14a74",
      "chunk_length": 418,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "prompts",
          "readme",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "src",
          "mcp",
          "types",
          "are",
          "reusable",
          "templates",
          "that",
          "help",
          "structure",
          "llm"
        ],
        "term_weights": [
          {
            "term": "prompts",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "readme",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "mcp",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "types",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "reusable",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "templates",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "that",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "help",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "structure",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "llm",
            "tf": 1,
            "weight": 0.018182
          }
        ],
        "unique_terms": 42,
        "total_terms": 55
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "146d7efb",
        "Prompts",
        "blob",
        "com",
        "github",
        "https",
        "modelcontextprotocol",
        "prompts",
        "python",
        "readme",
        "sdk"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5685714285714286,
      "overall": 0.6895238095238095
    }
  },
  {
    "text": "## Protocol and Message Flow  The MCP protocol uses JSON-RPC 2.0 for message exchange. Communication follows a request-response pattern with support for notifications. ``` ``` **MCP Protocol Message Flow**  The protocol supports several core message types defined in `types.py`:  - **Requests**: `ClientRequest`, `ServerRequest` - expect responses - **Notifications**: `ClientNotification`, `ServerNotification` - no response expected - **Results**: `ClientResult`, `ServerResult` - responses to requests  Sources: [src/mcp/types.py82-348](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L82-L348) [README.md25-194](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md#L25-L194)",
    "metadata": {
      "chunk_id": "550290a63e62-0009",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Protocol and Message Flow"
      ],
      "heading_text": "Protocol and Message Flow",
      "token_count": 175,
      "char_count": 734,
      "start_char": 7703,
      "end_char": 8437,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5207692307692308,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.373806",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 175,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Protocol and Message Flow",
      "chunk_hash": "e026fc3aa96144ec",
      "content_digest": "e026fc3aa96144ec",
      "chunk_length": 734,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "protocol",
          "message",
          "mcp",
          "types",
          "flow",
          "the",
          "for",
          "response",
          "notifications",
          "requests",
          "responses",
          "src",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb"
        ],
        "term_weights": [
          {
            "term": "protocol",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "message",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "types",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "flow",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "response",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "notifications",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "requests",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "responses",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "modelcontextprotocol",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "python",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "sdk",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "146d7efb",
            "tf": 2,
            "weight": 0.024096
          }
        ],
        "unique_terms": 54,
        "total_terms": 83
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Protocol and Message Flow",
        "flow",
        "for",
        "mcp",
        "message",
        "notifications",
        "protocol",
        "requests",
        "response",
        "the",
        "types"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5207692307692308,
      "overall": 0.7069230769230769
    }
  },
  {
    "text": "## Transport Layer  MCP supports multiple transport mechanisms for client-server communication: ``` ``` **Transport Layer Architecture**  Each transport provides bidirectional communication with different characteristics:  - **stdio**: Process-based communication via stdin/stdout - **SSE**: HTTP-based with server-sent events for real-time updates - **StreamableHTTP**: Advanced HTTP transport with session management and resumability  Sources: [src/mcp/types.py124-193](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/types.py#L124-L193) Transport architecture from overview diagrams",
    "metadata": {
      "chunk_id": "550290a63e62-0010",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Transport Layer"
      ],
      "heading_text": "Transport Layer",
      "token_count": 121,
      "char_count": 610,
      "start_char": 8441,
      "end_char": 9051,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5257142857142857,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.377330",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 121,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Transport Layer",
      "chunk_hash": "8a7499982819a3a0",
      "content_digest": "8a7499982819a3a0",
      "chunk_length": 610,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "transport",
          "mcp",
          "communication",
          "with",
          "layer",
          "for",
          "server",
          "architecture",
          "based",
          "http",
          "src",
          "types",
          "supports",
          "multiple",
          "mechanisms",
          "client",
          "each",
          "provides",
          "bidirectional",
          "different"
        ],
        "term_weights": [
          {
            "term": "transport",
            "tf": 6,
            "weight": 0.082192
          },
          {
            "term": "mcp",
            "tf": 3,
            "weight": 0.041096
          },
          {
            "term": "communication",
            "tf": 3,
            "weight": 0.041096
          },
          {
            "term": "with",
            "tf": 3,
            "weight": 0.041096
          },
          {
            "term": "layer",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "server",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "architecture",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "based",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "http",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "types",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "supports",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "mechanisms",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "client",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "each",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "bidirectional",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "different",
            "tf": 1,
            "weight": 0.013699
          }
        ],
        "unique_terms": 54,
        "total_terms": 73
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Transport Layer",
        "architecture",
        "based",
        "communication",
        "for",
        "http",
        "layer",
        "mcp",
        "server",
        "transport",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5257142857142857,
      "overall": 0.7419047619047618
    }
  },
  {
    "text": "## Server Implementations",
    "metadata": {
      "chunk_id": "550290a63e62-0011",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Server Implementations"
      ],
      "heading_text": "Server Implementations",
      "token_count": 4,
      "char_count": 25,
      "start_char": 9055,
      "end_char": 9080,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.377838",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 4,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Server Implementations",
      "chunk_hash": "9669555d28a8cda5",
      "content_digest": "9669555d28a8cda5",
      "chunk_length": 25,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "server",
          "implementations"
        ],
        "term_weights": [
          {
            "term": "server",
            "tf": 1,
            "weight": 0.5
          },
          {
            "term": "implementations",
            "tf": 1,
            "weight": 0.5
          }
        ],
        "unique_terms": 2,
        "total_terms": 2
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Server Implementations",
        "implementations",
        "server"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Low-level Server  The `Server` class provides direct access to the MCP protocol with explicit handler registration using decorators like `list_tools()`, `call_tool()`, etc. Sources: [src/mcp/server/lowlevel/server.py133-158](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/lowlevel/server.py#L133-L158) FastMCP concepts from overview diagrams",
    "metadata": {
      "chunk_id": "550290a63e62-0013",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Low-level Server"
      ],
      "heading_text": "Low-level Server",
      "token_count": 90,
      "char_count": 378,
      "start_char": 9312,
      "end_char": 9690,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.58,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.380199",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 90,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Low-level Server",
      "chunk_hash": "fa500360fa1240c2",
      "content_digest": "fa500360fa1240c2",
      "chunk_length": 378,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "server",
          "mcp",
          "the",
          "src",
          "lowlevel",
          "low",
          "level",
          "class",
          "provides",
          "direct",
          "access",
          "protocol",
          "with",
          "explicit",
          "handler",
          "registration",
          "using",
          "decorators",
          "like",
          "list"
        ],
        "term_weights": [
          {
            "term": "server",
            "tf": 6,
            "weight": 0.115385
          },
          {
            "term": "mcp",
            "tf": 3,
            "weight": 0.057692
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "lowlevel",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "low",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "level",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "direct",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "access",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "protocol",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "explicit",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "handler",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "registration",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "using",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "decorators",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "like",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "list",
            "tf": 1,
            "weight": 0.019231
          }
        ],
        "unique_terms": 42,
        "total_terms": 52
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Low-level Server",
        "class",
        "direct",
        "level",
        "low",
        "lowlevel",
        "mcp",
        "provides",
        "server",
        "src",
        "the"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.58,
      "overall": 0.7266666666666666
    }
  },
  {
    "text": "### Request Context  The `Context` object provides access to MCP capabilities and request metadata within tool and resource functions. ``` ``` **Context and Session Architecture**  The context system enables:  - **Logging**: Send log messages to clients via `LoggingMessageNotification` - **Progress**: Report operation progress via `ProgressNotification` - **Resource Access**: Read other resources via `ReadResourceRequest` - **User Interaction**: Request additional information via `ElicitRequest` - **LLM Sampling**: Generate text via `CreateMessageRequest`",
    "metadata": {
      "chunk_id": "550290a63e62-0015",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Request Context"
      ],
      "heading_text": "Request Context",
      "token_count": 107,
      "char_count": 561,
      "start_char": 9728,
      "end_char": 10289,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5194117647058824,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.383844",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 107,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Request Context",
      "chunk_hash": "db30a8905d217ba2",
      "content_digest": "db30a8905d217ba2",
      "chunk_length": 561,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "via",
          "context",
          "request",
          "and",
          "the",
          "access",
          "resource",
          "progress",
          "object",
          "provides",
          "mcp",
          "capabilities",
          "metadata",
          "within",
          "tool",
          "functions",
          "session",
          "architecture",
          "system",
          "enables"
        ],
        "term_weights": [
          {
            "term": "via",
            "tf": 5,
            "weight": 0.086207
          },
          {
            "term": "context",
            "tf": 4,
            "weight": 0.068966
          },
          {
            "term": "request",
            "tf": 3,
            "weight": 0.051724
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.051724
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.034483
          },
          {
            "term": "access",
            "tf": 2,
            "weight": 0.034483
          },
          {
            "term": "resource",
            "tf": 2,
            "weight": 0.034483
          },
          {
            "term": "progress",
            "tf": 2,
            "weight": 0.034483
          },
          {
            "term": "object",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "mcp",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "capabilities",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "metadata",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "within",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "tool",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "functions",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "session",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "enables",
            "tf": 1,
            "weight": 0.017241
          }
        ],
        "unique_terms": 43,
        "total_terms": 58
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Request Context",
        "access",
        "and",
        "context",
        "object",
        "progress",
        "provides",
        "request",
        "resource",
        "the",
        "via"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5194117647058824,
      "overall": 0.7398039215686274
    }
  },
  {
    "text": "### Session Lifecycle\n\nBoth `ClientSession` and `ServerSession` manage connection state, protocol version negotiation, and message routing throughout the connection lifetime.\n\nSources: [README.md580-646](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/README.md#L580-L646) [src/mcp/shared/context.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/shared/context.py) (referenced), [src/mcp/server/session.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/server/session.py) (referenced)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh",
    "metadata": {
      "chunk_id": "550290a63e62-0016",
      "source_file": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Session Lifecycle"
      ],
      "heading_text": "Session Lifecycle",
      "token_count": 144,
      "char_count": 608,
      "start_char": 10293,
      "end_char": 10901,
      "semantic_score": 0.6,
      "structural_score": 0.7,
      "retrieval_quality": 0.5635294117647058,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:10.384753",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 144,
      "document_id": "550290a63e62",
      "document_name": "_modelcontextprotocol_python-sdk_1.2-key-concepts",
      "source_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_filename": "_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "source_directory": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk",
      "relative_path": "Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_1.2-key-concepts.md",
      "hierarchy_path": "Session Lifecycle",
      "chunk_hash": "b932b35f132b0174",
      "content_digest": "b932b35f132b0174",
      "chunk_length": 608,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "mcp",
          "session",
          "https",
          "github",
          "com",
          "modelcontextprotocol",
          "python",
          "sdk",
          "blob",
          "146d7efb",
          "and",
          "connection",
          "readme",
          "shared",
          "context",
          "referenced",
          "server",
          "refresh",
          "lifecycle"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 4,
            "weight": 0.053333
          },
          {
            "term": "mcp",
            "tf": 4,
            "weight": 0.053333
          },
          {
            "term": "session",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "modelcontextprotocol",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "python",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "sdk",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "146d7efb",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "connection",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "readme",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "shared",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "context",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "referenced",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "server",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "lifecycle",
            "tf": 1,
            "weight": 0.013333
          }
        ],
        "unique_terms": 43,
        "total_terms": 75
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Session Lifecycle",
        "blob",
        "com",
        "github",
        "https",
        "mcp",
        "modelcontextprotocol",
        "python",
        "sdk",
        "session",
        "src"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.7,
      "retrieval_quality": 0.5635294117647058,
      "overall": 0.6211764705882352
    }
  }
]