[
  {
    "text": "## Purpose and Scope\n\nThis document covers deployment and production configuration for FastAPI applications, focusing on proxy integration, HTTPS handling, environment management, and production-ready response configuration. For information about background tasks and async processing patterns, see [Background Tasks](fastapi/fastapi/4.3-background-tasks.md). For database integration patterns in production, see [Database Integration](fastapi/fastapi/4.2-database-integration.md).\n\nThe material addresses the infrastructure layer concerns that arise when deploying FastAPI applications behind reverse proxies, load balancers, and TLS termination points in production environments.",
    "metadata": {
      "chunk_id": "f41de54d1a18-0001",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Purpose and Scope"
      ],
      "heading_text": "Purpose and Scope",
      "token_count": 118,
      "char_count": 681,
      "start_char": 4916,
      "end_char": 5597,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5441666666666667,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.034803",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 118,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "Purpose and Scope",
      "chunk_hash": "025c79491cad0818",
      "content_digest": "025c79491cad0818",
      "chunk_length": 681,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastapi",
          "and",
          "production",
          "integration",
          "for",
          "background",
          "tasks",
          "database",
          "configuration",
          "applications",
          "patterns",
          "see",
          "the",
          "purpose",
          "scope",
          "this",
          "document",
          "covers",
          "deployment",
          "focusing"
        ],
        "term_weights": [
          {
            "term": "fastapi",
            "tf": 6,
            "weight": 0.077922
          },
          {
            "term": "and",
            "tf": 5,
            "weight": 0.064935
          },
          {
            "term": "production",
            "tf": 4,
            "weight": 0.051948
          },
          {
            "term": "integration",
            "tf": 4,
            "weight": 0.051948
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.038961
          },
          {
            "term": "background",
            "tf": 3,
            "weight": 0.038961
          },
          {
            "term": "tasks",
            "tf": 3,
            "weight": 0.038961
          },
          {
            "term": "database",
            "tf": 3,
            "weight": 0.038961
          },
          {
            "term": "configuration",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "applications",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "patterns",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "see",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "purpose",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "scope",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "this",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "document",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "covers",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "deployment",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "focusing",
            "tf": 1,
            "weight": 0.012987
          }
        ],
        "unique_terms": 49,
        "total_terms": 77
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Purpose and Scope",
        "and",
        "applications",
        "background",
        "configuration",
        "database",
        "fastapi",
        "for",
        "integration",
        "production",
        "tasks"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5441666666666667,
      "overall": 0.7147222222222221
    }
  },
  {
    "text": "## Proxy Configuration",
    "metadata": {
      "chunk_id": "f41de54d1a18-0002",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Proxy Configuration"
      ],
      "heading_text": "Proxy Configuration",
      "token_count": 3,
      "char_count": 22,
      "start_char": 5599,
      "end_char": 5621,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.034888",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 3,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "Proxy Configuration",
      "chunk_hash": "639e43125bc621fb",
      "content_digest": "639e43125bc621fb",
      "chunk_length": 22,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "proxy",
          "configuration"
        ],
        "term_weights": [
          {
            "term": "proxy",
            "tf": 1,
            "weight": 0.5
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.5
          }
        ],
        "unique_terms": 2,
        "total_terms": 2
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Proxy Configuration",
        "configuration",
        "proxy"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Proxy Forwarded Headers  FastAPI applications commonly run behind reverse proxies like Traefik, Nginx, or cloud load balancers. These proxies forward requests to the application server but modify request metadata in the process. **Proxy Header Mechanism** ``` ``` The proxy sets three critical headers:  - `X-Forwarded-For`: Original client IP address - `X-Forwarded-Proto`: Original protocol (`https`) - `X-Forwarded-Host`: Original host domain  For security, FastAPI CLI requires explicit configuration to trust these headers using the `--forwarded-allow-ips` option. In production behind a trusted proxy, this is typically set to `--forwarded-allow-ips=\"*\"`. Sources: [docs/en/docs/advanced/behind-a-proxy.md7-99](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/behind-a-proxy.md#L7-L99) [docs/en/docs/deployment/https.md193-223](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/deployment/https.md#L193-L223)",
    "metadata": {
      "chunk_id": "f41de54d1a18-0003",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Proxy Forwarded Headers"
      ],
      "heading_text": "Proxy Forwarded Headers",
      "token_count": 244,
      "char_count": 952,
      "start_char": 5623,
      "end_char": 6575,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5333333333333333,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.036988",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 244,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "Proxy Forwarded Headers",
      "chunk_hash": "2c2756633e6aebc2",
      "content_digest": "2c2756633e6aebc2",
      "chunk_length": 952,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "proxy",
          "forwarded",
          "fastapi",
          "https",
          "behind",
          "the",
          "headers",
          "original",
          "proxies",
          "these",
          "for",
          "host",
          "allow",
          "ips",
          "advanced",
          "github",
          "com",
          "blob",
          "3e2dbf91"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 8,
            "weight": 0.067797
          },
          {
            "term": "proxy",
            "tf": 6,
            "weight": 0.050847
          },
          {
            "term": "forwarded",
            "tf": 6,
            "weight": 0.050847
          },
          {
            "term": "fastapi",
            "tf": 6,
            "weight": 0.050847
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.042373
          },
          {
            "term": "behind",
            "tf": 4,
            "weight": 0.033898
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.033898
          },
          {
            "term": "headers",
            "tf": 3,
            "weight": 0.025424
          },
          {
            "term": "original",
            "tf": 3,
            "weight": 0.025424
          },
          {
            "term": "proxies",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "these",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "host",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "allow",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "ips",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "advanced",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.016949
          }
        ],
        "unique_terms": 70,
        "total_terms": 118
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Proxy Forwarded Headers",
        "behind",
        "docs",
        "fastapi",
        "forwarded",
        "headers",
        "https",
        "original",
        "proxies",
        "proxy",
        "the"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5333333333333333,
      "overall": 0.7111111111111111
    }
  },
  {
    "text": "### Root Path Configuration  When applications are mounted under a path prefix (e.g., `/api/v1`), the `root_path` mechanism ensures correct URL generation for OpenAPI schemas and redirects. **Root Path Architecture** ``` ``` The `root_path` parameter can be configured in two ways:  1. **CLI Option**: `fastapi run --root-path /api/v1` 2. **Application Parameter**: `FastAPI(root_path=\"/api/v1\")`  The application uses `request.scope[\"root_path\"]` to access the current root path value for URL generation. Sources: [docs/en/docs/advanced/behind-a-proxy.md100-243](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/behind-a-proxy.md#L100-L243) [docs\\_src/behind\\_a\\_proxy/tutorial001.py1-9](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs_src/behind_a_proxy/tutorial001.py#L1-L9)",
    "metadata": {
      "chunk_id": "f41de54d1a18-0004",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Root Path Configuration"
      ],
      "heading_text": "Root Path Configuration",
      "token_count": 222,
      "char_count": 805,
      "start_char": 6581,
      "end_char": 7386,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7414705882352941,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.039281",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 222,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "Root Path Configuration",
      "chunk_hash": "d4aea61016a0f0cc",
      "content_digest": "d4aea61016a0f0cc",
      "chunk_length": 805,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "path",
          "root",
          "fastapi",
          "docs",
          "the",
          "behind",
          "proxy",
          "api",
          "url",
          "generation",
          "for",
          "parameter",
          "application",
          "advanced",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "src"
        ],
        "term_weights": [
          {
            "term": "path",
            "tf": 9,
            "weight": 0.086538
          },
          {
            "term": "root",
            "tf": 8,
            "weight": 0.076923
          },
          {
            "term": "fastapi",
            "tf": 6,
            "weight": 0.057692
          },
          {
            "term": "docs",
            "tf": 6,
            "weight": 0.057692
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.038462
          },
          {
            "term": "behind",
            "tf": 4,
            "weight": 0.038462
          },
          {
            "term": "proxy",
            "tf": 4,
            "weight": 0.038462
          },
          {
            "term": "api",
            "tf": 3,
            "weight": 0.028846
          },
          {
            "term": "url",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "generation",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "parameter",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "application",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "advanced",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.019231
          }
        ],
        "unique_terms": 55,
        "total_terms": 104
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Root Path Configuration",
        "api",
        "behind",
        "docs",
        "fastapi",
        "generation",
        "path",
        "proxy",
        "root",
        "the",
        "url"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7414705882352941,
      "overall": 0.7804901960784313
    }
  },
  {
    "text": "### Certificate Handling  HTTPS certificates in production are typically managed by the TLS termination proxy rather than the FastAPI application directly. The proxy handles the TLS handshake and certificate validation process. **Certificate Lifecycle Management** ``` ``` Certificate properties:  - **Domain Association**: Certificates are tied to specific domains, not IP addresses - **Expiration**: Typically 90 days for Let's Encrypt certificates - **Validation**: Requires proof of domain ownership for renewal - **SNI Support**: Single proxy can handle multiple domain certificates  Sources: [docs/en/docs/deployment/https.md46-59](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/deployment/https.md#L46-L59) [docs/en/docs/deployment/https.md170-192](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/deployment/https.md#L170-L192)",
    "metadata": {
      "chunk_id": "f41de54d1a18-0007",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Certificate Handling"
      ],
      "heading_text": "Certificate Handling",
      "token_count": 188,
      "char_count": 863,
      "start_char": 8233,
      "end_char": 9096,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5196296296296296,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.043603",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 188,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "Certificate Handling",
      "chunk_hash": "416dc906598be6c8",
      "content_digest": "416dc906598be6c8",
      "chunk_length": 863,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "https",
          "fastapi",
          "certificate",
          "certificates",
          "the",
          "deployment",
          "proxy",
          "domain",
          "are",
          "typically",
          "tls",
          "validation",
          "for",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "handling",
          "production"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 8,
            "weight": 0.07767
          },
          {
            "term": "https",
            "tf": 7,
            "weight": 0.067961
          },
          {
            "term": "fastapi",
            "tf": 5,
            "weight": 0.048544
          },
          {
            "term": "certificate",
            "tf": 4,
            "weight": 0.038835
          },
          {
            "term": "certificates",
            "tf": 4,
            "weight": 0.038835
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.038835
          },
          {
            "term": "deployment",
            "tf": 4,
            "weight": 0.038835
          },
          {
            "term": "proxy",
            "tf": 3,
            "weight": 0.029126
          },
          {
            "term": "domain",
            "tf": 3,
            "weight": 0.029126
          },
          {
            "term": "are",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "typically",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "tls",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "validation",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "handling",
            "tf": 1,
            "weight": 0.009709
          },
          {
            "term": "production",
            "tf": 1,
            "weight": 0.009709
          }
        ],
        "unique_terms": 61,
        "total_terms": 103
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Certificate Handling",
        "are",
        "certificate",
        "certificates",
        "deployment",
        "docs",
        "domain",
        "fastapi",
        "https",
        "proxy",
        "the"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5196296296296296,
      "overall": 0.7065432098765432
    }
  },
  {
    "text": "### TLS Handshake Process  The TLS handshake establishes encrypted communication before HTTP traffic flows. Understanding this process is crucial for debugging production connectivity issues. **TLS Handshake Sequence** ``` ``` Key handshake components:  - **SNI Extension**: Allows proxy to select correct certificate for domain - **Certificate Verification**: Client validates certificate against trusted authorities - **Key Exchange**: Establishes symmetric encryption keys for session - **HTTP Over TLS**: Application-layer HTTP runs over encrypted TCP connection  Sources: [docs/en/docs/deployment/https.md90-129](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/deployment/https.md#L90-L129) [docs/en/docs/deployment/https.md130-159](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/deployment/https.md#L130-L159)",
    "metadata": {
      "chunk_id": "f41de54d1a18-0008",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "TLS Handshake Process"
      ],
      "heading_text": "TLS Handshake Process",
      "token_count": 181,
      "char_count": 844,
      "start_char": 9101,
      "end_char": 9945,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.526,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.045905",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 181,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "TLS Handshake Process",
      "chunk_hash": "1081c479d2e6f530",
      "content_digest": "1081c479d2e6f530",
      "chunk_length": 844,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "https",
          "tls",
          "handshake",
          "deployment",
          "fastapi",
          "http",
          "for",
          "certificate",
          "process",
          "establishes",
          "encrypted",
          "key",
          "over",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "the",
          "communication"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 8,
            "weight": 0.07767
          },
          {
            "term": "https",
            "tf": 6,
            "weight": 0.058252
          },
          {
            "term": "tls",
            "tf": 4,
            "weight": 0.038835
          },
          {
            "term": "handshake",
            "tf": 4,
            "weight": 0.038835
          },
          {
            "term": "deployment",
            "tf": 4,
            "weight": 0.038835
          },
          {
            "term": "fastapi",
            "tf": 4,
            "weight": 0.038835
          },
          {
            "term": "http",
            "tf": 3,
            "weight": 0.029126
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.029126
          },
          {
            "term": "certificate",
            "tf": 3,
            "weight": 0.029126
          },
          {
            "term": "process",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "establishes",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "encrypted",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "key",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "over",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.019417
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.009709
          },
          {
            "term": "communication",
            "tf": 1,
            "weight": 0.009709
          }
        ],
        "unique_terms": 64,
        "total_terms": 103
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "TLS Handshake Process",
        "certificate",
        "deployment",
        "docs",
        "fastapi",
        "for",
        "handshake",
        "http",
        "https",
        "process",
        "tls"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.526,
      "overall": 0.7086666666666667
    }
  },
  {
    "text": "### Pydantic Settings  Production FastAPI applications use `pydantic-settings` for configuration management, allowing environment variables to be validated and type-converted automatically. **Settings Architecture** ``` ``` Key configuration patterns:  - **Environment Variables**: Automatically read and converted to appropriate types - **Dependency Injection**: Settings provided via dependency for easy testing overrides - **Caching**: `@lru_cache` decorator prevents repeated file reads - **Validation**: Pydantic validation rules applied to all configuration values  Sources: [docs/en/docs/advanced/settings.md55-122](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/settings.md#L55-L122) [docs/en/docs/advanced/settings.md141-182](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/settings.md#L141-L182)",
    "metadata": {
      "chunk_id": "f41de54d1a18-0010",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pydantic Settings"
      ],
      "heading_text": "Pydantic Settings",
      "token_count": 184,
      "char_count": 852,
      "start_char": 9990,
      "end_char": 10842,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5378260869565217,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.048259",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 184,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "Pydantic Settings",
      "chunk_hash": "a05236f61dcf404d",
      "content_digest": "a05236f61dcf404d",
      "chunk_length": 852,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "settings",
          "docs",
          "fastapi",
          "advanced",
          "pydantic",
          "configuration",
          "for",
          "environment",
          "variables",
          "and",
          "converted",
          "automatically",
          "dependency",
          "validation",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "production"
        ],
        "term_weights": [
          {
            "term": "settings",
            "tf": 8,
            "weight": 0.082474
          },
          {
            "term": "docs",
            "tf": 8,
            "weight": 0.082474
          },
          {
            "term": "fastapi",
            "tf": 5,
            "weight": 0.051546
          },
          {
            "term": "advanced",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "pydantic",
            "tf": 3,
            "weight": 0.030928
          },
          {
            "term": "configuration",
            "tf": 3,
            "weight": 0.030928
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "environment",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "variables",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "converted",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "automatically",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "dependency",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "validation",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "production",
            "tf": 1,
            "weight": 0.010309
          }
        ],
        "unique_terms": 59,
        "total_terms": 97
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pydantic Settings",
        "advanced",
        "and",
        "configuration",
        "docs",
        "environment",
        "fastapi",
        "for",
        "pydantic",
        "settings",
        "variables"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5378260869565217,
      "overall": 0.7126086956521739
    }
  },
  {
    "text": "### Environment Variables  Production deployments typically separate configuration from code using environment variables or `.env` files. **Configuration Loading Process** ``` ``` Configuration best practices:  - **Separation**: Keep secrets in environment variables, not code - **Type Safety**: Use Pydantic models for automatic validation and conversion - **Testing**: Override settings via dependency injection in tests - **Performance**: Cache settings object to avoid repeated environment reads  Sources: [docs/en/docs/advanced/settings.md183-275](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/settings.md#L183-L275) [docs/en/docs/advanced/settings.md250-275](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/settings.md#L250-L275)",
    "metadata": {
      "chunk_id": "f41de54d1a18-0011",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Environment Variables"
      ],
      "heading_text": "Environment Variables",
      "token_count": 168,
      "char_count": 783,
      "start_char": 10847,
      "end_char": 11630,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7354545454545455,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.050458",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 168,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "Environment Variables",
      "chunk_hash": "06fb966c3ca5ee9f",
      "content_digest": "06fb966c3ca5ee9f",
      "chunk_length": 783,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "settings",
          "environment",
          "advanced",
          "fastapi",
          "variables",
          "configuration",
          "code",
          "275",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "l275",
          "production",
          "deployments",
          "typically",
          "separate",
          "from"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 8,
            "weight": 0.087912
          },
          {
            "term": "settings",
            "tf": 6,
            "weight": 0.065934
          },
          {
            "term": "environment",
            "tf": 4,
            "weight": 0.043956
          },
          {
            "term": "advanced",
            "tf": 4,
            "weight": 0.043956
          },
          {
            "term": "fastapi",
            "tf": 4,
            "weight": 0.043956
          },
          {
            "term": "variables",
            "tf": 3,
            "weight": 0.032967
          },
          {
            "term": "configuration",
            "tf": 3,
            "weight": 0.032967
          },
          {
            "term": "code",
            "tf": 2,
            "weight": 0.021978
          },
          {
            "term": "275",
            "tf": 2,
            "weight": 0.021978
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.021978
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.021978
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.021978
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.021978
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.021978
          },
          {
            "term": "l275",
            "tf": 2,
            "weight": 0.021978
          },
          {
            "term": "production",
            "tf": 1,
            "weight": 0.010989
          },
          {
            "term": "deployments",
            "tf": 1,
            "weight": 0.010989
          },
          {
            "term": "typically",
            "tf": 1,
            "weight": 0.010989
          },
          {
            "term": "separate",
            "tf": 1,
            "weight": 0.010989
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.010989
          }
        ],
        "unique_terms": 58,
        "total_terms": 91
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "275",
        "Environment Variables",
        "advanced",
        "code",
        "configuration",
        "docs",
        "environment",
        "fastapi",
        "https",
        "settings",
        "variables"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7354545454545455,
      "overall": 0.7784848484848484
    }
  },
  {
    "text": "### Common Architectures  Production FastAPI deployments follow established patterns that separate concerns between proxy handling, application serving, and data storage. **Multi-Service Production Architecture** ``` ``` Architecture components:  - **Load Balancer**: Distributes traffic across multiple proxy instances - **Reverse Proxy**: Handles TLS termination, static file serving, request routing - **Application Instances**: Multiple FastAPI processes for horizontal scaling - **Shared Data Layer**: Database and cache accessible to all application instances  Sources: [docs/en/docs/deployment/https.md160-169](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/deployment/https.md#L160-L169) [docs/en/docs/advanced/behind-a-proxy.md387-458](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/behind-a-proxy.md#L387-L458)",
    "metadata": {
      "chunk_id": "f41de54d1a18-0013",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Common Architectures"
      ],
      "heading_text": "Common Architectures",
      "token_count": 188,
      "char_count": 859,
      "start_char": 11670,
      "end_char": 12529,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5350704225352113,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.052991",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 188,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "Common Architectures",
      "chunk_hash": "a2c9b0d07153101b",
      "content_digest": "a2c9b0d07153101b",
      "chunk_length": 859,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "fastapi",
          "proxy",
          "https",
          "application",
          "instances",
          "production",
          "serving",
          "and",
          "data",
          "architecture",
          "multiple",
          "deployment",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "advanced",
          "behind",
          "common"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 8,
            "weight": 0.078431
          },
          {
            "term": "fastapi",
            "tf": 6,
            "weight": 0.058824
          },
          {
            "term": "proxy",
            "tf": 5,
            "weight": 0.04902
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "application",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "instances",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "production",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "serving",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "data",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "architecture",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "multiple",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "deployment",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "advanced",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "behind",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "common",
            "tf": 1,
            "weight": 0.009804
          }
        ],
        "unique_terms": 66,
        "total_terms": 102
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Common Architectures",
        "and",
        "application",
        "data",
        "docs",
        "fastapi",
        "https",
        "instances",
        "production",
        "proxy",
        "serving"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5350704225352113,
      "overall": 0.7116901408450703
    }
  },
  {
    "text": "### Response Configuration  Production applications often require custom response handling for performance, caching, or format requirements. **Response Class Hierarchy** ``` ``` Production response considerations:  - **Performance**: `ORJSONResponse` for high-throughput JSON APIs - **Streaming**: `StreamingResponse` for large files or real-time data - **Custom Headers**: Direct `Response` usage for cache control, CORS - **Default Response Class**: Set at application level via `default_response_class`  Sources: [docs/en/docs/advanced/custom-response.md21-49](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/custom-response.md#L21-L49) [docs/en/docs/advanced/custom-response.md216-246](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/custom-response.md#L216-L246) [docs/en/docs/advanced/custom-response.md295-309](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/custom-response.md#L295-L309)  Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "f41de54d1a18-0014",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Response Configuration"
      ],
      "heading_text": "Response Configuration",
      "token_count": 238,
      "char_count": 1016,
      "start_char": 12534,
      "end_char": 13550,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5358333333333333,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:02.055677",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 238,
      "document_id": "f41de54d1a18",
      "document_name": "_fastapi_fastapi_4.4-deployment-and-production-considerations",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_filename": "_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.4-deployment-and-production-considerations.md",
      "hierarchy_path": "Response Configuration",
      "chunk_hash": "03bd4442c53ac27f",
      "content_digest": "03bd4442c53ac27f",
      "chunk_length": 1016,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "response",
          "docs",
          "custom",
          "advanced",
          "fastapi",
          "for",
          "class",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "production",
          "performance",
          "default",
          "refresh",
          "configuration",
          "applications",
          "often",
          "require"
        ],
        "term_weights": [
          {
            "term": "response",
            "tf": 13,
            "weight": 0.104839
          },
          {
            "term": "docs",
            "tf": 12,
            "weight": 0.096774
          },
          {
            "term": "custom",
            "tf": 8,
            "weight": 0.064516
          },
          {
            "term": "advanced",
            "tf": 6,
            "weight": 0.048387
          },
          {
            "term": "fastapi",
            "tf": 6,
            "weight": 0.048387
          },
          {
            "term": "for",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "class",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "3e2dbf91",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "production",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "performance",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "default",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.008065
          },
          {
            "term": "applications",
            "tf": 1,
            "weight": 0.008065
          },
          {
            "term": "often",
            "tf": 1,
            "weight": 0.008065
          },
          {
            "term": "require",
            "tf": 1,
            "weight": 0.008065
          }
        ],
        "unique_terms": 65,
        "total_terms": 124
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Response Configuration",
        "advanced",
        "class",
        "com",
        "custom",
        "docs",
        "fastapi",
        "for",
        "github",
        "https",
        "response"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5358333333333333,
      "overall": 0.7119444444444444
    }
  }
]