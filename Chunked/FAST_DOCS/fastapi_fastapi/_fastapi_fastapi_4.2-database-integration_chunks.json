[
  {
    "text": "## Overview\n\nFastAPI provides flexible database integration through SQLModel, which combines SQLAlchemy's database capabilities with Pydantic's validation features. The integration supports both simple single-model approaches and sophisticated multi-model patterns for production applications.",
    "metadata": {
      "chunk_id": "f38a85409593-0001",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Overview"
      ],
      "heading_text": "Overview",
      "token_count": 44,
      "char_count": 293,
      "start_char": 4543,
      "end_char": 4836,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.57125,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.942177",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 44,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Overview",
      "chunk_hash": "b875c74902160187",
      "content_digest": "b875c74902160187",
      "chunk_length": 293,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "database",
          "integration",
          "model",
          "overview",
          "fastapi",
          "provides",
          "flexible",
          "through",
          "sqlmodel",
          "which",
          "combines",
          "sqlalchemy",
          "capabilities",
          "with",
          "pydantic",
          "validation",
          "features",
          "the",
          "supports",
          "both"
        ],
        "term_weights": [
          {
            "term": "database",
            "tf": 2,
            "weight": 0.060606
          },
          {
            "term": "integration",
            "tf": 2,
            "weight": 0.060606
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.060606
          },
          {
            "term": "overview",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "fastapi",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "flexible",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "sqlmodel",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "which",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "combines",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "sqlalchemy",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "capabilities",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "pydantic",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "validation",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "features",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "supports",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "both",
            "tf": 1,
            "weight": 0.030303
          }
        ],
        "unique_terms": 30,
        "total_terms": 33
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Overview",
        "database",
        "fastapi",
        "flexible",
        "integration",
        "model",
        "overview",
        "provides",
        "sqlmodel",
        "through",
        "which"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.57125,
      "overall": 0.7570833333333332
    }
  },
  {
    "text": "## Database Integration Architecture ``` ``` **Database Integration Flow in FastAPI**  This architecture shows how FastAPI integrates with databases through SQLModel, which serves as an abstraction layer over SQLAlchemy while providing Pydantic validation capabilities. Sources: [docs/en/docs/tutorial/sql-databases.md1-358](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L1-L358)",
    "metadata": {
      "chunk_id": "f38a85409593-0002",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Database Integration Architecture"
      ],
      "heading_text": "Database Integration Architecture",
      "token_count": 89,
      "char_count": 421,
      "start_char": 4838,
      "end_char": 5259,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.765,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.943825",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 89,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Database Integration Architecture",
      "chunk_hash": "f91047159b412a38",
      "content_digest": "f91047159b412a38",
      "chunk_length": 421,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastapi",
          "docs",
          "databases",
          "database",
          "integration",
          "architecture",
          "tutorial",
          "sql",
          "flow",
          "this",
          "shows",
          "how",
          "integrates",
          "with",
          "through",
          "sqlmodel",
          "which",
          "serves",
          "abstraction",
          "layer"
        ],
        "term_weights": [
          {
            "term": "fastapi",
            "tf": 4,
            "weight": 0.081633
          },
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.081633
          },
          {
            "term": "databases",
            "tf": 3,
            "weight": 0.061224
          },
          {
            "term": "database",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "integration",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "architecture",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "flow",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "this",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "shows",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "how",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "integrates",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "sqlmodel",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "which",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "serves",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "abstraction",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "layer",
            "tf": 1,
            "weight": 0.020408
          }
        ],
        "unique_terms": 36,
        "total_terms": 49
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Database Integration Architecture",
        "architecture",
        "database",
        "databases",
        "docs",
        "fastapi",
        "flow",
        "integration",
        "sql",
        "this",
        "tutorial"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.765,
      "overall": 0.7883333333333332
    }
  },
  {
    "text": "## SQLModel Foundation\n\nSQLModel serves as the primary database integration tool, combining SQLAlchemy's ORM capabilities with Pydantic's data validation. The framework distinguishes between table models and data models.",
    "metadata": {
      "chunk_id": "f38a85409593-0003",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "SQLModel Foundation"
      ],
      "heading_text": "SQLModel Foundation",
      "token_count": 39,
      "char_count": 220,
      "start_char": 5264,
      "end_char": 5484,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5578571428571428,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.944252",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 39,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "SQLModel Foundation",
      "chunk_hash": "b47dbf0ac73c3944",
      "content_digest": "b47dbf0ac73c3944",
      "chunk_length": 220,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "sqlmodel",
          "the",
          "data",
          "models",
          "foundation",
          "serves",
          "primary",
          "database",
          "integration",
          "tool",
          "combining",
          "sqlalchemy",
          "orm",
          "capabilities",
          "with",
          "pydantic",
          "validation",
          "framework",
          "distinguishes",
          "between"
        ],
        "term_weights": [
          {
            "term": "sqlmodel",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "data",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "models",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "foundation",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "serves",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "primary",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "database",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "integration",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "tool",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "combining",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "sqlalchemy",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "orm",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "capabilities",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "pydantic",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "validation",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "framework",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "distinguishes",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "between",
            "tf": 1,
            "weight": 0.038462
          }
        ],
        "unique_terms": 22,
        "total_terms": 26
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "SQLModel Foundation",
        "data",
        "database",
        "foundation",
        "integration",
        "models",
        "primary",
        "serves",
        "sqlmodel",
        "the",
        "tool"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5578571428571428,
      "overall": 0.7192857142857143
    }
  },
  {
    "text": "### Model Types ``` ``` **SQLModel Model Hierarchy**  Table models represent actual database tables with `table=True`, while data models handle API serialization and validation without direct database mapping. Sources: [docs/en/docs/tutorial/sql-databases.md182-187](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L182-L187)",
    "metadata": {
      "chunk_id": "f38a85409593-0004",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Model Types"
      ],
      "heading_text": "Model Types",
      "token_count": 82,
      "char_count": 365,
      "start_char": 5486,
      "end_char": 5851,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.75,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.945828",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 82,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Model Types",
      "chunk_hash": "f13fb02b304317ac",
      "content_digest": "f13fb02b304317ac",
      "chunk_length": 365,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "model",
          "table",
          "models",
          "database",
          "tutorial",
          "sql",
          "databases",
          "fastapi",
          "types",
          "sqlmodel",
          "hierarchy",
          "represent",
          "actual",
          "tables",
          "with",
          "true",
          "while",
          "data",
          "handle"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.083333
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.041667
          },
          {
            "term": "table",
            "tf": 2,
            "weight": 0.041667
          },
          {
            "term": "models",
            "tf": 2,
            "weight": 0.041667
          },
          {
            "term": "database",
            "tf": 2,
            "weight": 0.041667
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.041667
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.041667
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.041667
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.041667
          },
          {
            "term": "types",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "sqlmodel",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "hierarchy",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "represent",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "actual",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "tables",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "true",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "while",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "data",
            "tf": 1,
            "weight": 0.020833
          },
          {
            "term": "handle",
            "tf": 1,
            "weight": 0.020833
          }
        ],
        "unique_terms": 37,
        "total_terms": 48
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Model Types",
        "database",
        "databases",
        "docs",
        "fastapi",
        "model",
        "models",
        "sql",
        "table",
        "tutorial",
        "types"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.75,
      "overall": 0.7833333333333332
    }
  },
  {
    "text": "### Engine Configuration  The database engine manages connections to the database. FastAPI applications typically create a single engine instance shared across the application. ``` ``` **Engine and Session Creation Flow**  The engine configuration includes thread safety settings for SQLite and connection pooling for production databases. Sources: [docs/en/docs/tutorial/sql-databases.md74-84](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L74-L84)",
    "metadata": {
      "chunk_id": "f38a85409593-0006",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Engine Configuration"
      ],
      "heading_text": "Engine Configuration",
      "token_count": 98,
      "char_count": 491,
      "start_char": 5890,
      "end_char": 6381,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7261702127659574,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.947853",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 98,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Engine Configuration",
      "chunk_hash": "deafae3698c2badd",
      "content_digest": "deafae3698c2badd",
      "chunk_length": 491,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "engine",
          "the",
          "docs",
          "fastapi",
          "databases",
          "configuration",
          "database",
          "and",
          "for",
          "tutorial",
          "sql",
          "manages",
          "connections",
          "applications",
          "typically",
          "create",
          "single",
          "instance",
          "shared",
          "across"
        ],
        "term_weights": [
          {
            "term": "engine",
            "tf": 5,
            "weight": 0.081967
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "fastapi",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "databases",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "configuration",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "database",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "manages",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "connections",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "applications",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "typically",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "create",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "single",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "instance",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "shared",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "across",
            "tf": 1,
            "weight": 0.016393
          }
        ],
        "unique_terms": 41,
        "total_terms": 61
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Engine Configuration",
        "and",
        "configuration",
        "database",
        "databases",
        "docs",
        "engine",
        "fastapi",
        "for",
        "the",
        "tutorial"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7261702127659574,
      "overall": 0.7753900709219858
    }
  },
  {
    "text": "### Session Dependency Pattern  FastAPI uses dependency injection to provide database sessions to path operations: ``` ``` **Session Dependency Lifecycle**  Each request receives its own session instance through the dependency injection system, ensuring proper transaction isolation. Sources: [docs/en/docs/tutorial/sql-databases.md92-100](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L92-L100)",
    "metadata": {
      "chunk_id": "f38a85409593-0007",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Session Dependency Pattern"
      ],
      "heading_text": "Session Dependency Pattern",
      "token_count": 89,
      "char_count": 437,
      "start_char": 6386,
      "end_char": 6823,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7347368421052631,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.949519",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 89,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Session Dependency Pattern",
      "chunk_hash": "c8b7df4b908d5d1b",
      "content_digest": "c8b7df4b908d5d1b",
      "chunk_length": 437,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "dependency",
          "docs",
          "session",
          "fastapi",
          "injection",
          "tutorial",
          "sql",
          "databases",
          "pattern",
          "uses",
          "provide",
          "database",
          "sessions",
          "path",
          "operations",
          "lifecycle",
          "each",
          "request",
          "receives",
          "its"
        ],
        "term_weights": [
          {
            "term": "dependency",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "session",
            "tf": 3,
            "weight": 0.056604
          },
          {
            "term": "fastapi",
            "tf": 3,
            "weight": 0.056604
          },
          {
            "term": "injection",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "pattern",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "provide",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "database",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "sessions",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "path",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "operations",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "lifecycle",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "each",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "request",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "receives",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "its",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 39,
        "total_terms": 53
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Session Dependency Pattern",
        "databases",
        "dependency",
        "docs",
        "fastapi",
        "injection",
        "pattern",
        "session",
        "sql",
        "tutorial",
        "uses"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7347368421052631,
      "overall": 0.7782456140350877
    }
  },
  {
    "text": "## Model Patterns",
    "metadata": {
      "chunk_id": "f38a85409593-0008",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Model Patterns"
      ],
      "heading_text": "Model Patterns",
      "token_count": 3,
      "char_count": 17,
      "start_char": 6828,
      "end_char": 6845,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.949818",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 3,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Model Patterns",
      "chunk_hash": "6ccf27d13dbbf53e",
      "content_digest": "6ccf27d13dbbf53e",
      "chunk_length": 17,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "model",
          "patterns"
        ],
        "term_weights": [
          {
            "term": "model",
            "tf": 1,
            "weight": 0.5
          },
          {
            "term": "patterns",
            "tf": 1,
            "weight": 0.5
          }
        ],
        "unique_terms": 2,
        "total_terms": 2
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Model Patterns",
        "model",
        "patterns"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Multiple Model Approach  Production applications typically use separate models for different purposes: ``` ``` **Multi-Model Pattern Structure**  This pattern provides security by controlling which fields are exposed in different contexts while avoiding code duplication through inheritance. Sources: [docs/en/docs/tutorial/sql-databases.md180-283](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L180-L283)",
    "metadata": {
      "chunk_id": "f38a85409593-0010",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Multiple Model Approach"
      ],
      "heading_text": "Multiple Model Approach",
      "token_count": 90,
      "char_count": 451,
      "start_char": 7224,
      "end_char": 7675,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7669230769230769,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.952386",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 90,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Multiple Model Approach",
      "chunk_hash": "e052cebcfd8781de",
      "content_digest": "e052cebcfd8781de",
      "chunk_length": 451,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "model",
          "different",
          "pattern",
          "tutorial",
          "sql",
          "databases",
          "fastapi",
          "multiple",
          "approach",
          "production",
          "applications",
          "typically",
          "use",
          "separate",
          "models",
          "for",
          "purposes",
          "multi",
          "structure"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.072727
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "different",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "pattern",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "approach",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "production",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "applications",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "typically",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "use",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "separate",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "models",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "purposes",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "multi",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "structure",
            "tf": 1,
            "weight": 0.018182
          }
        ],
        "unique_terms": 45,
        "total_terms": 55
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Multiple Model Approach",
        "approach",
        "databases",
        "different",
        "docs",
        "fastapi",
        "model",
        "multiple",
        "pattern",
        "sql",
        "tutorial"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7669230769230769,
      "overall": 0.7889743589743589
    }
  },
  {
    "text": "### Create Operations  Create operations receive data models and convert them to table models: ``` ``` **Create Operation Flow**  The create flow demonstrates the conversion from input data model to table model and back to response data model. Sources: [docs/en/docs/tutorial/sql-databases.md281-291](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L281-L291)",
    "metadata": {
      "chunk_id": "f38a85409593-0012",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Create Operations"
      ],
      "heading_text": "Create Operations",
      "token_count": 89,
      "char_count": 399,
      "start_char": 7700,
      "end_char": 8099,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7000000000000001,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.954083",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 89,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Create Operations",
      "chunk_hash": "4c13f2fa13f3b1ee",
      "content_digest": "4c13f2fa13f3b1ee",
      "chunk_length": 399,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "create",
          "docs",
          "data",
          "model",
          "operations",
          "models",
          "and",
          "table",
          "flow",
          "the",
          "tutorial",
          "sql",
          "databases",
          "fastapi",
          "receive",
          "convert",
          "them",
          "operation",
          "demonstrates",
          "conversion"
        ],
        "term_weights": [
          {
            "term": "create",
            "tf": 4,
            "weight": 0.074074
          },
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.074074
          },
          {
            "term": "data",
            "tf": 3,
            "weight": 0.055556
          },
          {
            "term": "model",
            "tf": 3,
            "weight": 0.055556
          },
          {
            "term": "operations",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "models",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "table",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "flow",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "receive",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "convert",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "them",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "operation",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "demonstrates",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "conversion",
            "tf": 1,
            "weight": 0.018519
          }
        ],
        "unique_terms": 34,
        "total_terms": 54
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Create Operations",
        "and",
        "create",
        "data",
        "docs",
        "flow",
        "model",
        "models",
        "operations",
        "table",
        "the"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7000000000000001,
      "overall": 0.7666666666666666
    }
  },
  {
    "text": "### Read Operations  Read operations use SQLModel's `select()` function with session execution:  - List operations with pagination support - Single item retrieval by ID - Automatic conversion to response models  Sources: [docs/en/docs/tutorial/sql-databases.md130-140](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L130-L140) [docs/en/docs/tutorial/sql-databases.md303-316](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L303-L316)",
    "metadata": {
      "chunk_id": "f38a85409593-0013",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Read Operations"
      ],
      "heading_text": "Read Operations",
      "token_count": 126,
      "char_count": 514,
      "start_char": 8104,
      "end_char": 8618,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7354545454545455,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.955595",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 126,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Read Operations",
      "chunk_hash": "1d72b7ab5eab0d24",
      "content_digest": "1d72b7ab5eab0d24",
      "chunk_length": 514,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "tutorial",
          "sql",
          "databases",
          "fastapi",
          "operations",
          "read",
          "with",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "use",
          "sqlmodel",
          "select",
          "function",
          "session",
          "execution",
          "list"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 8,
            "weight": 0.121212
          },
          {
            "term": "tutorial",
            "tf": 4,
            "weight": 0.060606
          },
          {
            "term": "sql",
            "tf": 4,
            "weight": 0.060606
          },
          {
            "term": "databases",
            "tf": 4,
            "weight": 0.060606
          },
          {
            "term": "fastapi",
            "tf": 4,
            "weight": 0.060606
          },
          {
            "term": "operations",
            "tf": 3,
            "weight": 0.045455
          },
          {
            "term": "read",
            "tf": 2,
            "weight": 0.030303
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.030303
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.030303
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.030303
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.030303
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.030303
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.030303
          },
          {
            "term": "use",
            "tf": 1,
            "weight": 0.015152
          },
          {
            "term": "sqlmodel",
            "tf": 1,
            "weight": 0.015152
          },
          {
            "term": "select",
            "tf": 1,
            "weight": 0.015152
          },
          {
            "term": "function",
            "tf": 1,
            "weight": 0.015152
          },
          {
            "term": "session",
            "tf": 1,
            "weight": 0.015152
          },
          {
            "term": "execution",
            "tf": 1,
            "weight": 0.015152
          },
          {
            "term": "list",
            "tf": 1,
            "weight": 0.015152
          }
        ],
        "unique_terms": 38,
        "total_terms": 66
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Read Operations",
        "databases",
        "docs",
        "fastapi",
        "github",
        "https",
        "operations",
        "read",
        "sql",
        "tutorial",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7354545454545455,
      "overall": 0.7784848484848484
    }
  },
  {
    "text": "### Update Operations  Update operations use partial data models with `exclude_unset=True`: ``` ``` **Update Operation Pattern**  The update pattern ensures only explicitly provided fields are modified, avoiding accidental overwrites of unspecified fields. Sources: [docs/en/docs/tutorial/sql-databases.md315-326](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L315-L326)",
    "metadata": {
      "chunk_id": "f38a85409593-0014",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Update Operations"
      ],
      "heading_text": "Update Operations",
      "token_count": 88,
      "char_count": 412,
      "start_char": 8620,
      "end_char": 9032,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7547058823529412,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.957168",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 88,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Update Operations",
      "chunk_hash": "c46439c7965bb215",
      "content_digest": "c46439c7965bb215",
      "chunk_length": 412,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "update",
          "docs",
          "operations",
          "pattern",
          "fields",
          "tutorial",
          "sql",
          "databases",
          "fastapi",
          "use",
          "partial",
          "data",
          "models",
          "with",
          "exclude",
          "unset",
          "true",
          "operation",
          "the",
          "ensures"
        ],
        "term_weights": [
          {
            "term": "update",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "operations",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "pattern",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "fields",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "use",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "partial",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "data",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "models",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "exclude",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "unset",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "true",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "operation",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "ensures",
            "tf": 1,
            "weight": 0.019231
          }
        ],
        "unique_terms": 39,
        "total_terms": 52
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Update Operations",
        "databases",
        "docs",
        "fastapi",
        "fields",
        "operations",
        "pattern",
        "sql",
        "tutorial",
        "update",
        "use"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7547058823529412,
      "overall": 0.7849019607843136
    }
  },
  {
    "text": "### Delete Operations\n\nDelete operations retrieve the entity, verify existence, and remove it from the session:\n\nSources: [docs/en/docs/tutorial/sql-databases.md325-334](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L325-L334)",
    "metadata": {
      "chunk_id": "f38a85409593-0015",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Delete Operations"
      ],
      "heading_text": "Delete Operations",
      "token_count": 65,
      "char_count": 268,
      "start_char": 9037,
      "end_char": 9305,
      "semantic_score": 0.7,
      "structural_score": 0.7,
      "retrieval_quality": 0.54,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.957606",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 65,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Delete Operations",
      "chunk_hash": "26a6eb2383d5ae91",
      "content_digest": "26a6eb2383d5ae91",
      "chunk_length": 268,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "delete",
          "operations",
          "the",
          "tutorial",
          "sql",
          "databases",
          "fastapi",
          "retrieve",
          "entity",
          "verify",
          "existence",
          "and",
          "remove",
          "from",
          "session",
          "sources",
          "md325",
          "334",
          "https"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.111111
          },
          {
            "term": "delete",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "operations",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.055556
          },
          {
            "term": "retrieve",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "entity",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "verify",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "existence",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "remove",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "session",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "md325",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "334",
            "tf": 1,
            "weight": 0.027778
          },
          {
            "term": "https",
            "tf": 1,
            "weight": 0.027778
          }
        ],
        "unique_terms": 26,
        "total_terms": 36
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Delete Operations",
        "databases",
        "delete",
        "docs",
        "entity",
        "fastapi",
        "operations",
        "retrieve",
        "sql",
        "the",
        "tutorial"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7,
      "retrieval_quality": 0.54,
      "overall": 0.6466666666666666
    }
  },
  {
    "text": "### Field Exposure Control  The multiple model pattern provides security by controlling field visibility:  - `secret_name` fields excluded from public responses - `id` fields prevented from client input during creation - Response models ensure consistent data contracts  Sources: [docs/en/docs/tutorial/sql-databases.md168-180](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L168-L180)",
    "metadata": {
      "chunk_id": "f38a85409593-0017",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 17,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Field Exposure Control"
      ],
      "heading_text": "Field Exposure Control",
      "token_count": 91,
      "char_count": 426,
      "start_char": 9335,
      "end_char": 9761,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7515384615384616,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.958030",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 91,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Field Exposure Control",
      "chunk_hash": "1cd8d41fd994b21d",
      "content_digest": "1cd8d41fd994b21d",
      "chunk_length": 426,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "field",
          "fields",
          "from",
          "tutorial",
          "sql",
          "databases",
          "fastapi",
          "exposure",
          "control",
          "the",
          "multiple",
          "model",
          "pattern",
          "provides",
          "security",
          "controlling",
          "visibility",
          "secret",
          "name"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.074074
          },
          {
            "term": "field",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "fields",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "from",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.037037
          },
          {
            "term": "exposure",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "control",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "pattern",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "security",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "controlling",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "visibility",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "secret",
            "tf": 1,
            "weight": 0.018519
          },
          {
            "term": "name",
            "tf": 1,
            "weight": 0.018519
          }
        ],
        "unique_terms": 44,
        "total_terms": 54
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Field Exposure Control",
        "control",
        "databases",
        "docs",
        "exposure",
        "fastapi",
        "field",
        "fields",
        "from",
        "sql",
        "tutorial"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7515384615384616,
      "overall": 0.7838461538461537
    }
  },
  {
    "text": "### Database Initialization  Table creation typically occurs during application startup rather than on-demand: ``` ``` **Database Initialization Patterns**  Development uses automatic table creation while production relies on migration scripts for controlled schema changes. Sources: [docs/en/docs/tutorial/sql-databases.md102-116](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L102-L116)",
    "metadata": {
      "chunk_id": "f38a85409593-0018",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 18,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Database Initialization"
      ],
      "heading_text": "Database Initialization",
      "token_count": 85,
      "char_count": 430,
      "start_char": 9763,
      "end_char": 10193,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5557142857142857,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.959492",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 85,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Database Initialization",
      "chunk_hash": "dd8fcf8b153ce72e",
      "content_digest": "dd8fcf8b153ce72e",
      "chunk_length": 430,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "database",
          "initialization",
          "table",
          "creation",
          "tutorial",
          "sql",
          "databases",
          "fastapi",
          "typically",
          "occurs",
          "during",
          "application",
          "startup",
          "rather",
          "than",
          "demand",
          "patterns",
          "development",
          "uses"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.078431
          },
          {
            "term": "database",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "initialization",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "table",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "creation",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "typically",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "occurs",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "during",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "application",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "startup",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "rather",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "than",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "demand",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "patterns",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "development",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.019608
          }
        ],
        "unique_terms": 40,
        "total_terms": 51
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Database Initialization",
        "creation",
        "database",
        "databases",
        "docs",
        "fastapi",
        "initialization",
        "sql",
        "table",
        "tutorial",
        "typically"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5557142857142857,
      "overall": 0.7185714285714285
    }
  },
  {
    "text": "## Error Handling Integration  Database operations integrate with FastAPI's error handling through `HTTPException`:  - 404 errors for missing entities - Validation errors for invalid data - Database constraint violations  For comprehensive error handling patterns, see [Error Handling](fastapi/fastapi/2.7-error-handling.md). Sources: [docs/en/docs/tutorial/handling-errors.md22-43](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/handling-errors.md#L22-L43)",
    "metadata": {
      "chunk_id": "f38a85409593-0019",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 19,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Error Handling Integration"
      ],
      "heading_text": "Error Handling Integration",
      "token_count": 109,
      "char_count": 481,
      "start_char": 10198,
      "end_char": 10679,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5130769230769231,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.960075",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 109,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Error Handling Integration",
      "chunk_hash": "75121ff4bf8541a9",
      "content_digest": "75121ff4bf8541a9",
      "chunk_length": 481,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "handling",
          "error",
          "fastapi",
          "errors",
          "docs",
          "for",
          "database",
          "tutorial",
          "integration",
          "operations",
          "integrate",
          "with",
          "through",
          "httpexception",
          "404",
          "missing",
          "entities",
          "validation",
          "invalid",
          "data"
        ],
        "term_weights": [
          {
            "term": "handling",
            "tf": 7,
            "weight": 0.12069
          },
          {
            "term": "error",
            "tf": 5,
            "weight": 0.086207
          },
          {
            "term": "fastapi",
            "tf": 5,
            "weight": 0.086207
          },
          {
            "term": "errors",
            "tf": 4,
            "weight": 0.068966
          },
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.068966
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.051724
          },
          {
            "term": "database",
            "tf": 2,
            "weight": 0.034483
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.034483
          },
          {
            "term": "integration",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "operations",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "integrate",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "httpexception",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "404",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "missing",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "entities",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "validation",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "invalid",
            "tf": 1,
            "weight": 0.017241
          },
          {
            "term": "data",
            "tf": 1,
            "weight": 0.017241
          }
        ],
        "unique_terms": 34,
        "total_terms": 58
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Error Handling Integration",
        "database",
        "docs",
        "error",
        "errors",
        "fastapi",
        "for",
        "handling",
        "integration",
        "operations",
        "tutorial"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5130769230769231,
      "overall": 0.7043589743589743
    }
  },
  {
    "text": "### Database Selection  SQLModel supports multiple database backends through SQLAlchemy:  - SQLite for development and simple deployments - PostgreSQL for production applications - MySQL, Oracle, SQL Server for enterprise environments  Sources: [docs/en/docs/tutorial/sql-databases.md15-26](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L15-L26)",
    "metadata": {
      "chunk_id": "f38a85409593-0021",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 21,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Database Selection"
      ],
      "heading_text": "Database Selection",
      "token_count": 83,
      "char_count": 387,
      "start_char": 10712,
      "end_char": 11099,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7431249999999999,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.960738",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 83,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Database Selection",
      "chunk_hash": "8fc82884c2794fc4",
      "content_digest": "8fc82884c2794fc4",
      "chunk_length": 387,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "for",
          "sql",
          "database",
          "tutorial",
          "databases",
          "fastapi",
          "selection",
          "sqlmodel",
          "supports",
          "multiple",
          "backends",
          "through",
          "sqlalchemy",
          "sqlite",
          "development",
          "and",
          "simple",
          "deployments",
          "postgresql"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.06383
          },
          {
            "term": "sql",
            "tf": 3,
            "weight": 0.06383
          },
          {
            "term": "database",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "selection",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "sqlmodel",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "supports",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "backends",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "sqlalchemy",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "sqlite",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "development",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "simple",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "deployments",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "postgresql",
            "tf": 1,
            "weight": 0.021277
          }
        ],
        "unique_terms": 36,
        "total_terms": 47
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Database Selection",
        "database",
        "databases",
        "docs",
        "fastapi",
        "for",
        "selection",
        "sql",
        "sqlmodel",
        "supports",
        "tutorial"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7431249999999999,
      "overall": 0.7810416666666665
    }
  },
  {
    "text": "### Migration Management  Production deployments require proper migration handling:  - Alembic integration for schema changes - Version control for database schemas - Automated deployment pipelines  Sources: [docs/en/docs/tutorial/sql-databases.md110-116](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L110-L116)  Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "f38a85409593-0022",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "filename": "_fastapi_fastapi_4.2-database-integration.md",
      "file_extension": ".md",
      "chunk_index": 22,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Migration Management"
      ],
      "heading_text": "Migration Management",
      "token_count": 88,
      "char_count": 406,
      "start_char": 11101,
      "end_char": 11507,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.961197",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 88,
      "document_id": "f38a85409593",
      "document_name": "_fastapi_fastapi_4.2-database-integration",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "source_filename": "_fastapi_fastapi_4.2-database-integration.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "hierarchy_path": "Migration Management",
      "chunk_hash": "acbee98d73f95752",
      "content_digest": "acbee98d73f95752",
      "chunk_length": 406,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docs",
          "migration",
          "for",
          "tutorial",
          "sql",
          "databases",
          "fastapi",
          "refresh",
          "management",
          "production",
          "deployments",
          "require",
          "proper",
          "handling",
          "alembic",
          "integration",
          "schema",
          "changes",
          "version",
          "control"
        ],
        "term_weights": [
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.08
          },
          {
            "term": "migration",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "sql",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "databases",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "management",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "production",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "deployments",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "require",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "proper",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "handling",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "alembic",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "integration",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "schema",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "changes",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "version",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "control",
            "tf": 1,
            "weight": 0.02
          }
        ],
        "unique_terms": 40,
        "total_terms": 50
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Migration Management",
        "databases",
        "docs",
        "fastapi",
        "for",
        "management",
        "migration",
        "production",
        "refresh",
        "sql",
        "tutorial"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "overall": 0.7157142857142856
    }
  }
]