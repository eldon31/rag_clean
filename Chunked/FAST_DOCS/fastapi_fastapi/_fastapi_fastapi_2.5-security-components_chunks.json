[
  {
    "text": "## Overview\n\nFastAPI provides a comprehensive security system with multiple authentication schemes integrated into the dependency injection framework. The security components handle authentication, authorization, token validation, and scope-based permissions through a collection of base classes, concrete implementations, and utilities that automatically integrate with OpenAPI documentation generation.",
    "metadata": {
      "chunk_id": "033fbf1c9e92-0001",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "filename": "_fastapi_fastapi_2.5-security-components.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Overview"
      ],
      "heading_text": "Overview",
      "token_count": 57,
      "char_count": 404,
      "start_char": 6157,
      "end_char": 6561,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.557391304347826,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.493145",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 57,
      "document_id": "033fbf1c9e92",
      "document_name": "_fastapi_fastapi_2.5-security-components",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "source_filename": "_fastapi_fastapi_2.5-security-components.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "hierarchy_path": "Overview",
      "chunk_hash": "95ec47c2af49975e",
      "content_digest": "95ec47c2af49975e",
      "chunk_length": 404,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "security",
          "with",
          "authentication",
          "the",
          "and",
          "overview",
          "fastapi",
          "provides",
          "comprehensive",
          "system",
          "multiple",
          "schemes",
          "integrated",
          "into",
          "dependency",
          "injection",
          "framework",
          "components",
          "handle",
          "authorization"
        ],
        "term_weights": [
          {
            "term": "security",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "authentication",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.046512
          },
          {
            "term": "overview",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "fastapi",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "comprehensive",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "schemes",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "integrated",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "into",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "dependency",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "injection",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "framework",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "components",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "handle",
            "tf": 1,
            "weight": 0.023256
          },
          {
            "term": "authorization",
            "tf": 1,
            "weight": 0.023256
          }
        ],
        "unique_terms": 38,
        "total_terms": 43
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Overview",
        "and",
        "authentication",
        "comprehensive",
        "fastapi",
        "overview",
        "provides",
        "security",
        "system",
        "the",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.557391304347826,
      "overall": 0.752463768115942
    }
  },
  {
    "text": "### SecurityBase  The `SecurityBase` class serves as the foundation for all security schemes in FastAPI. It provides the basic interface that all authentication mechanisms inherit from and ensures consistent integration with the dependency injection system. Sources: [fastapi/security/base.py](https://github.com/fastapi/fastapi/blob/3e2dbf91/fastapi/security/base.py)",
    "metadata": {
      "chunk_id": "033fbf1c9e92-0004",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "filename": "_fastapi_fastapi_2.5-security-components.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "SecurityBase"
      ],
      "heading_text": "SecurityBase",
      "token_count": 74,
      "char_count": 368,
      "start_char": 7335,
      "end_char": 7703,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5575675675675675,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.495455",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 74,
      "document_id": "033fbf1c9e92",
      "document_name": "_fastapi_fastapi_2.5-security-components",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "source_filename": "_fastapi_fastapi_2.5-security-components.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "hierarchy_path": "SecurityBase",
      "chunk_hash": "19fdacf8f2bb30c2",
      "content_digest": "19fdacf8f2bb30c2",
      "chunk_length": 368,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastapi",
          "the",
          "security",
          "securitybase",
          "all",
          "base",
          "class",
          "serves",
          "foundation",
          "for",
          "schemes",
          "provides",
          "basic",
          "interface",
          "that",
          "authentication",
          "mechanisms",
          "inherit",
          "from",
          "and"
        ],
        "term_weights": [
          {
            "term": "fastapi",
            "tf": 5,
            "weight": 0.111111
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.088889
          },
          {
            "term": "security",
            "tf": 3,
            "weight": 0.066667
          },
          {
            "term": "securitybase",
            "tf": 2,
            "weight": 0.044444
          },
          {
            "term": "all",
            "tf": 2,
            "weight": 0.044444
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.044444
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "serves",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "foundation",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "schemes",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "basic",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "interface",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "that",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "authentication",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "mechanisms",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "inherit",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.022222
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.022222
          }
        ],
        "unique_terms": 33,
        "total_terms": 45
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "SecurityBase",
        "all",
        "base",
        "class",
        "fastapi",
        "for",
        "foundation",
        "security",
        "securitybase",
        "serves",
        "the"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5575675675675675,
      "overall": 0.7191891891891892
    }
  },
  {
    "text": "#### OAuth2  The `OAuth2` class implements OAuth2 authentication flows. It accepts flow configurations and integrates with OpenAPI documentation generation. ``` ``` Key initialization parameters:  - `flows` - OAuth2 flow definitions (`OAuthFlowsModel`) - `scheme_name` - Security scheme name for OpenAPI - `description` - Security scheme description - `auto_error` - Whether to automatically raise errors for missing auth  Sources: [fastapi/security/oauth2.py308-441](https://github.com/fastapi/fastapi/blob/3e2dbf91/fastapi/security/oauth2.py#L308-L441)",
    "metadata": {
      "chunk_id": "033fbf1c9e92-0008",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "filename": "_fastapi_fastapi_2.5-security-components.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "OAuth2"
      ],
      "heading_text": "OAuth2",
      "token_count": 126,
      "char_count": 554,
      "start_char": 8398,
      "end_char": 8952,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5124137931034483,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.498696",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 126,
      "document_id": "033fbf1c9e92",
      "document_name": "_fastapi_fastapi_2.5-security-components",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "source_filename": "_fastapi_fastapi_2.5-security-components.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "hierarchy_path": "OAuth2",
      "chunk_hash": "b0dc58626ff07cf9",
      "content_digest": "b0dc58626ff07cf9",
      "chunk_length": 554,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "oauth2",
          "security",
          "fastapi",
          "scheme",
          "flows",
          "flow",
          "openapi",
          "name",
          "for",
          "description",
          "the",
          "class",
          "implements",
          "authentication",
          "accepts",
          "configurations",
          "and",
          "integrates",
          "with",
          "documentation"
        ],
        "term_weights": [
          {
            "term": "oauth2",
            "tf": 6,
            "weight": 0.095238
          },
          {
            "term": "security",
            "tf": 4,
            "weight": 0.063492
          },
          {
            "term": "fastapi",
            "tf": 4,
            "weight": 0.063492
          },
          {
            "term": "scheme",
            "tf": 3,
            "weight": 0.047619
          },
          {
            "term": "flows",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "flow",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "openapi",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "name",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "description",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "implements",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "authentication",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "accepts",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "configurations",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "integrates",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "documentation",
            "tf": 1,
            "weight": 0.015873
          }
        ],
        "unique_terms": 44,
        "total_terms": 63
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "OAuth2",
        "description",
        "fastapi",
        "flow",
        "flows",
        "for",
        "name",
        "oauth2",
        "openapi",
        "scheme",
        "security"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5124137931034483,
      "overall": 0.7041379310344826
    }
  },
  {
    "text": "### Dependency Resolution Flow ``` ``` The dependency system processes security components through several key functions:  1. **`get_sub_dependant()`** - Creates `SecurityRequirement` objects from `params.Security` annotations 2. **`solve_dependencies()`** - Resolves security dependencies and populates `SecurityScopes` 3. **Security scheme `__call__`** - Executes authentication logic during request processing  Sources: [fastapi/dependencies/utils.py142-171](https://github.com/fastapi/fastapi/blob/3e2dbf91/fastapi/dependencies/utils.py#L142-L171) [fastapi/routing.py292-298](https://github.com/fastapi/fastapi/blob/3e2dbf91/fastapi/routing.py#L292-L298)",
    "metadata": {
      "chunk_id": "033fbf1c9e92-0016",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "filename": "_fastapi_fastapi_2.5-security-components.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Dependency Resolution Flow"
      ],
      "heading_text": "Dependency Resolution Flow",
      "token_count": 162,
      "char_count": 658,
      "start_char": 11728,
      "end_char": 12386,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.55875,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.509603",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 162,
      "document_id": "033fbf1c9e92",
      "document_name": "_fastapi_fastapi_2.5-security-components",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "source_filename": "_fastapi_fastapi_2.5-security-components.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "hierarchy_path": "Dependency Resolution Flow",
      "chunk_hash": "4c246db56e4d95b4",
      "content_digest": "4c246db56e4d95b4",
      "chunk_length": 658,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastapi",
          "security",
          "dependencies",
          "dependency",
          "utils",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "routing",
          "resolution",
          "flow",
          "the",
          "system",
          "processes",
          "components",
          "through",
          "several",
          "key"
        ],
        "term_weights": [
          {
            "term": "fastapi",
            "tf": 8,
            "weight": 0.109589
          },
          {
            "term": "security",
            "tf": 4,
            "weight": 0.054795
          },
          {
            "term": "dependencies",
            "tf": 4,
            "weight": 0.054795
          },
          {
            "term": "dependency",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "utils",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "routing",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "resolution",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "flow",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "processes",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "components",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "several",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "key",
            "tf": 1,
            "weight": 0.013699
          }
        ],
        "unique_terms": 52,
        "total_terms": 73
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "3e2dbf91",
        "Dependency Resolution Flow",
        "blob",
        "com",
        "dependencies",
        "dependency",
        "fastapi",
        "github",
        "https",
        "security",
        "utils"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.55875,
      "overall": 0.6862499999999999
    }
  },
  {
    "text": "### Security Schema Generation  FastAPI automatically generates OpenAPI security schemas through the `get_openapi_security_definitions()` function: ``` ``` The function processes security requirements to generate:  - **Security Definitions**: OpenAPI security scheme objects - **Operation Security**: Per-operation security requirements with scopes  Sources: [fastapi/openapi/utils.py78-92](https://github.com/fastapi/fastapi/blob/3e2dbf91/fastapi/openapi/utils.py#L78-L92)",
    "metadata": {
      "chunk_id": "033fbf1c9e92-0019",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "filename": "_fastapi_fastapi_2.5-security-components.md",
      "file_extension": ".md",
      "chunk_index": 19,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Security Schema Generation"
      ],
      "heading_text": "Security Schema Generation",
      "token_count": 98,
      "char_count": 473,
      "start_char": 13030,
      "end_char": 13503,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5225,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.514843",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 98,
      "document_id": "033fbf1c9e92",
      "document_name": "_fastapi_fastapi_2.5-security-components",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "source_filename": "_fastapi_fastapi_2.5-security-components.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "hierarchy_path": "Security Schema Generation",
      "chunk_hash": "e5e6a381a537df75",
      "content_digest": "e5e6a381a537df75",
      "chunk_length": 473,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "security",
          "fastapi",
          "openapi",
          "the",
          "definitions",
          "function",
          "requirements",
          "operation",
          "utils",
          "schema",
          "generation",
          "automatically",
          "generates",
          "schemas",
          "through",
          "get",
          "processes",
          "generate",
          "scheme",
          "objects"
        ],
        "term_weights": [
          {
            "term": "security",
            "tf": 8,
            "weight": 0.150943
          },
          {
            "term": "fastapi",
            "tf": 5,
            "weight": 0.09434
          },
          {
            "term": "openapi",
            "tf": 5,
            "weight": 0.09434
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "definitions",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "function",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "requirements",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "operation",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "utils",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "schema",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "generation",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "automatically",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "generates",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "schemas",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "get",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "processes",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "generate",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "scheme",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "objects",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 32,
        "total_terms": 53
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Security Schema Generation",
        "definitions",
        "fastapi",
        "function",
        "openapi",
        "operation",
        "requirements",
        "schema",
        "security",
        "the",
        "utils"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5225,
      "overall": 0.7074999999999999
    }
  },
  {
    "text": "## Token Validation Pipeline ``` ``` The token validation pipeline processes authentication through multiple stages:  1. **Token Extraction**: `OAuth2PasswordBearer` extracts Bearer token from Authorization header 2. **Token Validation**: Decode and verify JWT signature and expiration 3. **Scope Extraction**: Parse scopes from token payload 4. **User Resolution**: Look up user details from token subject 5. **Scope Authorization**: Validate token scopes against required scopes via `SecurityScopes` 6. **User Status**: Verify user account is active and permitted  Sources: [docs/en/docs/tutorial/security/oauth2-jwt.md158-166](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/security/oauth2-jwt.md#L158-L166) [docs/en/docs/advanced/security/oauth2-scopes.md155-192](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/security/oauth2-scopes.md#L155-L192)",
    "metadata": {
      "chunk_id": "033fbf1c9e92-0021",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "filename": "_fastapi_fastapi_2.5-security-components.md",
      "file_extension": ".md",
      "chunk_index": 21,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Token Validation Pipeline"
      ],
      "heading_text": "Token Validation Pipeline",
      "token_count": 209,
      "char_count": 899,
      "start_char": 14595,
      "end_char": 15494,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.712077922077922,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.519917",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 209,
      "document_id": "033fbf1c9e92",
      "document_name": "_fastapi_fastapi_2.5-security-components",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "source_filename": "_fastapi_fastapi_2.5-security-components.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "hierarchy_path": "Token Validation Pipeline",
      "chunk_hash": "ade99015842331f6",
      "content_digest": "ade99015842331f6",
      "chunk_length": 899,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "token",
          "docs",
          "scopes",
          "user",
          "security",
          "oauth2",
          "fastapi",
          "validation",
          "from",
          "and",
          "jwt",
          "pipeline",
          "extraction",
          "authorization",
          "verify",
          "scope",
          "tutorial",
          "https",
          "github",
          "com"
        ],
        "term_weights": [
          {
            "term": "token",
            "tf": 8,
            "weight": 0.072727
          },
          {
            "term": "docs",
            "tf": 8,
            "weight": 0.072727
          },
          {
            "term": "scopes",
            "tf": 5,
            "weight": 0.045455
          },
          {
            "term": "user",
            "tf": 4,
            "weight": 0.036364
          },
          {
            "term": "security",
            "tf": 4,
            "weight": 0.036364
          },
          {
            "term": "oauth2",
            "tf": 4,
            "weight": 0.036364
          },
          {
            "term": "fastapi",
            "tf": 4,
            "weight": 0.036364
          },
          {
            "term": "validation",
            "tf": 3,
            "weight": 0.027273
          },
          {
            "term": "from",
            "tf": 3,
            "weight": 0.027273
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.027273
          },
          {
            "term": "jwt",
            "tf": 3,
            "weight": 0.027273
          },
          {
            "term": "pipeline",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "extraction",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "authorization",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "verify",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "scope",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.018182
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.018182
          }
        ],
        "unique_terms": 60,
        "total_terms": 110
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Token Validation Pipeline",
        "and",
        "docs",
        "fastapi",
        "from",
        "oauth2",
        "scopes",
        "security",
        "token",
        "user",
        "validation"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.712077922077922,
      "overall": 0.7706926406926407
    }
  },
  {
    "text": "## OpenAPI Security Documentation  FastAPI automatically generates OpenAPI security documentation from security components: ``` ``` The security documentation includes:  - OAuth2 flow definitions and token URLs - Available scopes with descriptions - Security requirements for each endpoint - Interactive authentication forms in documentation UI  Sources: [docs/en/docs/tutorial/security/first-steps.md177-185](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/security/first-steps.md#L177-L185) [docs/en/docs/advanced/security/oauth2-scopes.md76-83](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/advanced/security/oauth2-scopes.md#L76-L83)  Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "033fbf1c9e92-0023",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "filename": "_fastapi_fastapi_2.5-security-components.md",
      "file_extension": ".md",
      "chunk_index": 23,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "OpenAPI Security Documentation"
      ],
      "heading_text": "OpenAPI Security Documentation",
      "token_count": 163,
      "char_count": 728,
      "start_char": 16764,
      "end_char": 17492,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.519090909090909,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:01.527379",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 163,
      "document_id": "033fbf1c9e92",
      "document_name": "_fastapi_fastapi_2.5-security-components",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "source_filename": "_fastapi_fastapi_2.5-security-components.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_2.5-security-components.md",
      "hierarchy_path": "OpenAPI Security Documentation",
      "chunk_hash": "c3db6c3b4cda4878",
      "content_digest": "c3db6c3b4cda4878",
      "chunk_length": 728,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "security",
          "docs",
          "fastapi",
          "documentation",
          "oauth2",
          "scopes",
          "openapi",
          "tutorial",
          "first",
          "steps",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "advanced",
          "refresh",
          "automatically",
          "generates",
          "from"
        ],
        "term_weights": [
          {
            "term": "security",
            "tf": 9,
            "weight": 0.102273
          },
          {
            "term": "docs",
            "tf": 8,
            "weight": 0.090909
          },
          {
            "term": "fastapi",
            "tf": 5,
            "weight": 0.056818
          },
          {
            "term": "documentation",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "oauth2",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "scopes",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "openapi",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "tutorial",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "first",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "steps",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "advanced",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "automatically",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "generates",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.011364
          }
        ],
        "unique_terms": 51,
        "total_terms": 88
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "OpenAPI Security Documentation",
        "docs",
        "documentation",
        "fastapi",
        "first",
        "oauth2",
        "openapi",
        "scopes",
        "security",
        "steps",
        "tutorial"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.519090909090909,
      "overall": 0.7063636363636364
    }
  }
]