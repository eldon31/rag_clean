[
  {
    "text": "## Pre-commit Hook System\n\nFastAPI uses a comprehensive pre-commit hook system to enforce code quality standards before commits are made to the repository. The configuration is defined in [.pre-commit-config.yaml1-26](https://github.com/fastapi/fastapi/blob/3e2dbf91/.pre-commit-config.yaml#L1-L26)",
    "metadata": {
      "chunk_id": "6f74b597500b-0001",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pre-commit Hook System"
      ],
      "heading_text": "Pre-commit Hook System",
      "token_count": 69,
      "char_count": 298,
      "start_char": 4617,
      "end_char": 4915,
      "semantic_score": 0.6,
      "structural_score": 0.7,
      "retrieval_quality": 0.5382758620689655,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:09.051786",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 69,
      "document_id": "6f74b597500b",
      "document_name": "_fastapi_fastapi_5.2-code-quality-and-pre-commit",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "hierarchy_path": "Pre-commit Hook System",
      "chunk_hash": "aee1f3e86c636186",
      "content_digest": "aee1f3e86c636186",
      "chunk_length": 298,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pre",
          "commit",
          "fastapi",
          "hook",
          "system",
          "the",
          "config",
          "uses",
          "comprehensive",
          "enforce",
          "code",
          "quality",
          "standards",
          "before",
          "commits",
          "are",
          "made",
          "repository",
          "configuration",
          "defined"
        ],
        "term_weights": [
          {
            "term": "pre",
            "tf": 4,
            "weight": 0.1
          },
          {
            "term": "commit",
            "tf": 4,
            "weight": 0.1
          },
          {
            "term": "fastapi",
            "tf": 3,
            "weight": 0.075
          },
          {
            "term": "hook",
            "tf": 2,
            "weight": 0.05
          },
          {
            "term": "system",
            "tf": 2,
            "weight": 0.05
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.05
          },
          {
            "term": "config",
            "tf": 2,
            "weight": 0.05
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "comprehensive",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "enforce",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "code",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "quality",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "standards",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "before",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "commits",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "made",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "repository",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.025
          },
          {
            "term": "defined",
            "tf": 1,
            "weight": 0.025
          }
        ],
        "unique_terms": 28,
        "total_terms": 40
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pre-commit Hook System",
        "commit",
        "comprehensive",
        "config",
        "enforce",
        "fastapi",
        "hook",
        "pre",
        "system",
        "the",
        "uses"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.7,
      "retrieval_quality": 0.5382758620689655,
      "overall": 0.6127586206896551
    }
  },
  {
    "text": "### Hook Configuration  The pre-commit system is configured with Python 3.10 as the default language version and includes two main repository sources: ``` ``` The system includes validation hooks for file formats and content, plus automated code quality enforcement through Ruff. **Sources:** [.pre-commit-config.yaml1-26](https://github.com/fastapi/fastapi/blob/3e2dbf91/.pre-commit-config.yaml#L1-L26)",
    "metadata": {
      "chunk_id": "6f74b597500b-0002",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Hook Configuration"
      ],
      "heading_text": "Hook Configuration",
      "token_count": 89,
      "char_count": 403,
      "start_char": 4917,
      "end_char": 5320,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5481395348837209,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:09.053049",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 89,
      "document_id": "6f74b597500b",
      "document_name": "_fastapi_fastapi_5.2-code-quality-and-pre-commit",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "hierarchy_path": "Hook Configuration",
      "chunk_hash": "77f236a6a1a9f32c",
      "content_digest": "77f236a6a1a9f32c",
      "chunk_length": 403,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "the",
          "pre",
          "commit",
          "system",
          "and",
          "includes",
          "sources",
          "config",
          "fastapi",
          "hook",
          "configuration",
          "configured",
          "with",
          "python",
          "default",
          "language",
          "version",
          "two",
          "main",
          "repository"
        ],
        "term_weights": [
          {
            "term": "the",
            "tf": 3,
            "weight": 0.056604
          },
          {
            "term": "pre",
            "tf": 3,
            "weight": 0.056604
          },
          {
            "term": "commit",
            "tf": 3,
            "weight": 0.056604
          },
          {
            "term": "system",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "includes",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "sources",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "config",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "fastapi",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "hook",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "configured",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "python",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "default",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "language",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "version",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "two",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "main",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "repository",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 41,
        "total_terms": 53
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Hook Configuration",
        "and",
        "commit",
        "config",
        "fastapi",
        "hook",
        "includes",
        "pre",
        "sources",
        "system",
        "the"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5481395348837209,
      "overall": 0.6827131782945736
    }
  },
  {
    "text": "## Code Linting and Formatting with Ruff\n\nFastAPI uses Ruff as its primary tool for both code linting and formatting, replacing multiple traditional tools with a single, fast implementation.",
    "metadata": {
      "chunk_id": "6f74b597500b-0004",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Code Linting and Formatting with Ruff"
      ],
      "heading_text": "Code Linting and Formatting with Ruff",
      "token_count": 39,
      "char_count": 190,
      "start_char": 6077,
      "end_char": 6267,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5382758620689655,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:09.053893",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 39,
      "document_id": "6f74b597500b",
      "document_name": "_fastapi_fastapi_5.2-code-quality-and-pre-commit",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "hierarchy_path": "Code Linting and Formatting with Ruff",
      "chunk_hash": "f67b83b930037186",
      "content_digest": "f67b83b930037186",
      "chunk_length": 190,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "code",
          "linting",
          "and",
          "formatting",
          "with",
          "ruff",
          "fastapi",
          "uses",
          "its",
          "primary",
          "tool",
          "for",
          "both",
          "replacing",
          "multiple",
          "traditional",
          "tools",
          "single",
          "fast",
          "implementation"
        ],
        "term_weights": [
          {
            "term": "code",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "linting",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "formatting",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "ruff",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "fastapi",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "its",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "primary",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "tool",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "both",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "replacing",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "traditional",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "tools",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "single",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "fast",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "implementation",
            "tf": 1,
            "weight": 0.038462
          }
        ],
        "unique_terms": 20,
        "total_terms": 26
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Code Linting and Formatting with Ruff",
        "and",
        "code",
        "fastapi",
        "formatting",
        "its",
        "linting",
        "primary",
        "ruff",
        "uses",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5382758620689655,
      "overall": 0.7460919540229884
    }
  },
  {
    "text": "### Ruff Configuration  The Ruff configuration includes two main hooks: ``` ``` **Sources:** [.pre-commit-config.yaml16-22](https://github.com/fastapi/fastapi/blob/3e2dbf91/.pre-commit-config.yaml#L16-L22) [scripts/lint.sh7-8](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/lint.sh#L7-L8) [scripts/format.sh4-5](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/format.sh#L4-L5)",
    "metadata": {
      "chunk_id": "6f74b597500b-0005",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Ruff Configuration"
      ],
      "heading_text": "Ruff Configuration",
      "token_count": 123,
      "char_count": 395,
      "start_char": 6269,
      "end_char": 6664,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.53375,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:09.054668",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 123,
      "document_id": "6f74b597500b",
      "document_name": "_fastapi_fastapi_5.2-code-quality-and-pre-commit",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "hierarchy_path": "Ruff Configuration",
      "chunk_hash": "b34429e13a8dcb88",
      "content_digest": "b34429e13a8dcb88",
      "chunk_length": 395,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastapi",
          "scripts",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "ruff",
          "configuration",
          "pre",
          "commit",
          "config",
          "lint",
          "format",
          "the",
          "includes",
          "two",
          "main",
          "hooks",
          "sources"
        ],
        "term_weights": [
          {
            "term": "fastapi",
            "tf": 6,
            "weight": 0.117647
          },
          {
            "term": "scripts",
            "tf": 4,
            "weight": 0.078431
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.058824
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.058824
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.058824
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.058824
          },
          {
            "term": "3e2dbf91",
            "tf": 3,
            "weight": 0.058824
          },
          {
            "term": "ruff",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "configuration",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "pre",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "commit",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "config",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "lint",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "format",
            "tf": 2,
            "weight": 0.039216
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "includes",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "two",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "main",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "hooks",
            "tf": 1,
            "weight": 0.019608
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.019608
          }
        ],
        "unique_terms": 26,
        "total_terms": 51
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "3e2dbf91",
        "Ruff Configuration",
        "blob",
        "com",
        "configuration",
        "fastapi",
        "github",
        "https",
        "pre",
        "ruff",
        "scripts"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.53375,
      "overall": 0.6779166666666666
    }
  },
  {
    "text": "### mypy Configuration  The mypy version is pinned in the test requirements and executed as part of the linting process: ``` ``` **Sources:** [requirements-tests.txt5](https://github.com/fastapi/fastapi/blob/3e2dbf91/requirements-tests.txt#L5-L5) [scripts/lint.sh6](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/lint.sh#L6-L6)",
    "metadata": {
      "chunk_id": "6f74b597500b-0008",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "mypy Configuration"
      ],
      "heading_text": "mypy Configuration",
      "token_count": 95,
      "char_count": 337,
      "start_char": 7546,
      "end_char": 7883,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.542,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:09.056202",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 95,
      "document_id": "6f74b597500b",
      "document_name": "_fastapi_fastapi_5.2-code-quality-and-pre-commit",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "hierarchy_path": "mypy Configuration",
      "chunk_hash": "61476d93b0626fad",
      "content_digest": "61476d93b0626fad",
      "chunk_length": 337,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastapi",
          "the",
          "requirements",
          "mypy",
          "tests",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "scripts",
          "lint",
          "configuration",
          "version",
          "pinned",
          "test",
          "and",
          "executed",
          "part",
          "linting"
        ],
        "term_weights": [
          {
            "term": "fastapi",
            "tf": 4,
            "weight": 0.097561
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.073171
          },
          {
            "term": "requirements",
            "tf": 3,
            "weight": 0.073171
          },
          {
            "term": "mypy",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "scripts",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "lint",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "version",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "pinned",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "test",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "executed",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "part",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "linting",
            "tf": 1,
            "weight": 0.02439
          }
        ],
        "unique_terms": 25,
        "total_terms": 41
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "3e2dbf91",
        "blob",
        "com",
        "fastapi",
        "github",
        "https",
        "mypy",
        "mypy Configuration",
        "requirements",
        "tests",
        "the"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.542,
      "overall": 0.6806666666666666
    }
  },
  {
    "text": "### Coverage Configuration ``` ``` The test execution includes setting `PYTHONPATH=./docs_src` to include documentation source code in the test environment. **Sources:** [requirements-tests.txt3-4](https://github.com/fastapi/fastapi/blob/3e2dbf91/requirements-tests.txt#L3-L4) [scripts/test.sh6-7](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/test.sh#L6-L7) [scripts/test-cov-html.sh6-9](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/test-cov-html.sh#L6-L9)",
    "metadata": {
      "chunk_id": "6f74b597500b-0010",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Coverage Configuration"
      ],
      "heading_text": "Coverage Configuration",
      "token_count": 136,
      "char_count": 480,
      "start_char": 8009,
      "end_char": 8489,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:09.057283",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 136,
      "document_id": "6f74b597500b",
      "document_name": "_fastapi_fastapi_5.2-code-quality-and-pre-commit",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "hierarchy_path": "Coverage Configuration",
      "chunk_hash": "b63463f96c2ca84c",
      "content_digest": "b63463f96c2ca84c",
      "chunk_length": 480,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "test",
          "fastapi",
          "scripts",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "the",
          "requirements",
          "tests",
          "sh6",
          "cov",
          "html",
          "coverage",
          "configuration",
          "execution",
          "includes",
          "setting",
          "pythonpath"
        ],
        "term_weights": [
          {
            "term": "test",
            "tf": 6,
            "weight": 0.101695
          },
          {
            "term": "fastapi",
            "tf": 6,
            "weight": 0.101695
          },
          {
            "term": "scripts",
            "tf": 4,
            "weight": 0.067797
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.050847
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.050847
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.050847
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.050847
          },
          {
            "term": "3e2dbf91",
            "tf": 3,
            "weight": 0.050847
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "requirements",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "sh6",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "cov",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "html",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "coverage",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "execution",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "includes",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "setting",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "pythonpath",
            "tf": 1,
            "weight": 0.016949
          }
        ],
        "unique_terms": 30,
        "total_terms": 59
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "3e2dbf91",
        "Coverage Configuration",
        "blob",
        "com",
        "fastapi",
        "github",
        "https",
        "requirements",
        "scripts",
        "test",
        "the"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "overall": 0.6841666666666667
    }
  },
  {
    "text": "### Testing Utilities and Patterns  The repository includes specialized testing utilities for handling different Python versions and Pydantic versions: ``` ``` The `pydantic_snapshot` function enables version-specific snapshot testing for maintaining compatibility across Pydantic versions. **Sources:** [tests/utils.py7-12](https://github.com/fastapi/fastapi/blob/3e2dbf91/tests/utils.py#L7-L12) [tests/utils.py15-34](https://github.com/fastapi/fastapi/blob/3e2dbf91/tests/utils.py#L15-L34)",
    "metadata": {
      "chunk_id": "6f74b597500b-0012",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Testing Utilities and Patterns"
      ],
      "heading_text": "Testing Utilities and Patterns",
      "token_count": 116,
      "char_count": 491,
      "start_char": 9337,
      "end_char": 9828,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5251351351351351,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:09.059027",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 116,
      "document_id": "6f74b597500b",
      "document_name": "_fastapi_fastapi_5.2-code-quality-and-pre-commit",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "hierarchy_path": "Testing Utilities and Patterns",
      "chunk_hash": "b821c741ea24c840",
      "content_digest": "b821c741ea24c840",
      "chunk_length": 491,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tests",
          "utils",
          "fastapi",
          "testing",
          "versions",
          "pydantic",
          "utilities",
          "and",
          "the",
          "for",
          "snapshot",
          "https",
          "github",
          "com",
          "blob",
          "3e2dbf91",
          "patterns",
          "repository",
          "includes",
          "specialized"
        ],
        "term_weights": [
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "utils",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "fastapi",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "testing",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "versions",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "pydantic",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "utilities",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "snapshot",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "3e2dbf91",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "patterns",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "repository",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "includes",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "specialized",
            "tf": 1,
            "weight": 0.016393
          }
        ],
        "unique_terms": 36,
        "total_terms": 61
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Testing Utilities and Patterns",
        "and",
        "fastapi",
        "for",
        "pydantic",
        "testing",
        "tests",
        "the",
        "utilities",
        "utils",
        "versions"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5251351351351351,
      "overall": 0.7083783783783782
    }
  },
  {
    "text": "## Quality Assurance Integration\n\nThe code quality system integrates with the broader development workflow through standardized scripts and dependency management:",
    "metadata": {
      "chunk_id": "6f74b597500b-0013",
      "source_file": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Quality Assurance Integration"
      ],
      "heading_text": "Quality Assurance Integration",
      "token_count": 22,
      "char_count": 162,
      "start_char": 9833,
      "end_char": 9995,
      "semantic_score": 0.8,
      "structural_score": 0.7,
      "retrieval_quality": 0.56,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:09.059280",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 22,
      "document_id": "6f74b597500b",
      "document_name": "_fastapi_fastapi_5.2-code-quality-and-pre-commit",
      "source_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_filename": "_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "source_directory": "Docs\\FAST_DOCS\\fastapi_fastapi",
      "relative_path": "Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_5.2-code-quality-and-pre-commit.md",
      "hierarchy_path": "Quality Assurance Integration",
      "chunk_hash": "75824468869fc0c0",
      "content_digest": "75824468869fc0c0",
      "chunk_length": 162,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "quality",
          "the",
          "assurance",
          "integration",
          "code",
          "system",
          "integrates",
          "with",
          "broader",
          "development",
          "workflow",
          "through",
          "standardized",
          "scripts",
          "and",
          "dependency",
          "management"
        ],
        "term_weights": [
          {
            "term": "quality",
            "tf": 2,
            "weight": 0.105263
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.105263
          },
          {
            "term": "assurance",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "integration",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "code",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "integrates",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "broader",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "development",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "workflow",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "standardized",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "scripts",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "dependency",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "management",
            "tf": 1,
            "weight": 0.052632
          }
        ],
        "unique_terms": 17,
        "total_terms": 19
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Quality Assurance Integration",
        "assurance",
        "broader",
        "code",
        "development",
        "integrates",
        "integration",
        "quality",
        "system",
        "the",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.7,
      "retrieval_quality": 0.56,
      "overall": 0.6866666666666666
    }
  }
]