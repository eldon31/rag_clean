[
  {
    "text": "# Client Authentication  Relevant source files  - [docs/integrations/auth0.mdx](https://github.com/jlowin/fastmcp/blob/66221ed3/docs/integrations/auth0.mdx) - [src/fastmcp/client/auth/oauth.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py) - [src/fastmcp/server/auth/oidc\\_proxy.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/auth/oidc_proxy.py) - [src/fastmcp/server/auth/providers/auth0.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/auth/providers/auth0.py) - [tests/client/auth/test\\_oauth\\_token\\_expiry.py](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/client/auth/test_oauth_token_expiry.py) - [tests/server/auth/providers/test\\_auth0.py](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/auth/providers/test_auth0.py) - [tests/server/auth/test\\_oidc\\_proxy.py](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/auth/test_oidc_proxy.py)  This page covers client-side authentication in FastMCP, focusing on OAuth flows, token storage, browser-based authentication, and integration with identity providers. This documentation explains how FastMCP clients authenticate with protected servers using industry-standard OAuth 2.0 and OpenID Connect protocols. For server-side authentication configuration and identity providers, see [Authentication and Security](jlowin/fastmcp/4.1-authentication-and-security.md). For transport-specific authentication mechanisms, see [Transport Mechanisms](jlowin/fastmcp/3.1-transport-mechanisms.md).",
    "metadata": {
      "chunk_id": "31799737fd43-0000",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 0,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Client Authentication"
      ],
      "heading_text": "Client Authentication",
      "token_count": 394,
      "char_count": 1550,
      "start_char": 1750,
      "end_char": 3300,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5471473684210526,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.491513",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 394,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Client Authentication",
      "chunk_hash": "d83da5adaa560a8a",
      "content_digest": "d83da5adaa560a8a",
      "chunk_length": 1550,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastmcp",
          "auth",
          "jlowin",
          "server",
          "authentication",
          "https",
          "github",
          "com",
          "blob",
          "66221ed3",
          "client",
          "auth0",
          "src",
          "oauth",
          "providers",
          "tests",
          "test",
          "and",
          "oidc",
          "proxy"
        ],
        "term_weights": [
          {
            "term": "fastmcp",
            "tf": 17,
            "weight": 0.084577
          },
          {
            "term": "auth",
            "tf": 12,
            "weight": 0.059701
          },
          {
            "term": "jlowin",
            "tf": 9,
            "weight": 0.044776
          },
          {
            "term": "server",
            "tf": 9,
            "weight": 0.044776
          },
          {
            "term": "authentication",
            "tf": 7,
            "weight": 0.034826
          },
          {
            "term": "https",
            "tf": 7,
            "weight": 0.034826
          },
          {
            "term": "github",
            "tf": 7,
            "weight": 0.034826
          },
          {
            "term": "com",
            "tf": 7,
            "weight": 0.034826
          },
          {
            "term": "blob",
            "tf": 7,
            "weight": 0.034826
          },
          {
            "term": "66221ed3",
            "tf": 7,
            "weight": 0.034826
          },
          {
            "term": "client",
            "tf": 6,
            "weight": 0.029851
          },
          {
            "term": "auth0",
            "tf": 6,
            "weight": 0.029851
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.029851
          },
          {
            "term": "oauth",
            "tf": 6,
            "weight": 0.029851
          },
          {
            "term": "providers",
            "tf": 6,
            "weight": 0.029851
          },
          {
            "term": "tests",
            "tf": 6,
            "weight": 0.029851
          },
          {
            "term": "test",
            "tf": 6,
            "weight": 0.029851
          },
          {
            "term": "and",
            "tf": 5,
            "weight": 0.024876
          },
          {
            "term": "oidc",
            "tf": 4,
            "weight": 0.0199
          },
          {
            "term": "proxy",
            "tf": 4,
            "weight": 0.0199
          }
        ],
        "unique_terms": 60,
        "total_terms": 201
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "66221ed3",
        "Client Authentication",
        "auth",
        "authentication",
        "blob",
        "com",
        "fastmcp",
        "github",
        "https",
        "jlowin",
        "server"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5471473684210526,
      "overall": 0.6823824561403509
    }
  },
  {
    "text": "## Overview\n\nFastMCP client authentication is built around OAuth 2.0 with OpenID Connect support, providing secure token-based authentication for MCP clients connecting to protected servers. The authentication system handles the complete OAuth flow, from initial authorization to token refresh and storage.",
    "metadata": {
      "chunk_id": "31799737fd43-0001",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Overview"
      ],
      "heading_text": "Overview",
      "token_count": 53,
      "char_count": 306,
      "start_char": 3303,
      "end_char": 3609,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5534146341463415,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.492484",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 53,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Overview",
      "chunk_hash": "c26ee0b884a4b02b",
      "content_digest": "c26ee0b884a4b02b",
      "chunk_length": 306,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "authentication",
          "oauth",
          "token",
          "the",
          "overview",
          "fastmcp",
          "client",
          "built",
          "around",
          "with",
          "openid",
          "connect",
          "support",
          "providing",
          "secure",
          "based",
          "for",
          "mcp",
          "clients",
          "connecting"
        ],
        "term_weights": [
          {
            "term": "authentication",
            "tf": 3,
            "weight": 0.081081
          },
          {
            "term": "oauth",
            "tf": 2,
            "weight": 0.054054
          },
          {
            "term": "token",
            "tf": 2,
            "weight": 0.054054
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.054054
          },
          {
            "term": "overview",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "fastmcp",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "client",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "built",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "around",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "openid",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "connect",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "support",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "providing",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "secure",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "based",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "mcp",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "clients",
            "tf": 1,
            "weight": 0.027027
          },
          {
            "term": "connecting",
            "tf": 1,
            "weight": 0.027027
          }
        ],
        "unique_terms": 32,
        "total_terms": 37
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Overview",
        "around",
        "authentication",
        "built",
        "client",
        "fastmcp",
        "oauth",
        "overview",
        "the",
        "token",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5534146341463415,
      "overall": 0.7178048780487805
    }
  },
  {
    "text": "## OAuth Flow Implementation  The `OAuth` class implements the complete OAuth 2.0 authorization code flow with PKCE support, handling dynamic client registration, browser-based authorization, and token management.",
    "metadata": {
      "chunk_id": "31799737fd43-0003",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "OAuth Flow Implementation"
      ],
      "heading_text": "OAuth Flow Implementation",
      "token_count": 39,
      "char_count": 213,
      "start_char": 4047,
      "end_char": 4260,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.494124",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 39,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "OAuth Flow Implementation",
      "chunk_hash": "4d595b30b50e83aa",
      "content_digest": "4d595b30b50e83aa",
      "chunk_length": 213,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "oauth",
          "flow",
          "the",
          "authorization",
          "implementation",
          "class",
          "implements",
          "complete",
          "code",
          "with",
          "pkce",
          "support",
          "handling",
          "dynamic",
          "client",
          "registration",
          "browser",
          "based",
          "and",
          "token"
        ],
        "term_weights": [
          {
            "term": "oauth",
            "tf": 3,
            "weight": 0.115385
          },
          {
            "term": "flow",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "authorization",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "implementation",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "implements",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "complete",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "code",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "pkce",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "support",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "handling",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "dynamic",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "client",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "registration",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "browser",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "based",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "token",
            "tf": 1,
            "weight": 0.038462
          }
        ],
        "unique_terms": 21,
        "total_terms": 26
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "OAuth Flow Implementation",
        "authorization",
        "class",
        "code",
        "complete",
        "flow",
        "implementation",
        "implements",
        "oauth",
        "the",
        "with"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "overall": 0.7188888888888888
    }
  },
  {
    "text": "### Authorization Flow Process  The OAuth authorization flow follows these steps:  | Step | Method               | Description                          | Error Handling                          | | ---- | -------------------- | ------------------------------------ | --------------------------------------- | | 1    | `redirect_handler()` | Pre-flight validation, opens browser | Detects stale client\\_id (400 response) | | 2    | `callback_handler()` | Starts local callback server         | 5-minute timeout with graceful shutdown | | 3    | Token Exchange       | Exchanges auth code for tokens       | Automatic retry on client errors        | | 4    | Token Storage        | Saves tokens with absolute expiry    | Validates token format and expiry       |  Sources: [src/fastmcp/client/auth/oauth.py322-341](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L322-L341) [src/fastmcp/client/auth/oauth.py343-374](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L343-L374)",
    "metadata": {
      "chunk_id": "31799737fd43-0005",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Authorization Flow Process"
      ],
      "heading_text": "Authorization Flow Process",
      "token_count": 226,
      "char_count": 1038,
      "start_char": 4719,
      "end_char": 5757,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.6830693069306931,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "table_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.495462",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 226,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Authorization Flow Process",
      "chunk_hash": "9feae6902247a1f8",
      "content_digest": "9feae6902247a1f8",
      "chunk_length": 1038,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "client",
          "fastmcp",
          "oauth",
          "auth",
          "src",
          "token",
          "authorization",
          "flow",
          "handler",
          "callback",
          "with",
          "tokens",
          "expiry",
          "https",
          "github",
          "com",
          "jlowin",
          "blob",
          "66221ed3",
          "process"
        ],
        "term_weights": [
          {
            "term": "client",
            "tf": 6,
            "weight": 0.057692
          },
          {
            "term": "fastmcp",
            "tf": 6,
            "weight": 0.057692
          },
          {
            "term": "oauth",
            "tf": 5,
            "weight": 0.048077
          },
          {
            "term": "auth",
            "tf": 5,
            "weight": 0.048077
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.038462
          },
          {
            "term": "token",
            "tf": 3,
            "weight": 0.028846
          },
          {
            "term": "authorization",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "flow",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "handler",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "callback",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "tokens",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "expiry",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "jlowin",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "66221ed3",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "process",
            "tf": 1,
            "weight": 0.009615
          }
        ],
        "unique_terms": 68,
        "total_terms": 104
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Authorization Flow Process",
        "auth",
        "authorization",
        "callback",
        "client",
        "fastmcp",
        "flow",
        "handler",
        "oauth",
        "src",
        "token"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.6830693069306931,
      "overall": 0.7943564356435643
    }
  },
  {
    "text": "### Token Expiry Handling  The token storage system uses absolute timestamps rather than relative `expires_in` values to ensure accurate expiry checking across application restarts: ``` ``` Sources: [src/fastmcp/client/auth/oauth.py132-147](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L132-L147) [src/fastmcp/client/auth/oauth.py96-130](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L96-L130) [tests/client/auth/test\\_oauth\\_token\\_expiry.py13-164](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/client/auth/test_oauth_token_expiry.py#L13-L164)",
    "metadata": {
      "chunk_id": "31799737fd43-0008",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Token Expiry Handling"
      ],
      "heading_text": "Token Expiry Handling",
      "token_count": 167,
      "char_count": 623,
      "start_char": 6263,
      "end_char": 6886,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.497858",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 167,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Token Expiry Handling",
      "chunk_hash": "a2ebb49ebfe22c6a",
      "content_digest": "a2ebb49ebfe22c6a",
      "chunk_length": 623,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastmcp",
          "client",
          "auth",
          "oauth",
          "token",
          "expiry",
          "src",
          "https",
          "github",
          "com",
          "jlowin",
          "blob",
          "66221ed3",
          "tests",
          "test",
          "handling",
          "the",
          "storage",
          "system",
          "uses"
        ],
        "term_weights": [
          {
            "term": "fastmcp",
            "tf": 7,
            "weight": 0.077778
          },
          {
            "term": "client",
            "tf": 6,
            "weight": 0.066667
          },
          {
            "term": "auth",
            "tf": 6,
            "weight": 0.066667
          },
          {
            "term": "oauth",
            "tf": 6,
            "weight": 0.066667
          },
          {
            "term": "token",
            "tf": 4,
            "weight": 0.044444
          },
          {
            "term": "expiry",
            "tf": 4,
            "weight": 0.044444
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.044444
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "jlowin",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "66221ed3",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "handling",
            "tf": 1,
            "weight": 0.011111
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.011111
          },
          {
            "term": "storage",
            "tf": 1,
            "weight": 0.011111
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.011111
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.011111
          }
        ],
        "unique_terms": 46,
        "total_terms": 90
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Token Expiry Handling",
        "auth",
        "client",
        "com",
        "expiry",
        "fastmcp",
        "github",
        "https",
        "oauth",
        "src",
        "token"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "overall": 0.7200000000000001
    }
  },
  {
    "text": "### Browser Flow Implementation ``` ``` Sources: [src/fastmcp/client/auth/oauth.py322-341](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L322-L341) [src/fastmcp/client/auth/oauth.py343-374](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L343-L374) [src/fastmcp/client/auth/oauth.py395-427](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L395-L427)",
    "metadata": {
      "chunk_id": "31799737fd43-0010",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Browser Flow Implementation"
      ],
      "heading_text": "Browser Flow Implementation",
      "token_count": 137,
      "char_count": 450,
      "start_char": 7085,
      "end_char": 7535,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.498855",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 137,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Browser Flow Implementation",
      "chunk_hash": "71dd7536b85a856d",
      "content_digest": "71dd7536b85a856d",
      "chunk_length": 450,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastmcp",
          "src",
          "client",
          "auth",
          "oauth",
          "https",
          "github",
          "com",
          "jlowin",
          "blob",
          "66221ed3",
          "browser",
          "flow",
          "implementation",
          "sources",
          "py322",
          "341",
          "l322",
          "l341",
          "py343"
        ],
        "term_weights": [
          {
            "term": "fastmcp",
            "tf": 9,
            "weight": 0.134328
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.089552
          },
          {
            "term": "client",
            "tf": 6,
            "weight": 0.089552
          },
          {
            "term": "auth",
            "tf": 6,
            "weight": 0.089552
          },
          {
            "term": "oauth",
            "tf": 6,
            "weight": 0.089552
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "jlowin",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "66221ed3",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "browser",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "flow",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "implementation",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "py322",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "341",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "l322",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "l341",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "py343",
            "tf": 1,
            "weight": 0.014925
          }
        ],
        "unique_terms": 27,
        "total_terms": 67
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Browser Flow Implementation",
        "auth",
        "blob",
        "client",
        "com",
        "fastmcp",
        "github",
        "https",
        "jlowin",
        "oauth",
        "src"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "overall": 0.6866666666666666
    }
  },
  {
    "text": "## Identity Provider Integration\n\nFastMCP supports multiple identity providers through standardized OAuth 2.0 and OpenID Connect protocols. The authentication system is provider-agnostic, requiring only standard OAuth endpoints.",
    "metadata": {
      "chunk_id": "31799737fd43-0012",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Identity Provider Integration"
      ],
      "heading_text": "Identity Provider Integration",
      "token_count": 39,
      "char_count": 228,
      "start_char": 8623,
      "end_char": 8851,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5677777777777778,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.500546",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 39,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Identity Provider Integration",
      "chunk_hash": "78f0880205491506",
      "content_digest": "78f0880205491506",
      "chunk_length": 228,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "identity",
          "provider",
          "oauth",
          "integration",
          "fastmcp",
          "supports",
          "multiple",
          "providers",
          "through",
          "standardized",
          "and",
          "openid",
          "connect",
          "protocols",
          "the",
          "authentication",
          "system",
          "agnostic",
          "requiring",
          "only"
        ],
        "term_weights": [
          {
            "term": "identity",
            "tf": 2,
            "weight": 0.08
          },
          {
            "term": "provider",
            "tf": 2,
            "weight": 0.08
          },
          {
            "term": "oauth",
            "tf": 2,
            "weight": 0.08
          },
          {
            "term": "integration",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "fastmcp",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "supports",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "providers",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "standardized",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "openid",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "connect",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "protocols",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "authentication",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "agnostic",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "requiring",
            "tf": 1,
            "weight": 0.04
          },
          {
            "term": "only",
            "tf": 1,
            "weight": 0.04
          }
        ],
        "unique_terms": 22,
        "total_terms": 25
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Identity Provider Integration",
        "fastmcp",
        "identity",
        "integration",
        "multiple",
        "oauth",
        "provider",
        "providers",
        "standardized",
        "supports",
        "through"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5677777777777778,
      "overall": 0.7225925925925926
    }
  },
  {
    "text": "### Provider Configuration ``` ``` Sources: [src/fastmcp/server/auth/oidc\\_proxy.py27-169](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/auth/oidc_proxy.py#L27-L169) [src/fastmcp/server/auth/providers/auth0.py36-175](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/auth/providers/auth0.py#L36-L175)",
    "metadata": {
      "chunk_id": "31799737fd43-0013",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Provider Configuration"
      ],
      "heading_text": "Provider Configuration",
      "token_count": 104,
      "char_count": 338,
      "start_char": 8853,
      "end_char": 9191,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.501434",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 104,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Provider Configuration",
      "chunk_hash": "053f05f3d3e319a1",
      "content_digest": "053f05f3d3e319a1",
      "chunk_length": 338,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastmcp",
          "src",
          "server",
          "auth",
          "oidc",
          "proxy",
          "https",
          "github",
          "com",
          "jlowin",
          "blob",
          "66221ed3",
          "providers",
          "auth0",
          "provider",
          "configuration",
          "sources",
          "py27",
          "169",
          "l27"
        ],
        "term_weights": [
          {
            "term": "fastmcp",
            "tf": 6,
            "weight": 0.122449
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.081633
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.081633
          },
          {
            "term": "auth",
            "tf": 4,
            "weight": 0.081633
          },
          {
            "term": "oidc",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "proxy",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "jlowin",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "66221ed3",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "providers",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "auth0",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "provider",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "py27",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "169",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "l27",
            "tf": 1,
            "weight": 0.020408
          }
        ],
        "unique_terms": 25,
        "total_terms": 49
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Provider Configuration",
        "auth",
        "com",
        "fastmcp",
        "github",
        "https",
        "jlowin",
        "oidc",
        "proxy",
        "server",
        "src"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "overall": 0.6841666666666667
    }
  },
  {
    "text": "### Authentication Pre-flight Check  Before initiating OAuth flows, FastMCP can check if authentication is required: ``` ``` This function tests the endpoint and returns `True` if authentication appears required based on HTTP status codes (401, 403) or WWW-Authenticate headers. Sources: [src/fastmcp/client/auth/oauth.py212-240](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L212-L240)",
    "metadata": {
      "chunk_id": "31799737fd43-0014",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Authentication Pre-flight Check"
      ],
      "heading_text": "Authentication Pre-flight Check",
      "token_count": 99,
      "char_count": 421,
      "start_char": 9195,
      "end_char": 9616,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5534146341463415,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.503074",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 99,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Authentication Pre-flight Check",
      "chunk_hash": "a6781e1274d38b2a",
      "content_digest": "a6781e1274d38b2a",
      "chunk_length": 421,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastmcp",
          "authentication",
          "oauth",
          "check",
          "required",
          "src",
          "client",
          "auth",
          "pre",
          "flight",
          "before",
          "initiating",
          "flows",
          "can",
          "this",
          "function",
          "tests",
          "the",
          "endpoint",
          "and"
        ],
        "term_weights": [
          {
            "term": "fastmcp",
            "tf": 4,
            "weight": 0.072727
          },
          {
            "term": "authentication",
            "tf": 3,
            "weight": 0.054545
          },
          {
            "term": "oauth",
            "tf": 3,
            "weight": 0.054545
          },
          {
            "term": "check",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "required",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "client",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "auth",
            "tf": 2,
            "weight": 0.036364
          },
          {
            "term": "pre",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "flight",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "before",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "initiating",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "flows",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "can",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "this",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "function",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "tests",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "endpoint",
            "tf": 1,
            "weight": 0.018182
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.018182
          }
        ],
        "unique_terms": 43,
        "total_terms": 55
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Authentication Pre-flight Check",
        "auth",
        "authentication",
        "check",
        "client",
        "fastmcp",
        "flight",
        "oauth",
        "pre",
        "required",
        "src"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5534146341463415,
      "overall": 0.7178048780487805
    }
  },
  {
    "text": "## Configuration and Usage",
    "metadata": {
      "chunk_id": "31799737fd43-0015",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration and Usage"
      ],
      "heading_text": "Configuration and Usage",
      "token_count": 4,
      "char_count": 26,
      "start_char": 9621,
      "end_char": 9647,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.503506",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 4,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Configuration and Usage",
      "chunk_hash": "6d90edbb3493ec73",
      "content_digest": "6d90edbb3493ec73",
      "chunk_length": 26,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "configuration",
          "and",
          "usage"
        ],
        "term_weights": [
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "usage",
            "tf": 1,
            "weight": 0.333333
          }
        ],
        "unique_terms": 3,
        "total_terms": 3
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Configuration and Usage",
        "and",
        "configuration",
        "usage"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Basic OAuth Configuration ``` ```",
    "metadata": {
      "chunk_id": "31799737fd43-0016",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Basic OAuth Configuration"
      ],
      "heading_text": "Basic OAuth Configuration",
      "token_count": 6,
      "char_count": 37,
      "start_char": 9649,
      "end_char": 9686,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.503850",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 6,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Basic OAuth Configuration",
      "chunk_hash": "243a9c5ce1e0a0f8",
      "content_digest": "243a9c5ce1e0a0f8",
      "chunk_length": 37,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "basic",
          "oauth",
          "configuration"
        ],
        "term_weights": [
          {
            "term": "basic",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "oauth",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.333333
          }
        ],
        "unique_terms": 3,
        "total_terms": 3
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Basic OAuth Configuration",
        "basic",
        "configuration",
        "oauth"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "overall": 0.7466666666666667
    }
  },
  {
    "text": "### Error Handling and Recovery  The OAuth implementation includes automatic error recovery:  - **Stale Credentials**: Detects invalid client\\_id and clears cache for retry - **Token Expiry**: Automatically refreshes expired tokens - **Network Errors**: Graceful handling of connection issues - **Timeout Handling**: 5-minute timeout with user-friendly messages  Sources: [src/fastmcp/client/auth/oauth.py376-427](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L376-L427) [src/fastmcp/client/auth/oauth.py38-41](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/auth/oauth.py#L38-L41)  Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "31799737fd43-0019",
      "source_file": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "file_extension": ".md",
      "chunk_index": 19,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Error Handling and Recovery"
      ],
      "heading_text": "Error Handling and Recovery",
      "token_count": 168,
      "char_count": 687,
      "start_char": 10551,
      "end_char": 11238,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5531578947368421,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:03.506182",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 168,
      "document_id": "31799737fd43",
      "document_name": "_jlowin_fastmcp_3.2-client-authentication",
      "source_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "source_filename": "_jlowin_fastmcp_3.2-client-authentication.md",
      "source_directory": "Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_3.2-client-authentication.md",
      "hierarchy_path": "Error Handling and Recovery",
      "chunk_hash": "090e4f30f76857bd",
      "content_digest": "090e4f30f76857bd",
      "chunk_length": 687,
      "payload_version": "1.3",
      "collection_hints": [
        "fast_docs"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastmcp",
          "oauth",
          "client",
          "src",
          "auth",
          "handling",
          "error",
          "and",
          "recovery",
          "timeout",
          "https",
          "github",
          "com",
          "jlowin",
          "blob",
          "66221ed3",
          "refresh",
          "the",
          "implementation",
          "includes"
        ],
        "term_weights": [
          {
            "term": "fastmcp",
            "tf": 6,
            "weight": 0.066667
          },
          {
            "term": "oauth",
            "tf": 5,
            "weight": 0.055556
          },
          {
            "term": "client",
            "tf": 5,
            "weight": 0.055556
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.044444
          },
          {
            "term": "auth",
            "tf": 4,
            "weight": 0.044444
          },
          {
            "term": "handling",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "error",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "recovery",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "timeout",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "jlowin",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "66221ed3",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.011111
          },
          {
            "term": "implementation",
            "tf": 1,
            "weight": 0.011111
          },
          {
            "term": "includes",
            "tf": 1,
            "weight": 0.011111
          }
        ],
        "unique_terms": 58,
        "total_terms": 90
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Error Handling and Recovery",
        "and",
        "auth",
        "client",
        "error",
        "fastmcp",
        "handling",
        "oauth",
        "recovery",
        "src",
        "timeout"
      ],
      "collection_name": "FAST_DOCS"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5531578947368421,
      "overall": 0.7177192982456141
    }
  }
]