[
  {
    "text": "## Overview  Docling's layout and table structure analysis pipeline consists of several interconnected models that process documents in stages: ``` ``` The pipeline processes pages through preprocessing, layout analysis with cleanup, and specialized table structure recognition for table elements identified by the layout model. **Sources**: [docling/models/layout\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/layout_model.py) [docling/models/table\\_structure\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py) [docling/models/page\\_preprocessing\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/page_preprocessing_model.py) [docling/utils/layout\\_postprocessor.py](https://github.com/docling-project/docling/blob/f7244a43/docling/utils/layout_postprocessor.py)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0001",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Overview"
      ],
      "heading_text": "Overview",
      "token_count": 188,
      "char_count": 891,
      "start_char": 7924,
      "end_char": 8815,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5287755102040816,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.662403",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 188,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Overview",
      "chunk_hash": "0b1130349fdf6dd5",
      "content_digest": "0b1130349fdf6dd5",
      "chunk_length": 891,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "layout",
          "models",
          "model",
          "table",
          "structure",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "preprocessing",
          "and",
          "analysis",
          "pipeline",
          "the",
          "page",
          "utils",
          "postprocessor"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 17,
            "weight": 0.158879
          },
          {
            "term": "layout",
            "tf": 7,
            "weight": 0.065421
          },
          {
            "term": "models",
            "tf": 7,
            "weight": 0.065421
          },
          {
            "term": "model",
            "tf": 7,
            "weight": 0.065421
          },
          {
            "term": "table",
            "tf": 5,
            "weight": 0.046729
          },
          {
            "term": "structure",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "project",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "f7244a43",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "preprocessing",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "analysis",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "pipeline",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "page",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "utils",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "postprocessor",
            "tf": 2,
            "weight": 0.018692
          }
        ],
        "unique_terms": 39,
        "total_terms": 107
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Overview",
        "com",
        "docling",
        "github",
        "https",
        "layout",
        "model",
        "models",
        "project",
        "structure",
        "table"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5287755102040816,
      "overall": 0.6762585034013605
    }
  },
  {
    "text": "## Page Preprocessing Model\n\nThe `PagePreprocessingModel` handles initial page processing, extracting images and text cells while assessing text quality.",
    "metadata": {
      "chunk_id": "89f89056bd4f-0002",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Page Preprocessing Model"
      ],
      "heading_text": "Page Preprocessing Model",
      "token_count": 28,
      "char_count": 153,
      "start_char": 8820,
      "end_char": 8973,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5584210526315789,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.662958",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 28,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Page Preprocessing Model",
      "chunk_hash": "5d5a89ef24c4c444",
      "content_digest": "5d5a89ef24c4c444",
      "chunk_length": 153,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "page",
          "text",
          "preprocessing",
          "model",
          "the",
          "pagepreprocessingmodel",
          "handles",
          "initial",
          "processing",
          "extracting",
          "images",
          "and",
          "cells",
          "while",
          "assessing",
          "quality"
        ],
        "term_weights": [
          {
            "term": "page",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "text",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "preprocessing",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "pagepreprocessingmodel",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "handles",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "initial",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "processing",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "extracting",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "images",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "cells",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "while",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "assessing",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "quality",
            "tf": 1,
            "weight": 0.055556
          }
        ],
        "unique_terms": 16,
        "total_terms": 18
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Page Preprocessing Model",
        "extracting",
        "handles",
        "initial",
        "model",
        "page",
        "pagepreprocessingmodel",
        "preprocessing",
        "processing",
        "text",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5584210526315789,
      "overall": 0.7528070175438596
    }
  },
  {
    "text": "### Text Quality Assessment  The model uses several patterns to detect problematic text extraction: ``` ``` Hard failures (score 0.0) include replacement characters, glyph patterns, and excessive slash-number sequences. Fragment patterns apply graduated penalties. **Sources**: [docling/models/page\\_preprocessing\\_model.py120-145](https://github.com/docling-project/docling/blob/f7244a43/docling/models/page_preprocessing_model.py#L120-L145)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0004",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Text Quality Assessment"
      ],
      "heading_text": "Text Quality Assessment",
      "token_count": 93,
      "char_count": 442,
      "start_char": 10464,
      "end_char": 10906,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.565,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.666573",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 93,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Text Quality Assessment",
      "chunk_hash": "b62271cbf9b7e695",
      "content_digest": "b62271cbf9b7e695",
      "chunk_length": 442,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "model",
          "patterns",
          "text",
          "models",
          "page",
          "preprocessing",
          "quality",
          "assessment",
          "the",
          "uses",
          "several",
          "detect",
          "problematic",
          "extraction",
          "hard",
          "failures",
          "score",
          "include",
          "replacement"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "model",
            "tf": 3,
            "weight": 0.056604
          },
          {
            "term": "patterns",
            "tf": 3,
            "weight": 0.056604
          },
          {
            "term": "text",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "models",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "page",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "preprocessing",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "quality",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "assessment",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "several",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "detect",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "problematic",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "extraction",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "hard",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "failures",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "score",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "include",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "replacement",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 42,
        "total_terms": 53
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Text Quality Assessment",
        "assessment",
        "docling",
        "model",
        "models",
        "page",
        "patterns",
        "preprocessing",
        "quality",
        "text",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.565,
      "overall": 0.7216666666666667
    }
  },
  {
    "text": "## Layout Model\n\nThe `LayoutModel` performs document layout analysis using IBM's layout prediction models to identify and classify document elements.",
    "metadata": {
      "chunk_id": "89f89056bd4f-0005",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Layout Model"
      ],
      "heading_text": "Layout Model",
      "token_count": 26,
      "char_count": 149,
      "start_char": 10911,
      "end_char": 11060,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.667009",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 26,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Layout Model",
      "chunk_hash": "91ef2a7b593ed692",
      "content_digest": "91ef2a7b593ed692",
      "chunk_length": 149,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "layout",
          "document",
          "model",
          "the",
          "layoutmodel",
          "performs",
          "analysis",
          "using",
          "ibm",
          "prediction",
          "models",
          "identify",
          "and",
          "classify",
          "elements"
        ],
        "term_weights": [
          {
            "term": "layout",
            "tf": 3,
            "weight": 0.166667
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "layoutmodel",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "performs",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "analysis",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "using",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "ibm",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "prediction",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "models",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "identify",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "classify",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "elements",
            "tf": 1,
            "weight": 0.055556
          }
        ],
        "unique_terms": 15,
        "total_terms": 18
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Layout Model",
        "analysis",
        "document",
        "ibm",
        "layout",
        "layoutmodel",
        "model",
        "performs",
        "prediction",
        "the",
        "using"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "overall": 0.7483333333333334
    }
  },
  {
    "text": "### Batch Processing Architecture ``` ``` The model processes pages in batches for efficiency, using the `LayoutPredictor.predict_batch()` method from `docling_ibm_models`. **Sources**: [docling/models/layout\\_model.py148-237](https://github.com/docling-project/docling/blob/f7244a43/docling/models/layout_model.py#L148-L237) [docling/models/layout\\_model.py28-47](https://github.com/docling-project/docling/blob/f7244a43/docling/models/layout_model.py#L28-L47)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0007",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Batch Processing Architecture"
      ],
      "heading_text": "Batch Processing Architecture",
      "token_count": 114,
      "char_count": 461,
      "start_char": 12317,
      "end_char": 12778,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5639130434782609,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.669743",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 114,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Batch Processing Architecture",
      "chunk_hash": "dfe43e9abcb00c75",
      "content_digest": "dfe43e9abcb00c75",
      "chunk_length": 461,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "model",
          "models",
          "layout",
          "batch",
          "the",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "processing",
          "architecture",
          "processes",
          "pages",
          "batches",
          "for",
          "efficiency",
          "using"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 9,
            "weight": 0.15
          },
          {
            "term": "model",
            "tf": 5,
            "weight": 0.083333
          },
          {
            "term": "models",
            "tf": 5,
            "weight": 0.083333
          },
          {
            "term": "layout",
            "tf": 4,
            "weight": 0.066667
          },
          {
            "term": "batch",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.033333
          },
          {
            "term": "processing",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "processes",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "pages",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "batches",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "efficiency",
            "tf": 1,
            "weight": 0.016667
          },
          {
            "term": "using",
            "tf": 1,
            "weight": 0.016667
          }
        ],
        "unique_terms": 33,
        "total_terms": 60
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Batch Processing Architecture",
        "batch",
        "com",
        "docling",
        "github",
        "https",
        "layout",
        "model",
        "models",
        "project",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5639130434782609,
      "overall": 0.6879710144927537
    }
  },
  {
    "text": "### Model Configuration  The layout model supports different model specifications through `LayoutModelConfig`: ``` ``` Models are downloaded from HuggingFace repositories and cached locally for reuse. **Sources**: [docling/models/layout\\_model.py89-102](https://github.com/docling-project/docling/blob/f7244a43/docling/models/layout_model.py#L89-L102) [docling/datamodel/layout\\_model\\_specs.py](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/layout_model_specs.py)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0008",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Model Configuration"
      ],
      "heading_text": "Model Configuration",
      "token_count": 111,
      "char_count": 493,
      "start_char": 12783,
      "end_char": 13276,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5578571428571428,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.671087",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 111,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Model Configuration",
      "chunk_hash": "a1dd4fc3f8efca9c",
      "content_digest": "a1dd4fc3f8efca9c",
      "chunk_length": 493,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "model",
          "layout",
          "models",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "datamodel",
          "specs",
          "configuration",
          "the",
          "supports",
          "different",
          "specifications",
          "through",
          "layoutmodelconfig",
          "are"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.131148
          },
          {
            "term": "model",
            "tf": 7,
            "weight": 0.114754
          },
          {
            "term": "layout",
            "tf": 5,
            "weight": 0.081967
          },
          {
            "term": "models",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "datamodel",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "specs",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "supports",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "different",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "specifications",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "layoutmodelconfig",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.016393
          }
        ],
        "unique_terms": 34,
        "total_terms": 61
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Model Configuration",
        "blob",
        "com",
        "docling",
        "f7244a43",
        "github",
        "https",
        "layout",
        "model",
        "models",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5578571428571428,
      "overall": 0.7192857142857143
    }
  },
  {
    "text": "## Layout Postprocessor\n\nThe `LayoutPostprocessor` refines raw layout predictions through spatial indexing, overlap resolution, and cell assignment.",
    "metadata": {
      "chunk_id": "89f89056bd4f-0009",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Layout Postprocessor"
      ],
      "heading_text": "Layout Postprocessor",
      "token_count": 27,
      "char_count": 148,
      "start_char": 13281,
      "end_char": 13429,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5723529411764706,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.671528",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 27,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Layout Postprocessor",
      "chunk_hash": "60748ff9ce38e54b",
      "content_digest": "60748ff9ce38e54b",
      "chunk_length": 148,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "layout",
          "postprocessor",
          "the",
          "layoutpostprocessor",
          "refines",
          "raw",
          "predictions",
          "through",
          "spatial",
          "indexing",
          "overlap",
          "resolution",
          "and",
          "cell",
          "assignment"
        ],
        "term_weights": [
          {
            "term": "layout",
            "tf": 2,
            "weight": 0.125
          },
          {
            "term": "postprocessor",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "layoutpostprocessor",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "refines",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "raw",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "predictions",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "spatial",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "indexing",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "overlap",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "resolution",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "cell",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "assignment",
            "tf": 1,
            "weight": 0.0625
          }
        ],
        "unique_terms": 15,
        "total_terms": 16
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Layout Postprocessor",
        "indexing",
        "layout",
        "layoutpostprocessor",
        "postprocessor",
        "predictions",
        "raw",
        "refines",
        "spatial",
        "the",
        "through"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5723529411764706,
      "overall": 0.7574509803921569
    }
  },
  {
    "text": "### Spatial Indexing System ``` ``` The postprocessor uses multiple spatial data structures for efficient overlap detection and resolution. **Sources**: [docling/utils/layout\\_postprocessor.py50-106](https://github.com/docling-project/docling/blob/f7244a43/docling/utils/layout_postprocessor.py#L50-L106) [docling/utils/layout\\_postprocessor.py17-48](https://github.com/docling-project/docling/blob/f7244a43/docling/utils/layout_postprocessor.py#L17-L48)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0010",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Spatial Indexing System"
      ],
      "heading_text": "Spatial Indexing System",
      "token_count": 107,
      "char_count": 454,
      "start_char": 13431,
      "end_char": 13885,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5627272727272727,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.672730",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 107,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Spatial Indexing System",
      "chunk_hash": "ecd52de799195e16",
      "content_digest": "ecd52de799195e16",
      "chunk_length": 454,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "postprocessor",
          "utils",
          "layout",
          "spatial",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "indexing",
          "system",
          "the",
          "uses",
          "multiple",
          "data",
          "structures",
          "for",
          "efficient"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.142857
          },
          {
            "term": "postprocessor",
            "tf": 5,
            "weight": 0.089286
          },
          {
            "term": "utils",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "layout",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "spatial",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "indexing",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "data",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "structures",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "efficient",
            "tf": 1,
            "weight": 0.017857
          }
        ],
        "unique_terms": 32,
        "total_terms": 56
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Spatial Indexing System",
        "blob",
        "com",
        "docling",
        "github",
        "https",
        "layout",
        "postprocessor",
        "project",
        "spatial",
        "utils"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5627272727272727,
      "overall": 0.6875757575757575
    }
  },
  {
    "text": "### Cell Assignment Strategy ``` ``` Cells are assigned to clusters based on spatial overlap, with unassigned cells optionally converted to orphan text clusters. **Sources**: [docling/utils/layout\\_postprocessor.py585-617](https://github.com/docling-project/docling/blob/f7244a43/docling/utils/layout_postprocessor.py#L585-L617) [docling/utils/layout\\_postprocessor.py284-301](https://github.com/docling-project/docling/blob/f7244a43/docling/utils/layout_postprocessor.py#L284-L301)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0012",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Cell Assignment Strategy"
      ],
      "heading_text": "Cell Assignment Strategy",
      "token_count": 112,
      "char_count": 482,
      "start_char": 14878,
      "end_char": 15360,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.675691",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 112,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Cell Assignment Strategy",
      "chunk_hash": "25c04fbe7d10f004",
      "content_digest": "25c04fbe7d10f004",
      "chunk_length": 482,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "utils",
          "layout",
          "postprocessor",
          "cells",
          "clusters",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "cell",
          "assignment",
          "strategy",
          "are",
          "assigned",
          "based",
          "spatial",
          "overlap"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.135593
          },
          {
            "term": "utils",
            "tf": 4,
            "weight": 0.067797
          },
          {
            "term": "layout",
            "tf": 4,
            "weight": 0.067797
          },
          {
            "term": "postprocessor",
            "tf": 4,
            "weight": 0.067797
          },
          {
            "term": "cells",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "clusters",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "cell",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "assignment",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "strategy",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "assigned",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "based",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "spatial",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "overlap",
            "tf": 1,
            "weight": 0.016949
          }
        ],
        "unique_terms": 35,
        "total_terms": 59
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Cell Assignment Strategy",
        "cells",
        "clusters",
        "com",
        "docling",
        "github",
        "https",
        "layout",
        "postprocessor",
        "project",
        "utils"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "overall": 0.6855555555555556
    }
  },
  {
    "text": "## Table Structure Model\n\nThe `TableStructureModel` uses TableFormer to extract detailed table structure from table regions identified by the layout model. It predicts both the structural representation (in OTSL format) and the precise bounding boxes for each table cell.",
    "metadata": {
      "chunk_id": "89f89056bd4f-0013",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Table Structure Model"
      ],
      "heading_text": "Table Structure Model",
      "token_count": 50,
      "char_count": 271,
      "start_char": 15365,
      "end_char": 15636,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5361538461538461,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.676475",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 50,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Table Structure Model",
      "chunk_hash": "c3fa8c1f7e0212b1",
      "content_digest": "c3fa8c1f7e0212b1",
      "chunk_length": 271,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "table",
          "the",
          "structure",
          "model",
          "tablestructuremodel",
          "uses",
          "tableformer",
          "extract",
          "detailed",
          "from",
          "regions",
          "identified",
          "layout",
          "predicts",
          "both",
          "structural",
          "representation",
          "otsl",
          "format",
          "and"
        ],
        "term_weights": [
          {
            "term": "table",
            "tf": 4,
            "weight": 0.117647
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.117647
          },
          {
            "term": "structure",
            "tf": 2,
            "weight": 0.058824
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.058824
          },
          {
            "term": "tablestructuremodel",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "tableformer",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "extract",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "detailed",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "regions",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "identified",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "layout",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "predicts",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "both",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "structural",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "representation",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "otsl",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "format",
            "tf": 1,
            "weight": 0.029412
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.029412
          }
        ],
        "unique_terms": 26,
        "total_terms": 34
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Table Structure Model",
        "detailed",
        "extract",
        "from",
        "model",
        "structure",
        "table",
        "tableformer",
        "tablestructuremodel",
        "the",
        "uses"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5361538461538461,
      "overall": 0.7453846153846153
    }
  },
  {
    "text": "### TableFormer Architecture  The model consists of three main components: ``` ``` The model operates at 2x scale (144 DPI) for improved accuracy. The scale factor is applied to both input images and coordinates, then predictions are scaled back. **Sources**: [docling/models/table\\_structure\\_model.py29-90](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L29-L90) [docling/models/table\\_structure\\_model.py65-90](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L65-L90) [docling/models/table\\_structure\\_model.py92-101](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L92-L101)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0014",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "TableFormer Architecture"
      ],
      "heading_text": "TableFormer Architecture",
      "token_count": 178,
      "char_count": 726,
      "start_char": 15638,
      "end_char": 16364,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5551162790697675,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.678718",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 178,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "TableFormer Architecture",
      "chunk_hash": "5339ad3e479cbd8d",
      "content_digest": "5339ad3e479cbd8d",
      "chunk_length": 726,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "model",
          "models",
          "table",
          "structure",
          "the",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "scale",
          "l90",
          "tableformer",
          "architecture",
          "consists",
          "three",
          "main",
          "components"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.125
          },
          {
            "term": "model",
            "tf": 8,
            "weight": 0.083333
          },
          {
            "term": "models",
            "tf": 6,
            "weight": 0.0625
          },
          {
            "term": "table",
            "tf": 6,
            "weight": 0.0625
          },
          {
            "term": "structure",
            "tf": 6,
            "weight": 0.0625
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "scale",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "l90",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "tableformer",
            "tf": 1,
            "weight": 0.010417
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.010417
          },
          {
            "term": "consists",
            "tf": 1,
            "weight": 0.010417
          },
          {
            "term": "three",
            "tf": 1,
            "weight": 0.010417
          },
          {
            "term": "main",
            "tf": 1,
            "weight": 0.010417
          },
          {
            "term": "components",
            "tf": 1,
            "weight": 0.010417
          }
        ],
        "unique_terms": 47,
        "total_terms": 96
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "TableFormer Architecture",
        "com",
        "docling",
        "github",
        "https",
        "model",
        "models",
        "project",
        "structure",
        "table",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5551162790697675,
      "overall": 0.6850387596899224
    }
  },
  {
    "text": "### OTSL Token Language  TableFormer predicts table structure using OTSL (Optimized Table Structure Language), a minimal vocabulary for representing table structure:  | OTSL Token   | Meaning                     | Example Context                     | | ------------ | --------------------------- | ----------------------------------- | | `<ched>`     | Column header cell          | `<otsl>...<ched>Header Text<nl>...` | | `<fcel>`     | First cell in row           | `<fcel>Cell 1<fcel>Cell 2<nl>`      | | `<lcel>`     | Last cell in row (implicit) | Continues until `<nl>`              | | `<nl>`       | New line (end row)          | `<fcel>A<fcel>B<nl>`                | | `<srowspan>` | Row span start              | For merged cells                    | | `<erowspan>` | Row span end                | End of merged region                |  The OTSL sequence provides a structured representation that can be parsed to reconstruct the complete table grid, including spanning cells. **Sources**: [tests/data/groundtruth/docling\\_v2/2203.01017v2.doctags.txt10-12](https://github.com/docling-project/docling/blob/f7244a43/tests/data/groundtruth/docling_v2/2203.01017v2.doctags.txt#L10-L12) [docling/models/table\\_structure\\_model.py275-279](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L275-L279)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0015",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "OTSL Token Language"
      ],
      "heading_text": "OTSL Token Language",
      "token_count": 332,
      "char_count": 1351,
      "start_char": 16369,
      "end_char": 17720,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.677725,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "table_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.680331",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 332,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "OTSL Token Language",
      "chunk_hash": "1611c93b2ca5a660",
      "content_digest": "1611c93b2ca5a660",
      "chunk_length": 1351,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "table",
          "otsl",
          "structure",
          "cell",
          "fcel",
          "row",
          "end",
          "token",
          "language",
          "for",
          "ched",
          "header",
          "span",
          "merged",
          "cells",
          "the",
          "tests",
          "data",
          "groundtruth"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.06015
          },
          {
            "term": "table",
            "tf": 6,
            "weight": 0.045113
          },
          {
            "term": "otsl",
            "tf": 5,
            "weight": 0.037594
          },
          {
            "term": "structure",
            "tf": 5,
            "weight": 0.037594
          },
          {
            "term": "cell",
            "tf": 5,
            "weight": 0.037594
          },
          {
            "term": "fcel",
            "tf": 5,
            "weight": 0.037594
          },
          {
            "term": "row",
            "tf": 5,
            "weight": 0.037594
          },
          {
            "term": "end",
            "tf": 3,
            "weight": 0.022556
          },
          {
            "term": "token",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "language",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "ched",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "header",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "span",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "merged",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "cells",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "data",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "groundtruth",
            "tf": 2,
            "weight": 0.015038
          }
        ],
        "unique_terms": 76,
        "total_terms": 133
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "OTSL Token Language",
        "cell",
        "docling",
        "end",
        "fcel",
        "language",
        "otsl",
        "row",
        "structure",
        "table",
        "token"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.677725,
      "overall": 0.7925749999999999
    }
  },
  {
    "text": "### Table Processing Workflow  The table structure extraction follows this detailed workflow: ``` ``` Key implementation details:  | Stage                  | Operation                                                         | Code Reference                                                                                                                                                 | | ---------------------- | ----------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | | Input Preparation      | Scale page image to 2x, extract table bounding boxes              | [docling/models/table\\_structure\\_model.py190-216](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L190-L216) | | Token Extraction       | Prefer word-level cells, fall back to line-level cells            | [docling/models/table\\_structure\\_model.py218-248](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L218-L248) | | TableFormer Prediction | Call `tf_predictor.multi_table_predict()` with scaled inputs      | [docling/models/table\\_structure\\_model.py250-253](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L250-L253) | | Cell Matching          | Match predicted cells to extracted tokens or extract from backend | [docling/models/table\\_structure\\_model.py256-268](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L256-L268) | | Coordinate Unscaling   | Scale all bounding boxes back by 1/2.0 before storage             | [docling/models/table\\_structure\\_model.py267-268](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L267-L268) | | Output Assembly        | Create `Table` object with OTSL sequence and `TableCell` array    | [docling/models/table\\_structure\\_model.py281-294](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L281-L294) |",
    "metadata": {
      "chunk_id": "89f89056bd4f-0016",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Table Processing Workflow"
      ],
      "heading_text": "Table Processing Workflow",
      "token_count": 417,
      "char_count": 2178,
      "start_char": 17723,
      "end_char": 19901,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5186483870967742,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.690692",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 417,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Table Processing Workflow",
      "chunk_hash": "3734026d8c93aef2",
      "content_digest": "3734026d8c93aef2",
      "chunk_length": 2178,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "table",
          "structure",
          "models",
          "model",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "cells",
          "workflow",
          "extraction",
          "scale",
          "extract",
          "bounding",
          "boxes",
          "level",
          "back"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 24,
            "weight": 0.114286
          },
          {
            "term": "table",
            "tf": 17,
            "weight": 0.080952
          },
          {
            "term": "structure",
            "tf": 13,
            "weight": 0.061905
          },
          {
            "term": "models",
            "tf": 12,
            "weight": 0.057143
          },
          {
            "term": "model",
            "tf": 12,
            "weight": 0.057143
          },
          {
            "term": "https",
            "tf": 6,
            "weight": 0.028571
          },
          {
            "term": "github",
            "tf": 6,
            "weight": 0.028571
          },
          {
            "term": "com",
            "tf": 6,
            "weight": 0.028571
          },
          {
            "term": "project",
            "tf": 6,
            "weight": 0.028571
          },
          {
            "term": "blob",
            "tf": 6,
            "weight": 0.028571
          },
          {
            "term": "f7244a43",
            "tf": 6,
            "weight": 0.028571
          },
          {
            "term": "cells",
            "tf": 3,
            "weight": 0.014286
          },
          {
            "term": "workflow",
            "tf": 2,
            "weight": 0.009524
          },
          {
            "term": "extraction",
            "tf": 2,
            "weight": 0.009524
          },
          {
            "term": "scale",
            "tf": 2,
            "weight": 0.009524
          },
          {
            "term": "extract",
            "tf": 2,
            "weight": 0.009524
          },
          {
            "term": "bounding",
            "tf": 2,
            "weight": 0.009524
          },
          {
            "term": "boxes",
            "tf": 2,
            "weight": 0.009524
          },
          {
            "term": "level",
            "tf": 2,
            "weight": 0.009524
          },
          {
            "term": "back",
            "tf": 2,
            "weight": 0.009524
          }
        ],
        "unique_terms": 94,
        "total_terms": 210
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Table Processing Workflow",
        "blob",
        "com",
        "docling",
        "github",
        "https",
        "model",
        "models",
        "project",
        "structure",
        "table"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5186483870967742,
      "overall": 0.706216129032258
    }
  },
  {
    "text": "### Cell Matching Strategy  The `do_cell_matching` option controls how cell content is extracted: ``` ``` With cell matching enabled (default), the model matches input text tokens to predicted cells, preserving original text. With matching disabled, text is extracted from the PDF using predicted cell coordinates, which works better when no word-level segmentation is available. **Sources**: [docling/models/table\\_structure\\_model.py218-268](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L218-L268) [docling/models/table\\_structure\\_model.py41-42](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L41-L42)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0017",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 17,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Cell Matching Strategy"
      ],
      "heading_text": "Cell Matching Strategy",
      "token_count": 155,
      "char_count": 706,
      "start_char": 19905,
      "end_char": 20611,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.521578947368421,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.694024",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 155,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Cell Matching Strategy",
      "chunk_hash": "7cf6669aca7a5141",
      "content_digest": "7cf6669aca7a5141",
      "chunk_length": 706,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "cell",
          "model",
          "matching",
          "models",
          "table",
          "structure",
          "the",
          "text",
          "extracted",
          "with",
          "predicted",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "strategy",
          "option"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.086957
          },
          {
            "term": "cell",
            "tf": 5,
            "weight": 0.054348
          },
          {
            "term": "model",
            "tf": 5,
            "weight": 0.054348
          },
          {
            "term": "matching",
            "tf": 4,
            "weight": 0.043478
          },
          {
            "term": "models",
            "tf": 4,
            "weight": 0.043478
          },
          {
            "term": "table",
            "tf": 4,
            "weight": 0.043478
          },
          {
            "term": "structure",
            "tf": 4,
            "weight": 0.043478
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "text",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "extracted",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "predicted",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "strategy",
            "tf": 1,
            "weight": 0.01087
          },
          {
            "term": "option",
            "tf": 1,
            "weight": 0.01087
          }
        ],
        "unique_terms": 52,
        "total_terms": 92
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Cell Matching Strategy",
        "cell",
        "docling",
        "extracted",
        "matching",
        "model",
        "models",
        "structure",
        "table",
        "text",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.521578947368421,
      "overall": 0.7071929824561404
    }
  },
  {
    "text": "### Table Cell Output Structure  Each `TableCell` contains structural and spatial information: ``` ``` The model also provides aggregate information in the `Table` object:  - `otsl_seq`: List of OTSL tokens representing structure - `table_cells`: List of all `TableCell` objects - `num_rows`: Total number of rows - `num_cols`: Total number of columns  **Sources**: [docling/models/table\\_structure\\_model.py265-294](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L265-L294) [tests/data/groundtruth/docling\\_v2/2203.01017v2.json](https://github.com/docling-project/docling/blob/f7244a43/tests/data/groundtruth/docling_v2/2203.01017v2.json)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0018",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 18,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Table Cell Output Structure"
      ],
      "heading_text": "Table Cell Output Structure",
      "token_count": 176,
      "char_count": 689,
      "start_char": 20616,
      "end_char": 21305,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5177777777777778,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.696269",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 176,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Table Cell Output Structure",
      "chunk_hash": "fb0916d84fc1c7d1",
      "content_digest": "fb0916d84fc1c7d1",
      "chunk_length": 689,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "table",
          "structure",
          "model",
          "tablecell",
          "information",
          "the",
          "otsl",
          "list",
          "num",
          "rows",
          "total",
          "number",
          "models",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.090909
          },
          {
            "term": "table",
            "tf": 5,
            "weight": 0.056818
          },
          {
            "term": "structure",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "model",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "tablecell",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "information",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "otsl",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "list",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "num",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "rows",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "total",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "number",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "models",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.022727
          }
        ],
        "unique_terms": 50,
        "total_terms": 88
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Table Cell Output Structure",
        "docling",
        "information",
        "list",
        "model",
        "num",
        "otsl",
        "structure",
        "table",
        "tablecell",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5177777777777778,
      "overall": 0.7059259259259258
    }
  },
  {
    "text": "## Model Integration Points",
    "metadata": {
      "chunk_id": "89f89056bd4f-0019",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 19,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Model Integration Points"
      ],
      "heading_text": "Model Integration Points",
      "token_count": 4,
      "char_count": 27,
      "start_char": 21309,
      "end_char": 21336,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.696583",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 4,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Model Integration Points",
      "chunk_hash": "3d4034bff9ca8c8f",
      "content_digest": "3d4034bff9ca8c8f",
      "chunk_length": 27,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "model",
          "integration",
          "points"
        ],
        "term_weights": [
          {
            "term": "model",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "integration",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "points",
            "tf": 1,
            "weight": 0.333333
          }
        ],
        "unique_terms": 3,
        "total_terms": 3
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Model Integration Points",
        "integration",
        "model",
        "points"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Pipeline Integration  The layout and table models integrate with the broader Docling pipeline through these interfaces: ``` ``` Each model implements the `BasePageModel.__call__()` interface, processing page batches and updating page predictions. **Sources**: [docling/models/base\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_model.py) [docling/models/layout\\_model.py148-237](https://github.com/docling-project/docling/blob/f7244a43/docling/models/layout_model.py#L148-L237) [docling/models/table\\_structure\\_model.py170-304](https://github.com/docling-project/docling/blob/f7244a43/docling/models/table_structure_model.py#L170-L304)",
    "metadata": {
      "chunk_id": "89f89056bd4f-0020",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 20,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pipeline Integration"
      ],
      "heading_text": "Pipeline Integration",
      "token_count": 159,
      "char_count": 681,
      "start_char": 21338,
      "end_char": 22019,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.697884",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 159,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Pipeline Integration",
      "chunk_hash": "432ce3795af196e2",
      "content_digest": "432ce3795af196e2",
      "chunk_length": 681,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "models",
          "model",
          "the",
          "layout",
          "table",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "pipeline",
          "and",
          "page",
          "base",
          "structure",
          "integration",
          "integrate",
          "with"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 13,
            "weight": 0.146067
          },
          {
            "term": "models",
            "tf": 7,
            "weight": 0.078652
          },
          {
            "term": "model",
            "tf": 7,
            "weight": 0.078652
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.033708
          },
          {
            "term": "layout",
            "tf": 3,
            "weight": 0.033708
          },
          {
            "term": "table",
            "tf": 3,
            "weight": 0.033708
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.033708
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.033708
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.033708
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.033708
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.033708
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.033708
          },
          {
            "term": "pipeline",
            "tf": 2,
            "weight": 0.022472
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.022472
          },
          {
            "term": "page",
            "tf": 2,
            "weight": 0.022472
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.022472
          },
          {
            "term": "structure",
            "tf": 2,
            "weight": 0.022472
          },
          {
            "term": "integration",
            "tf": 1,
            "weight": 0.011236
          },
          {
            "term": "integrate",
            "tf": 1,
            "weight": 0.011236
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.011236
          }
        ],
        "unique_terms": 42,
        "total_terms": 89
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pipeline Integration",
        "com",
        "docling",
        "github",
        "https",
        "layout",
        "model",
        "models",
        "project",
        "table",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "overall": 0.68
    }
  },
  {
    "text": "### Configuration System  Model behavior is controlled through the pipeline options system:  | Option Category         | Key Parameters                                              | Impact                                                | | ----------------------- | ----------------------------------------------------------- | ----------------------------------------------------- | | `LayoutOptions`         | `model_spec`, `skip_cell_assignment`, `keep_empty_clusters` | Layout model selection and post-processing            | | `TableStructureOptions` | `mode`, `do_cell_matching`                                  | TableFormer accuracy vs speed, cell extraction method | | `AcceleratorOptions`    | `device`, `num_threads`                                     | Hardware acceleration and threading                   |  **Sources**: [docling/datamodel/pipeline\\_options.py](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/pipeline_options.py) [tests/test\\_options.py25-40](https://github.com/docling-project/docling/blob/f7244a43/tests/test_options.py#L25-L40)  Dismiss  Refresh this wiki  This wiki was recently refreshed. Please wait 4 days to refresh again.",
    "metadata": {
      "chunk_id": "89f89056bd4f-0021",
      "source_file": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "file_extension": ".md",
      "chunk_index": 21,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration System"
      ],
      "heading_text": "Configuration System",
      "token_count": 214,
      "char_count": 1191,
      "start_char": 22024,
      "end_char": 23215,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5052941176470588,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "table_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:29:58.698592",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 214,
      "document_id": "89f89056bd4f",
      "document_name": "_docling-project_docling_4.2-layout-and-table-structure-models",
      "source_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_filename": "_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_4.2-layout-and-table-structure-models.md",
      "hierarchy_path": "Configuration System",
      "chunk_hash": "2e6b128562d3ad5d",
      "content_digest": "2e6b128562d3ad5d",
      "chunk_length": 1191,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "options",
          "model",
          "pipeline",
          "cell",
          "system",
          "and",
          "datamodel",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "tests",
          "test",
          "refresh",
          "this",
          "wiki",
          "configuration"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 6,
            "weight": 0.0625
          },
          {
            "term": "options",
            "tf": 5,
            "weight": 0.052083
          },
          {
            "term": "model",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "pipeline",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "cell",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "system",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "datamodel",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "this",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "wiki",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.010417
          }
        ],
        "unique_terms": 67,
        "total_terms": 96
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Configuration System",
        "and",
        "cell",
        "datamodel",
        "docling",
        "github",
        "https",
        "model",
        "options",
        "pipeline",
        "system"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5052941176470588,
      "overall": 0.7350980392156862
    }
  }
]