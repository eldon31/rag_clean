[
  {
    "text": "## System Overview\n\nDocling implements a three-layer architecture that separates user interfaces, orchestration logic, and processing pipelines:",
    "metadata": {
      "chunk_id": "fb05da729155-0001",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "System Overview"
      ],
      "heading_text": "System Overview",
      "token_count": 24,
      "char_count": 144,
      "start_char": 6509,
      "end_char": 6653,
      "semantic_score": 0.8,
      "structural_score": 0.7,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.591138",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 24,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "System Overview",
      "chunk_hash": "f8ea26d3b7763c1b",
      "content_digest": "f8ea26d3b7763c1b",
      "chunk_length": 144,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "system",
          "overview",
          "docling",
          "implements",
          "three",
          "layer",
          "architecture",
          "that",
          "separates",
          "user",
          "interfaces",
          "orchestration",
          "logic",
          "and",
          "processing",
          "pipelines"
        ],
        "term_weights": [
          {
            "term": "system",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "overview",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "docling",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "implements",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "three",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "layer",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "that",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "separates",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "user",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "interfaces",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "orchestration",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "logic",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "processing",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "pipelines",
            "tf": 1,
            "weight": 0.0625
          }
        ],
        "unique_terms": 16,
        "total_terms": 16
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "System Overview",
        "architecture",
        "docling",
        "implements",
        "layer",
        "overview",
        "separates",
        "system",
        "that",
        "three",
        "user"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.7,
      "retrieval_quality": 0.59,
      "overall": 0.6966666666666667
    }
  },
  {
    "text": "### DocumentConverter and DocumentExtractor  The system provides two primary entry points for different use cases: ``` ``` - **`DocumentConverter`** ([document\\_converter.py184-433](https://github.com/docling-project/docling/blob/f7244a43/document_converter.py#L184-L433)): Converts documents to `DoclingDocument` format for downstream processing, search, or archival - **`DocumentExtractor`** ([document\\_extractor.py88-326](https://github.com/docling-project/docling/blob/f7244a43/document_extractor.py#L88-L326)): Extracts structured data from documents according to a template (experimental feature)  Both classes share a similar architecture with format routing and pipeline caching but serve different end goals. **Sources:** [docling/document\\_converter.py184-206](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py#L184-L206) [docling/document\\_extractor.py88-120](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L88-L120)",
    "metadata": {
      "chunk_id": "fb05da729155-0005",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "DocumentConverter and DocumentExtractor"
      ],
      "heading_text": "DocumentConverter and DocumentExtractor",
      "token_count": 230,
      "char_count": 1005,
      "start_char": 8581,
      "end_char": 9586,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5484615384615384,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.596145",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 230,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "DocumentConverter and DocumentExtractor",
      "chunk_hash": "a189957b03ac7fa9",
      "content_digest": "a189957b03ac7fa9",
      "chunk_length": 1005,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "document",
          "converter",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "extractor",
          "documentconverter",
          "and",
          "documentextractor",
          "for",
          "different",
          "py184",
          "l184",
          "documents",
          "format",
          "py88"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.10084
          },
          {
            "term": "document",
            "tf": 8,
            "weight": 0.067227
          },
          {
            "term": "converter",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "project",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "f7244a43",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "extractor",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "documentconverter",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "documentextractor",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "different",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "py184",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "l184",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "documents",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "format",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "py88",
            "tf": 2,
            "weight": 0.016807
          }
        ],
        "unique_terms": 66,
        "total_terms": 119
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "DocumentConverter and DocumentExtractor",
        "blob",
        "com",
        "converter",
        "docling",
        "document",
        "extractor",
        "f7244a43",
        "github",
        "https",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5484615384615384,
      "overall": 0.716153846153846
    }
  },
  {
    "text": "### FormatOption: The Routing Mechanism  The `FormatOption` class pairs each `InputFormat` with its appropriate pipeline and backend: ``` ``` The `DocumentConverter` maintains a `format_to_options: Dict[InputFormat, FormatOption]` mapping that determines how each format is processed. This is configured during initialization and can be customized per format. **Sources:** [docling/document\\_converter.py62-131](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py#L62-L131) [docling/datamodel/base\\_models.py36-42](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/base_models.py#L36-L42)",
    "metadata": {
      "chunk_id": "fb05da729155-0006",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "FormatOption: The Routing Mechanism"
      ],
      "heading_text": "FormatOption: The Routing Mechanism",
      "token_count": 153,
      "char_count": 648,
      "start_char": 9591,
      "end_char": 10239,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.597923",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 153,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "FormatOption: The Routing Mechanism",
      "chunk_hash": "89515a4299daa01a",
      "content_digest": "89515a4299daa01a",
      "chunk_length": 648,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "formatoption",
          "the",
          "format",
          "each",
          "inputformat",
          "and",
          "document",
          "converter",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "datamodel",
          "base",
          "models",
          "routing",
          "mechanism"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.102564
          },
          {
            "term": "formatoption",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "format",
            "tf": 3,
            "weight": 0.038462
          },
          {
            "term": "each",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "inputformat",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "converter",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "datamodel",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "models",
            "tf": 2,
            "weight": 0.025641
          },
          {
            "term": "routing",
            "tf": 1,
            "weight": 0.012821
          },
          {
            "term": "mechanism",
            "tf": 1,
            "weight": 0.012821
          }
        ],
        "unique_terms": 51,
        "total_terms": 78
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "FormatOption: The Routing Mechanism",
        "and",
        "converter",
        "docling",
        "document",
        "each",
        "format",
        "formatoption",
        "https",
        "inputformat",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "overall": 0.7174999999999999
    }
  },
  {
    "text": "### Pipeline Hierarchy  Pipelines implement the `BasePipeline` abstract class, which defines a three-phase processing model: ``` ``` **Key Methods:**  - `execute()` ([base\\_pipeline.py62-84](https://github.com/docling-project/docling/blob/f7244a43/base_pipeline.py#L62-L84)): Entry point that orchestrates the three-phase processing - `_build_document()`: Extract raw structure from the document backend - `_assemble_document()`: Construct hierarchical document structure - `_enrich_document()`: Apply enrichment models (code detection, picture classification, etc.)  **Sources:** [docling/pipeline/base\\_pipeline.py43-133](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L43-L133) [docling/pipeline/base\\_pipeline.py135-182](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L135-L182) [docling/pipeline/base\\_pipeline.py184-320](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L184-L320)",
    "metadata": {
      "chunk_id": "fb05da729155-0007",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pipeline Hierarchy"
      ],
      "heading_text": "Pipeline Hierarchy",
      "token_count": 246,
      "char_count": 1016,
      "start_char": 10244,
      "end_char": 11260,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5382758620689655,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.599727",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 246,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Pipeline Hierarchy",
      "chunk_hash": "8a57a00b4ad40c27",
      "content_digest": "8a57a00b4ad40c27",
      "chunk_length": 1016,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "docling",
          "base",
          "document",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "the",
          "three",
          "phase",
          "processing",
          "structure",
          "hierarchy",
          "pipelines",
          "implement",
          "basepipeline",
          "abstract"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 15,
            "weight": 0.119048
          },
          {
            "term": "docling",
            "tf": 14,
            "weight": 0.111111
          },
          {
            "term": "base",
            "tf": 8,
            "weight": 0.063492
          },
          {
            "term": "document",
            "tf": 5,
            "weight": 0.039683
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "project",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "f7244a43",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.02381
          },
          {
            "term": "three",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "phase",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "processing",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "structure",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "hierarchy",
            "tf": 1,
            "weight": 0.007937
          },
          {
            "term": "pipelines",
            "tf": 1,
            "weight": 0.007937
          },
          {
            "term": "implement",
            "tf": 1,
            "weight": 0.007937
          },
          {
            "term": "basepipeline",
            "tf": 1,
            "weight": 0.007937
          },
          {
            "term": "abstract",
            "tf": 1,
            "weight": 0.007937
          }
        ],
        "unique_terms": 64,
        "total_terms": 126
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pipeline Hierarchy",
        "base",
        "blob",
        "com",
        "docling",
        "document",
        "f7244a43",
        "github",
        "https",
        "pipeline",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5382758620689655,
      "overall": 0.7127586206896551
    }
  },
  {
    "text": "### Backend System  Backends provide format-specific document reading capabilities: ``` ``` - **`PaginatedDocumentBackend`** ([backend/abstract\\_backend.py58-88](https://github.com/docling-project/docling/blob/f7244a43/backend/abstract_backend.py#L58-L88)): Supports page-by-page iteration, used by PDF/image formats - **`DeclarativeDocumentBackend`** ([backend/abstract\\_backend.py91-101](https://github.com/docling-project/docling/blob/f7244a43/backend/abstract_backend.py#L91-L101)): Directly outputs `DoclingDocument`, used by DOCX/HTML/Markdown formats  **Sources:** [docling/backend/abstract\\_backend.py13-101](https://github.com/docling-project/docling/blob/f7244a43/docling/backend/abstract_backend.py#L13-L101) [docling/backend/pdf\\_backend.py1-100](https://github.com/docling-project/docling/blob/f7244a43/docling/backend/pdf_backend.py#L1-L100)",
    "metadata": {
      "chunk_id": "fb05da729155-0008",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Backend System"
      ],
      "heading_text": "Backend System",
      "token_count": 220,
      "char_count": 855,
      "start_char": 11264,
      "end_char": 12119,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5458823529411765,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.601229",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 220,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Backend System",
      "chunk_hash": "e75497d2ef71b2e6",
      "content_digest": "e75497d2ef71b2e6",
      "chunk_length": 855,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "backend",
          "docling",
          "abstract",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "pdf",
          "page",
          "used",
          "formats",
          "101",
          "l101",
          "system",
          "backends",
          "provide",
          "format",
          "specific"
        ],
        "term_weights": [
          {
            "term": "backend",
            "tf": 17,
            "weight": 0.166667
          },
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.117647
          },
          {
            "term": "abstract",
            "tf": 6,
            "weight": 0.058824
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "project",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "f7244a43",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "pdf",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "page",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "used",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "formats",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "101",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "l101",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "backends",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "provide",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "format",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "specific",
            "tf": 1,
            "weight": 0.009804
          }
        ],
        "unique_terms": 45,
        "total_terms": 102
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Backend System",
        "abstract",
        "backend",
        "blob",
        "com",
        "docling",
        "f7244a43",
        "github",
        "https",
        "pdf",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5458823529411765,
      "overall": 0.7152941176470587
    }
  },
  {
    "text": "## Conversion Flow Architecture  The document conversion process follows a consistent pattern across all pipelines: ``` ``` **Sources:** [docling/document\\_converter.py227-284](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py#L227-L284) [docling/document\\_converter.py351-378](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py#L351-L378) [docling/pipeline/base\\_pipeline.py62-84](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L62-L84)",
    "metadata": {
      "chunk_id": "fb05da729155-0009",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Conversion Flow Architecture"
      ],
      "heading_text": "Conversion Flow Architecture",
      "token_count": 137,
      "char_count": 554,
      "start_char": 12123,
      "end_char": 12677,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5614285714285714,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.602174",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 137,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Conversion Flow Architecture",
      "chunk_hash": "b938234016882c62",
      "content_digest": "b938234016882c62",
      "chunk_length": 554,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "document",
          "converter",
          "pipeline",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "conversion",
          "base",
          "flow",
          "architecture",
          "the",
          "process",
          "follows",
          "consistent",
          "pattern",
          "across"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.173913
          },
          {
            "term": "document",
            "tf": 5,
            "weight": 0.072464
          },
          {
            "term": "converter",
            "tf": 4,
            "weight": 0.057971
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.057971
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.043478
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.043478
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.043478
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.043478
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.043478
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.043478
          },
          {
            "term": "conversion",
            "tf": 2,
            "weight": 0.028986
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.028986
          },
          {
            "term": "flow",
            "tf": 1,
            "weight": 0.014493
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.014493
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.014493
          },
          {
            "term": "process",
            "tf": 1,
            "weight": 0.014493
          },
          {
            "term": "follows",
            "tf": 1,
            "weight": 0.014493
          },
          {
            "term": "consistent",
            "tf": 1,
            "weight": 0.014493
          },
          {
            "term": "pattern",
            "tf": 1,
            "weight": 0.014493
          },
          {
            "term": "across",
            "tf": 1,
            "weight": 0.014493
          }
        ],
        "unique_terms": 34,
        "total_terms": 69
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Conversion Flow Architecture",
        "blob",
        "com",
        "converter",
        "docling",
        "document",
        "f7244a43",
        "github",
        "https",
        "pipeline",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5614285714285714,
      "overall": 0.6871428571428572
    }
  },
  {
    "text": "### Pipeline Caching Mechanism  The `DocumentConverter` caches pipeline instances to avoid redundant model loading: ``` ``` **Caching Logic** ([document\\_converter.py212-217](https://github.com/docling-project/docling/blob/f7244a43/document_converter.py#L212-L217) [document\\_converter.py351-378](https://github.com/docling-project/docling/blob/f7244a43/document_converter.py#L351-L378)):  1. Compute MD5 hash of `pipeline_options.model_dump()` 2. Create composite key: `(pipeline_cls, options_hash)` 3. Check cache with thread lock (`_PIPELINE_CACHE_LOCK`) 4. Initialize and store if not found 5. Return cached instance if found  This optimization is critical for performance when processing multiple documents with identical configurations, as it prevents re-initialization of heavy ML models. **Sources:** [docling/document\\_converter.py203-217](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py#L203-L217) [docling/document\\_converter.py351-378](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py#L351-L378)",
    "metadata": {
      "chunk_id": "fb05da729155-0010",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pipeline Caching Mechanism"
      ],
      "heading_text": "Pipeline Caching Mechanism",
      "token_count": 258,
      "char_count": 1084,
      "start_char": 12681,
      "end_char": 13765,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5663157894736842,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.604489",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 258,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Pipeline Caching Mechanism",
      "chunk_hash": "2dbde289c5ba734a",
      "content_digest": "2dbde289c5ba734a",
      "chunk_length": 1084,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "document",
          "converter",
          "pipeline",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "caching",
          "model",
          "217",
          "l217",
          "py351",
          "378",
          "l351",
          "l378",
          "hash",
          "options"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.092308
          },
          {
            "term": "document",
            "tf": 8,
            "weight": 0.061538
          },
          {
            "term": "converter",
            "tf": 8,
            "weight": 0.061538
          },
          {
            "term": "pipeline",
            "tf": 5,
            "weight": 0.038462
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.030769
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.030769
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.030769
          },
          {
            "term": "project",
            "tf": 4,
            "weight": 0.030769
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.030769
          },
          {
            "term": "f7244a43",
            "tf": 4,
            "weight": 0.030769
          },
          {
            "term": "caching",
            "tf": 2,
            "weight": 0.015385
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.015385
          },
          {
            "term": "217",
            "tf": 2,
            "weight": 0.015385
          },
          {
            "term": "l217",
            "tf": 2,
            "weight": 0.015385
          },
          {
            "term": "py351",
            "tf": 2,
            "weight": 0.015385
          },
          {
            "term": "378",
            "tf": 2,
            "weight": 0.015385
          },
          {
            "term": "l351",
            "tf": 2,
            "weight": 0.015385
          },
          {
            "term": "l378",
            "tf": 2,
            "weight": 0.015385
          },
          {
            "term": "hash",
            "tf": 2,
            "weight": 0.015385
          },
          {
            "term": "options",
            "tf": 2,
            "weight": 0.015385
          }
        ],
        "unique_terms": 69,
        "total_terms": 130
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pipeline Caching Mechanism",
        "blob",
        "com",
        "converter",
        "docling",
        "document",
        "f7244a43",
        "github",
        "https",
        "pipeline",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5663157894736842,
      "overall": 0.6887719298245614
    }
  },
  {
    "text": "## Pipeline Processing Phases\n\nAll pipelines inherit the three-phase processing model from `BasePipeline`:",
    "metadata": {
      "chunk_id": "fb05da729155-0011",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pipeline Processing Phases"
      ],
      "heading_text": "Pipeline Processing Phases",
      "token_count": 19,
      "char_count": 106,
      "start_char": 13770,
      "end_char": 13876,
      "semantic_score": 0.8,
      "structural_score": 0.7,
      "retrieval_quality": 0.566923076923077,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.604986",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 19,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Pipeline Processing Phases",
      "chunk_hash": "532c52cfdf39d48d",
      "content_digest": "532c52cfdf39d48d",
      "chunk_length": 106,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "processing",
          "pipeline",
          "phases",
          "all",
          "pipelines",
          "inherit",
          "the",
          "three",
          "phase",
          "model",
          "from",
          "basepipeline"
        ],
        "term_weights": [
          {
            "term": "processing",
            "tf": 2,
            "weight": 0.153846
          },
          {
            "term": "pipeline",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "phases",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "all",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "pipelines",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "inherit",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "three",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "phase",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.076923
          },
          {
            "term": "basepipeline",
            "tf": 1,
            "weight": 0.076923
          }
        ],
        "unique_terms": 12,
        "total_terms": 13
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pipeline Processing Phases",
        "all",
        "inherit",
        "model",
        "phase",
        "phases",
        "pipeline",
        "pipelines",
        "processing",
        "the",
        "three"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.7,
      "retrieval_quality": 0.566923076923077,
      "overall": 0.688974358974359
    }
  },
  {
    "text": "### Phase 1: Build Document ``` ``` - **StandardPdfPipeline**: Sequential model execution for PDF/image processing - **SimplePipeline**: Direct backend conversion for structured formats (DOCX, HTML) - **VlmPipeline**: Vision-language model inference for end-to-end processing  **Sources:** [docling/pipeline/base\\_pipeline.py86-91](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L86-L91) [docling/pipeline/simple\\_pipeline.py26-41](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/simple_pipeline.py#L26-L41) [docling/pipeline/vlm\\_pipeline.py136-186](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/vlm_pipeline.py#L136-L186)",
    "metadata": {
      "chunk_id": "fb05da729155-0012",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Phase 1: Build Document"
      ],
      "heading_text": "Phase 1: Build Document",
      "token_count": 183,
      "char_count": 721,
      "start_char": 13878,
      "end_char": 14599,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5332432432432432,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.606578",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 183,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Phase 1: Build Document",
      "chunk_hash": "53ea20650cd83e6c",
      "content_digest": "53ea20650cd83e6c",
      "chunk_length": 721,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "for",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "model",
          "processing",
          "end",
          "base",
          "simple",
          "vlm",
          "phase",
          "build",
          "document",
          "standardpdfpipeline",
          "sequential"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.136364
          },
          {
            "term": "pipeline",
            "tf": 12,
            "weight": 0.136364
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "processing",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "end",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "simple",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "vlm",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "phase",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "build",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "document",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "standardpdfpipeline",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "sequential",
            "tf": 1,
            "weight": 0.011364
          }
        ],
        "unique_terms": 46,
        "total_terms": 88
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Phase 1: Build Document",
        "blob",
        "com",
        "docling",
        "f7244a43",
        "for",
        "github",
        "https",
        "model",
        "pipeline",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5332432432432432,
      "overall": 0.711081081081081
    }
  },
  {
    "text": "### Phase 2: Assemble Document  This phase constructs the hierarchical `DoclingDocument` structure from extracted elements. The implementation varies by pipeline:  - **StandardPdfPipeline**: Combines page-level elements into document structure - **VlmPipeline**: Converts VLM output (DOCTAGS/Markdown/HTML) into `DoclingDocument` - **SimplePipeline**: Uses pre-assembled structure from backend  **Sources:** [docling/pipeline/base\\_pipeline.py90-91](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L90-L91) [docling/pipeline/vlm\\_pipeline.py136-186](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/vlm_pipeline.py#L136-L186)",
    "metadata": {
      "chunk_id": "fb05da729155-0013",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Phase 2: Assemble Document"
      ],
      "heading_text": "Phase 2: Assemble Document",
      "token_count": 171,
      "char_count": 693,
      "start_char": 14603,
      "end_char": 15296,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5247826086956522,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.607113",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 171,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Phase 2: Assemble Document",
      "chunk_hash": "9c1eeebb9801becc",
      "content_digest": "9c1eeebb9801becc",
      "chunk_length": 693,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "docling",
          "structure",
          "vlm",
          "phase",
          "document",
          "the",
          "doclingdocument",
          "from",
          "elements",
          "into",
          "base",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "assemble",
          "this"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 9,
            "weight": 0.111111
          },
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.098765
          },
          {
            "term": "structure",
            "tf": 3,
            "weight": 0.037037
          },
          {
            "term": "vlm",
            "tf": 3,
            "weight": 0.037037
          },
          {
            "term": "phase",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "doclingdocument",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "from",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "elements",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "into",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "assemble",
            "tf": 1,
            "weight": 0.012346
          },
          {
            "term": "this",
            "tf": 1,
            "weight": 0.012346
          }
        ],
        "unique_terms": 48,
        "total_terms": 81
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Phase 2: Assemble Document",
        "docling",
        "doclingdocument",
        "document",
        "elements",
        "from",
        "phase",
        "pipeline",
        "structure",
        "the",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5247826086956522,
      "overall": 0.7082608695652173
    }
  },
  {
    "text": "### Phase 3: Enrich Document  Enrichment models operate on the assembled `DoclingDocument` to add additional information: ``` ``` Each enrichment model:  1. Calls `prepare_element()` to filter relevant document items 2. Processes items in batches 3. Updates the `DoclingDocument` in-place  **Sources:** [docling/pipeline/base\\_pipeline.py93-115](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L93-L115) [docling/pipeline/base\\_pipeline.py136-176](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L136-L176)",
    "metadata": {
      "chunk_id": "fb05da729155-0014",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Phase 3: Enrich Document"
      ],
      "heading_text": "Phase 3: Enrich Document",
      "token_count": 152,
      "char_count": 592,
      "start_char": 15298,
      "end_char": 15890,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.608628",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 152,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Phase 3: Enrich Document",
      "chunk_hash": "e4b52963e871020d",
      "content_digest": "e4b52963e871020d",
      "chunk_length": 592,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "base",
          "document",
          "enrichment",
          "the",
          "doclingdocument",
          "items",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "phase",
          "enrich",
          "models",
          "operate",
          "assembled",
          "add"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.114286
          },
          {
            "term": "pipeline",
            "tf": 8,
            "weight": 0.114286
          },
          {
            "term": "base",
            "tf": 4,
            "weight": 0.057143
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "enrichment",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "doclingdocument",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "items",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "phase",
            "tf": 1,
            "weight": 0.014286
          },
          {
            "term": "enrich",
            "tf": 1,
            "weight": 0.014286
          },
          {
            "term": "models",
            "tf": 1,
            "weight": 0.014286
          },
          {
            "term": "operate",
            "tf": 1,
            "weight": 0.014286
          },
          {
            "term": "assembled",
            "tf": 1,
            "weight": 0.014286
          },
          {
            "term": "add",
            "tf": 1,
            "weight": 0.014286
          }
        ],
        "unique_terms": 42,
        "total_terms": 70
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Phase 3: Enrich Document",
        "base",
        "docling",
        "doclingdocument",
        "document",
        "enrichment",
        "github",
        "https",
        "items",
        "pipeline",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "overall": 0.68
    }
  },
  {
    "text": "## Configuration Architecture  The configuration system is hierarchical, with options cascading from top-level `PipelineOptions` to model-specific configurations: ``` ``` For detailed configuration information, see [Configuration and Pipeline Options](docling-project/docling/2.3-configuration-and-pipeline-options.md). **Sources:** [docling/datamodel/pipeline\\_options.py273-384](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/pipeline_options.py#L273-L384)",
    "metadata": {
      "chunk_id": "fb05da729155-0015",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration Architecture"
      ],
      "heading_text": "Configuration Architecture",
      "token_count": 103,
      "char_count": 486,
      "start_char": 15894,
      "end_char": 16380,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.610884",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 103,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Configuration Architecture",
      "chunk_hash": "2c770d69e9dec84b",
      "content_digest": "2c770d69e9dec84b",
      "chunk_length": 486,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "configuration",
          "options",
          "pipeline",
          "and",
          "project",
          "datamodel",
          "architecture",
          "the",
          "system",
          "hierarchical",
          "with",
          "cascading",
          "from",
          "top",
          "level",
          "pipelineoptions",
          "model",
          "specific",
          "configurations"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 6,
            "weight": 0.113208
          },
          {
            "term": "configuration",
            "tf": 5,
            "weight": 0.09434
          },
          {
            "term": "options",
            "tf": 5,
            "weight": 0.09434
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "datamodel",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "hierarchical",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "cascading",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "top",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "level",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "pipelineoptions",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "specific",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "configurations",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 34,
        "total_terms": 53
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Configuration Architecture",
        "and",
        "architecture",
        "configuration",
        "datamodel",
        "docling",
        "options",
        "pipeline",
        "project",
        "system",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "overall": 0.7200000000000001
    }
  },
  {
    "text": "## ThreadedStandardPdfPipeline Architecture  For high-performance PDF processing, `ThreadedStandardPdfPipeline` implements a multi-threaded stage graph: ``` ``` **Key Features:**  - **ThreadedQueue** ([threaded\\_standard\\_pdf\\_pipeline.py96-163](https://github.com/docling-project/docling/blob/f7244a43/threaded_standard_pdf_pipeline.py#L96-L163)): Bounded queue with blocking `put()`/`get_batch()` and explicit `close()` semantics - **ThreadedPipelineStage** ([threaded\\_standard\\_pdf\\_pipeline.py165-280](https://github.com/docling-project/docling/blob/f7244a43/threaded_standard_pdf_pipeline.py#L165-L280)): Each stage runs in its own thread, processes batches, and handles errors - **Backpressure Control**: Queue size limits prevent memory overflow from fast producers - **Deterministic Shutdown**: `close()` propagates downstream so stages terminate cleanly  **Sources:** [docling/pipeline/threaded\\_standard\\_pdf\\_pipeline.py1-296](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/threaded_standard_pdf_pipeline.py#L1-L296) [docling/pipeline/threaded\\_standard\\_pdf\\_pipeline.py379-427](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/threaded_standard_pdf_pipeline.py#L379-L427)",
    "metadata": {
      "chunk_id": "fb05da729155-0017",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 17,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "ThreadedStandardPdfPipeline Architecture"
      ],
      "heading_text": "ThreadedStandardPdfPipeline Architecture",
      "token_count": 297,
      "char_count": 1237,
      "start_char": 17520,
      "end_char": 18757,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5552173913043479,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.617295",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 297,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "ThreadedStandardPdfPipeline Architecture",
      "chunk_hash": "180923de846fe5d3",
      "content_digest": "180923de846fe5d3",
      "chunk_length": 1237,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "docling",
          "pdf",
          "threaded",
          "standard",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "threadedstandardpdfpipeline",
          "stage",
          "queue",
          "and",
          "close",
          "architecture",
          "for",
          "high",
          "performance"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 12,
            "weight": 0.082192
          },
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.082192
          },
          {
            "term": "pdf",
            "tf": 9,
            "weight": 0.061644
          },
          {
            "term": "threaded",
            "tf": 9,
            "weight": 0.061644
          },
          {
            "term": "standard",
            "tf": 8,
            "weight": 0.054795
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.027397
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.027397
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.027397
          },
          {
            "term": "project",
            "tf": 4,
            "weight": 0.027397
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.027397
          },
          {
            "term": "f7244a43",
            "tf": 4,
            "weight": 0.027397
          },
          {
            "term": "threadedstandardpdfpipeline",
            "tf": 2,
            "weight": 0.013699
          },
          {
            "term": "stage",
            "tf": 2,
            "weight": 0.013699
          },
          {
            "term": "queue",
            "tf": 2,
            "weight": 0.013699
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.013699
          },
          {
            "term": "close",
            "tf": 2,
            "weight": 0.013699
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.006849
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.006849
          },
          {
            "term": "high",
            "tf": 1,
            "weight": 0.006849
          },
          {
            "term": "performance",
            "tf": 1,
            "weight": 0.006849
          }
        ],
        "unique_terms": 78,
        "total_terms": 146
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "ThreadedStandardPdfPipeline Architecture",
        "blob",
        "com",
        "docling",
        "github",
        "https",
        "pdf",
        "pipeline",
        "project",
        "standard",
        "threaded"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5552173913043479,
      "overall": 0.7184057971014491
    }
  },
  {
    "text": "## Document Format Detection  Format detection uses a multi-strategy approach implemented in `_DocumentConversionInput._guess_format()`: ``` ``` For detailed format detection logic, see [Format Detection and Routing](docling-project/docling/2.4-format-detection-and-routing.md). **Sources:** [docling/datamodel/document.py280-374](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/document.py#L280-L374)",
    "metadata": {
      "chunk_id": "fb05da729155-0018",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 18,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Document Format Detection"
      ],
      "heading_text": "Document Format Detection",
      "token_count": 96,
      "char_count": 428,
      "start_char": 18761,
      "end_char": 19189,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5233333333333333,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.618496",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 96,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Document Format Detection",
      "chunk_hash": "f24b16db892443c0",
      "content_digest": "f24b16db892443c0",
      "chunk_length": 428,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "format",
          "docling",
          "detection",
          "document",
          "and",
          "routing",
          "project",
          "datamodel",
          "uses",
          "multi",
          "strategy",
          "approach",
          "implemented",
          "documentconversioninput",
          "guess",
          "for",
          "detailed",
          "logic",
          "see",
          "sources"
        ],
        "term_weights": [
          {
            "term": "format",
            "tf": 6,
            "weight": 0.122449
          },
          {
            "term": "docling",
            "tf": 6,
            "weight": 0.122449
          },
          {
            "term": "detection",
            "tf": 5,
            "weight": 0.102041
          },
          {
            "term": "document",
            "tf": 3,
            "weight": 0.061224
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "routing",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "datamodel",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "multi",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "strategy",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "approach",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "implemented",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "documentconversioninput",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "guess",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "detailed",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "logic",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "see",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.020408
          }
        ],
        "unique_terms": 29,
        "total_terms": 49
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Document Format Detection",
        "and",
        "datamodel",
        "detection",
        "docling",
        "document",
        "format",
        "multi",
        "project",
        "routing",
        "uses"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5233333333333333,
      "overall": 0.6744444444444445
    }
  },
  {
    "text": "## Output and Export  All pipelines converge on `DoclingDocument` as the unified representation: ``` ``` The `DoclingDocument` class (from `docling-core`) provides:  - Hierarchical document structure with provenance tracking - Multiple export formats with configurable image handling - Item iteration with `iterate_items()` for traversal  For details on the data model, see [DoclingDocument Data Model](docling-project/docling/2.2-doclingdocument-data-model.md). For export format details, see [Export Formats](docling-project/docling/8.1-export-formats.md). **Sources:** [docling/cli/main.py191-290](https://github.com/docling-project/docling/blob/f7244a43/docling/cli/main.py#L191-L290) [docling/datamodel/document.py198-215](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/document.py#L198-L215)",
    "metadata": {
      "chunk_id": "fb05da729155-0019",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 19,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Output and Export"
      ],
      "heading_text": "Output and Export",
      "token_count": 198,
      "char_count": 825,
      "start_char": 19194,
      "end_char": 20019,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5185714285714286,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.620235",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 198,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Output and Export",
      "chunk_hash": "b493ef5937c3911c",
      "content_digest": "b493ef5937c3911c",
      "chunk_length": 825,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "export",
          "doclingdocument",
          "project",
          "the",
          "document",
          "with",
          "formats",
          "for",
          "data",
          "model",
          "details",
          "see",
          "cli",
          "main",
          "https",
          "github",
          "com",
          "blob",
          "f7244a43"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 13,
            "weight": 0.128713
          },
          {
            "term": "export",
            "tf": 5,
            "weight": 0.049505
          },
          {
            "term": "doclingdocument",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "project",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "document",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "with",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "formats",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "data",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "model",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "details",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "see",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "cli",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "main",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.019802
          }
        ],
        "unique_terms": 55,
        "total_terms": 101
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Output and Export",
        "data",
        "docling",
        "doclingdocument",
        "document",
        "export",
        "for",
        "formats",
        "project",
        "the",
        "with"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5185714285714286,
      "overall": 0.7061904761904761
    }
  },
  {
    "text": "## Summary\n\nDocling's architecture achieves separation of concerns through:\n\n1. **Clear layer boundaries**: User interfaces, orchestration, pipelines, backends, and output\n2. **Pluggable components**: Pipeline and backend selection via `FormatOption` mappings\n3. **Performance optimization**: Pipeline caching prevents redundant model initialization\n4. **Consistent processing model**: Three-phase execution (build, assemble, enrich) across all pipelines\n5. **Unified output**: All pipelines produce `DoclingDocument` for consistent downstream processing\n\nThis design allows Docling to handle diverse document formats with format-specific optimizations while maintaining a consistent external API.\n\n**Sources:** [docling/document\\_converter.py184-433](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py#L184-L433) [docling/pipeline/base\\_pipeline.py43-133](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L43-L133) [docling/datamodel/document.py104-191](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/document.py#L104-L191)\n\nDismiss\n\nRefresh this wiki\n\nThis wiki was recently refreshed. Please wait 4 days to refresh again.",
    "metadata": {
      "chunk_id": "fb05da729155-0020",
      "source_file": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "filename": "_docling-project_docling_2-core-architecture.md",
      "file_extension": ".md",
      "chunk_index": 20,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Summary"
      ],
      "heading_text": "Summary",
      "token_count": 268,
      "char_count": 1230,
      "start_char": 20024,
      "end_char": 21254,
      "semantic_score": 0.7,
      "structural_score": 0.9999999999999999,
      "retrieval_quality": 0.557,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:05.621201",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 268,
      "document_id": "fb05da729155",
      "document_name": "_docling-project_docling_2-core-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "source_filename": "_docling-project_docling_2-core-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_2-core-architecture.md",
      "hierarchy_path": "Summary",
      "chunk_hash": "e2ca7990e0d72413",
      "content_digest": "e2ca7990e0d72413",
      "chunk_length": 1230,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "document",
          "pipelines",
          "consistent",
          "this",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "and",
          "output",
          "model",
          "processing",
          "all",
          "converter",
          "base",
          "datamodel"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 14,
            "weight": 0.097222
          },
          {
            "term": "pipeline",
            "tf": 6,
            "weight": 0.041667
          },
          {
            "term": "document",
            "tf": 5,
            "weight": 0.034722
          },
          {
            "term": "pipelines",
            "tf": 3,
            "weight": 0.020833
          },
          {
            "term": "consistent",
            "tf": 3,
            "weight": 0.020833
          },
          {
            "term": "this",
            "tf": 3,
            "weight": 0.020833
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.020833
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.020833
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.020833
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.020833
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.020833
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.020833
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.013889
          },
          {
            "term": "output",
            "tf": 2,
            "weight": 0.013889
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.013889
          },
          {
            "term": "processing",
            "tf": 2,
            "weight": 0.013889
          },
          {
            "term": "all",
            "tf": 2,
            "weight": 0.013889
          },
          {
            "term": "converter",
            "tf": 2,
            "weight": 0.013889
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.013889
          },
          {
            "term": "datamodel",
            "tf": 2,
            "weight": 0.013889
          }
        ],
        "unique_terms": 94,
        "total_terms": 144
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Summary",
        "com",
        "consistent",
        "docling",
        "document",
        "github",
        "https",
        "pipeline",
        "pipelines",
        "project",
        "this"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.9999999999999999,
      "retrieval_quality": 0.557,
      "overall": 0.7523333333333332
    }
  }
]