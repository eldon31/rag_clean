[
  {
    "text": "## Purpose and Scope\n\nThe `DocumentExtractor` API provides structured data extraction from documents using vision-language models (VLMs) with user-defined templates. Unlike the `DocumentConverter` API (see [DocumentConverter API](docling-project/docling/7.1-documentconverter-api.md)) which converts documents to unified `DoclingDocument` format, `DocumentExtractor` extracts specific structured data based on schemas or prompts, returning `ExtractionResult` objects containing parsed JSON or raw text.\n\nFor details on the underlying extraction pipeline implementation, see [Extraction Pipeline](docling-project/docling/5.4-extraction-pipeline.md). For VLM model configuration, see [Vision Language Models](docling-project/docling/4.3-vision-language-models.md).\n\n**Sources:** [docling/document\\_extractor.py88-97](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L88-L97)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0001",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Purpose and Scope"
      ],
      "heading_text": "Purpose and Scope",
      "token_count": 198,
      "char_count": 910,
      "start_char": 6483,
      "end_char": 7393,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5413513513513514,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.137937",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 198,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Purpose and Scope",
      "chunk_hash": "cc7dba999e63d8b3",
      "content_digest": "cc7dba999e63d8b3",
      "chunk_length": 910,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "api",
          "extraction",
          "project",
          "the",
          "vision",
          "language",
          "models",
          "documentconverter",
          "see",
          "pipeline",
          "documentextractor",
          "structured",
          "data",
          "documents",
          "for",
          "document",
          "extractor",
          "purpose",
          "and"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 10,
            "weight": 0.098039
          },
          {
            "term": "api",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "extraction",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "project",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "vision",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "language",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "models",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "documentconverter",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "see",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "pipeline",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "documentextractor",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "structured",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "data",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "documents",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "extractor",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "purpose",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.009804
          }
        ],
        "unique_terms": 63,
        "total_terms": 102
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Purpose and Scope",
        "api",
        "docling",
        "documentconverter",
        "extraction",
        "language",
        "models",
        "project",
        "see",
        "the",
        "vision"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5413513513513514,
      "overall": 0.6804504504504504
    }
  },
  {
    "text": "### Class Hierarchy and Components ``` ``` **Diagram: DocumentExtractor Architecture**  The `DocumentExtractor` class orchestrates extraction by mapping input formats to extraction pipelines through `ExtractionFormatOption` configurations. Each format option specifies both a pipeline class (defaulting to `ExtractionVlmPipeline`) and a backend for document reading (defaulting to `PyPdfiumDocumentBackend`). **Sources:** [docling/document\\_extractor.py88-120](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L88-L120) [docling/document\\_extractor.py46-64](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L46-L64) [docling/datamodel/extraction.py1-40](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/extraction.py#L1-L40)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0003",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Class Hierarchy and Components"
      ],
      "heading_text": "Class Hierarchy and Components",
      "token_count": 196,
      "char_count": 826,
      "start_char": 7417,
      "end_char": 8243,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5348979591836734,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.141289",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 196,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Class Hierarchy and Components",
      "chunk_hash": "91d79b7e4325b1b9",
      "content_digest": "91d79b7e4325b1b9",
      "chunk_length": 826,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "document",
          "extraction",
          "extractor",
          "class",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "and",
          "documentextractor",
          "defaulting",
          "datamodel",
          "hierarchy",
          "components",
          "diagram",
          "architecture",
          "the"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.136364
          },
          {
            "term": "document",
            "tf": 5,
            "weight": 0.056818
          },
          {
            "term": "extraction",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "extractor",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "class",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "documentextractor",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "defaulting",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "datamodel",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "hierarchy",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "components",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "diagram",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.011364
          }
        ],
        "unique_terms": 49,
        "total_terms": 88
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Class Hierarchy and Components",
        "blob",
        "class",
        "com",
        "docling",
        "document",
        "extraction",
        "extractor",
        "github",
        "https",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5348979591836734,
      "overall": 0.7116326530612245
    }
  },
  {
    "text": "### DocumentExtractor Class ``` ``` **Diagram: DocumentExtractor Class Structure**  The `DocumentExtractor` maintains a cache of initialized pipelines keyed by `(pipeline_class, options_hash)` to avoid redundant model loading across documents with identical configurations. **Sources:** [docling/document\\_extractor.py88-120](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L88-L120) [docling/document\\_extractor.py291-317](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L291-L317)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0004",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "DocumentExtractor Class"
      ],
      "heading_text": "DocumentExtractor Class",
      "token_count": 125,
      "char_count": 560,
      "start_char": 8248,
      "end_char": 8808,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5635294117647058,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.144013",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 125,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "DocumentExtractor Class",
      "chunk_hash": "6a51a8cab07a086e",
      "content_digest": "6a51a8cab07a086e",
      "chunk_length": 560,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "document",
          "extractor",
          "documentextractor",
          "class",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "diagram",
          "structure",
          "the",
          "maintains",
          "cache",
          "initialized",
          "pipelines",
          "keyed",
          "pipeline"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.126984
          },
          {
            "term": "document",
            "tf": 4,
            "weight": 0.063492
          },
          {
            "term": "extractor",
            "tf": 4,
            "weight": 0.063492
          },
          {
            "term": "documentextractor",
            "tf": 3,
            "weight": 0.047619
          },
          {
            "term": "class",
            "tf": 3,
            "weight": 0.047619
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "diagram",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "structure",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "maintains",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "cache",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "initialized",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "pipelines",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "keyed",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "pipeline",
            "tf": 1,
            "weight": 0.015873
          }
        ],
        "unique_terms": 40,
        "total_terms": 63
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "DocumentExtractor Class",
        "blob",
        "class",
        "com",
        "docling",
        "document",
        "documentextractor",
        "extractor",
        "github",
        "https",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5635294117647058,
      "overall": 0.7211764705882352
    }
  },
  {
    "text": "## API Methods",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0005",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "API Methods"
      ],
      "heading_text": "API Methods",
      "token_count": 3,
      "char_count": 14,
      "start_char": 8813,
      "end_char": 8827,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.144483",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 3,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "API Methods",
      "chunk_hash": "e207a263054a3542",
      "content_digest": "e207a263054a3542",
      "chunk_length": 14,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "api",
          "methods"
        ],
        "term_weights": [
          {
            "term": "api",
            "tf": 1,
            "weight": 0.5
          },
          {
            "term": "methods",
            "tf": 1,
            "weight": 0.5
          }
        ],
        "unique_terms": 2,
        "total_terms": 2
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "API Methods",
        "api",
        "methods"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### extract() - Single Document Extraction ``` ``` **Diagram: extract() Method Flow**  The `extract()` method is a convenience wrapper around `extract_all()` that returns a single result. It internally calls `extract_all()` with a single-item list and returns the first (and only) result via `next()`. **Sources:** [docling/document\\_extractor.py123-143](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L123-L143) [docling/document\\_extractor.py239-264](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L239-L264)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0006",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "extract() - Single Document Extraction"
      ],
      "heading_text": "extract() - Single Document Extraction",
      "token_count": 143,
      "char_count": 590,
      "start_char": 8829,
      "end_char": 9419,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5313043478260869,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.147344",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 143,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "extract() - Single Document Extraction",
      "chunk_hash": "a3bfa828dfb8d5c6",
      "content_digest": "a3bfa828dfb8d5c6",
      "chunk_length": 590,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "extract",
          "document",
          "extractor",
          "single",
          "method",
          "the",
          "all",
          "returns",
          "result",
          "and",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "extraction",
          "diagram",
          "flow"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.108108
          },
          {
            "term": "extract",
            "tf": 5,
            "weight": 0.067568
          },
          {
            "term": "document",
            "tf": 5,
            "weight": 0.067568
          },
          {
            "term": "extractor",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "single",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "method",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "all",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "returns",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "result",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "extraction",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "diagram",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "flow",
            "tf": 1,
            "weight": 0.013514
          }
        ],
        "unique_terms": 42,
        "total_terms": 74
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "all",
        "docling",
        "document",
        "extract",
        "extract() - Single Document Extraction",
        "extractor",
        "method",
        "result",
        "returns",
        "single",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5313043478260869,
      "overall": 0.7104347826086955
    }
  },
  {
    "text": "### Template Type Hierarchy ``` ``` **Diagram: Template Type Serialization**  The `_serialize_template()` method in `ExtractionVlmPipeline` handles four template types:  1. **String templates**: Passed directly as prompts 2. **Dict templates**: Serialized via `json.dumps(template, indent=2)` 3. **Pydantic instances**: Serialized via `template.model_dump_json(indent=2)` 4. **Pydantic classes**: Instantiated via `polyfactory.ModelFactory.build()` (using field examples and defaults), then serialized  **Sources:** [docling/pipeline/extraction\\_vlm\\_pipeline.py173-193](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L173-L193)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0009",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Template Type Hierarchy"
      ],
      "heading_text": "Template Type Hierarchy",
      "token_count": 164,
      "char_count": 682,
      "start_char": 11521,
      "end_char": 12203,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7344444444444443,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.154631",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 164,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Template Type Hierarchy",
      "chunk_hash": "99afd25c5822a47d",
      "content_digest": "99afd25c5822a47d",
      "chunk_length": 682,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "template",
          "docling",
          "pipeline",
          "serialized",
          "via",
          "type",
          "templates",
          "json",
          "indent",
          "pydantic",
          "extraction",
          "vlm",
          "hierarchy",
          "diagram",
          "serialization",
          "the",
          "serialize",
          "method",
          "extractionvlmpipeline",
          "handles"
        ],
        "term_weights": [
          {
            "term": "template",
            "tf": 6,
            "weight": 0.08
          },
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.053333
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.053333
          },
          {
            "term": "serialized",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "via",
            "tf": 3,
            "weight": 0.04
          },
          {
            "term": "type",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "templates",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "json",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "indent",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "pydantic",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "extraction",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "vlm",
            "tf": 2,
            "weight": 0.026667
          },
          {
            "term": "hierarchy",
            "tf": 1,
            "weight": 0.013333
          },
          {
            "term": "diagram",
            "tf": 1,
            "weight": 0.013333
          },
          {
            "term": "serialization",
            "tf": 1,
            "weight": 0.013333
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.013333
          },
          {
            "term": "serialize",
            "tf": 1,
            "weight": 0.013333
          },
          {
            "term": "method",
            "tf": 1,
            "weight": 0.013333
          },
          {
            "term": "extractionvlmpipeline",
            "tf": 1,
            "weight": 0.013333
          },
          {
            "term": "handles",
            "tf": 1,
            "weight": 0.013333
          }
        ],
        "unique_terms": 53,
        "total_terms": 75
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Template Type Hierarchy",
        "docling",
        "indent",
        "json",
        "pipeline",
        "pydantic",
        "serialized",
        "template",
        "templates",
        "type",
        "via"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7344444444444443,
      "overall": 0.7448148148148147
    }
  },
  {
    "text": "### Template Serialization Example Flow ``` ``` **Diagram: Template Serialization Decision Tree**  For Pydantic class templates, `polyfactory.ModelFactory` is configured with `__use_examples__=True` and `__use_defaults__=True` to prefer field examples over random values. **Sources:** [docling/pipeline/extraction\\_vlm\\_pipeline.py173-193](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L173-L193)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0010",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Template Serialization Example Flow"
      ],
      "heading_text": "Template Serialization Example Flow",
      "token_count": 108,
      "char_count": 451,
      "start_char": 12207,
      "end_char": 12658,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.761875,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.156913",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 108,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Template Serialization Example Flow",
      "chunk_hash": "e7edcb9e6d30bb46",
      "content_digest": "e7edcb9e6d30bb46",
      "chunk_length": 451,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "template",
          "serialization",
          "use",
          "examples",
          "true",
          "extraction",
          "vlm",
          "example",
          "flow",
          "diagram",
          "decision",
          "tree",
          "for",
          "pydantic",
          "class",
          "templates",
          "polyfactory",
          "modelfactory"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "template",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "serialization",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "use",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "examples",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "true",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "extraction",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "vlm",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "example",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "flow",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "diagram",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "decision",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "tree",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "pydantic",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "templates",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "polyfactory",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "modelfactory",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 40,
        "total_terms": 53
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Template Serialization Example Flow",
        "docling",
        "example",
        "examples",
        "extraction",
        "pipeline",
        "serialization",
        "template",
        "true",
        "use",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.761875,
      "overall": 0.7872916666666666
    }
  },
  {
    "text": "## ExtractionResult Data Model",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0011",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "ExtractionResult Data Model"
      ],
      "heading_text": "ExtractionResult Data Model",
      "token_count": 5,
      "char_count": 30,
      "start_char": 12663,
      "end_char": 12693,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.157424",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 5,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "ExtractionResult Data Model",
      "chunk_hash": "bd9422376375ec65",
      "content_digest": "bd9422376375ec65",
      "chunk_length": 30,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "extractionresult",
          "data",
          "model"
        ],
        "term_weights": [
          {
            "term": "extractionresult",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "data",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.333333
          }
        ],
        "unique_terms": 3,
        "total_terms": 3
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "ExtractionResult Data Model",
        "data",
        "extractionresult",
        "model"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Result Structure ``` ``` **Diagram: ExtractionResult Class Hierarchy**  The `ExtractionResult` structure mirrors `ConversionResult` but focuses on extracted data rather than document structure:  - **`input`**: The `InputDocument` that was processed - **`status`**: Overall extraction status (SUCCESS, FAILURE, PARTIAL\\_SUCCESS) - **`errors`**: Document-level errors (empty list if successful) - **`pages`**: Per-page extraction results  **Sources:** [docling/datamodel/extraction.py25-36](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/extraction.py#L25-L36)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0012",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Result Structure"
      ],
      "heading_text": "Result Structure",
      "token_count": 140,
      "char_count": 590,
      "start_char": 12695,
      "end_char": 13285,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.550377358490566,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.160725",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 140,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Result Structure",
      "chunk_hash": "d7f38a30fe4beeea",
      "content_digest": "d7f38a30fe4beeea",
      "chunk_length": 590,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "extraction",
          "docling",
          "structure",
          "extractionresult",
          "the",
          "document",
          "status",
          "success",
          "errors",
          "datamodel",
          "result",
          "diagram",
          "class",
          "hierarchy",
          "mirrors",
          "conversionresult",
          "but",
          "focuses",
          "extracted",
          "data"
        ],
        "term_weights": [
          {
            "term": "extraction",
            "tf": 4,
            "weight": 0.063492
          },
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.063492
          },
          {
            "term": "structure",
            "tf": 3,
            "weight": 0.047619
          },
          {
            "term": "extractionresult",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "status",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "success",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "errors",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "datamodel",
            "tf": 2,
            "weight": 0.031746
          },
          {
            "term": "result",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "diagram",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "hierarchy",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "mirrors",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "conversionresult",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "but",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "focuses",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "extracted",
            "tf": 1,
            "weight": 0.015873
          },
          {
            "term": "data",
            "tf": 1,
            "weight": 0.015873
          }
        ],
        "unique_terms": 48,
        "total_terms": 63
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Result Structure",
        "datamodel",
        "docling",
        "document",
        "errors",
        "extraction",
        "extractionresult",
        "status",
        "structure",
        "success",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.550377358490566,
      "overall": 0.7501257861635219
    }
  },
  {
    "text": "### Extraction Pipeline Hierarchy ``` ``` **Diagram: Extraction Pipeline Class Hierarchy**  The `BaseExtractionPipeline` defines the extraction contract with three abstract methods:  - `_extract_data()`: Populates `ExtractionResult.pages` and `errors` - `_determine_status()`: Returns `ConversionStatus` based on extraction results - `get_default_options()`: Returns default `PipelineOptions`  **Sources:** [docling/pipeline/base\\_extraction\\_pipeline.py15-73](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_extraction_pipeline.py#L15-L73) [docling/pipeline/extraction\\_vlm\\_pipeline.py32-46](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L32-L46)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0015",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Extraction Pipeline Hierarchy"
      ],
      "heading_text": "Extraction Pipeline Hierarchy",
      "token_count": 178,
      "char_count": 734,
      "start_char": 14534,
      "end_char": 15268,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5272093023255814,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.163782",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 178,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Extraction Pipeline Hierarchy",
      "chunk_hash": "16cf5ac46b4a4b8c",
      "content_digest": "16cf5ac46b4a4b8c",
      "chunk_length": 734,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "extraction",
          "docling",
          "hierarchy",
          "the",
          "returns",
          "default",
          "base",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "vlm",
          "diagram",
          "class",
          "baseextractionpipeline",
          "defines",
          "contract"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 10,
            "weight": 0.123457
          },
          {
            "term": "extraction",
            "tf": 8,
            "weight": 0.098765
          },
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.098765
          },
          {
            "term": "hierarchy",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "returns",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "default",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "vlm",
            "tf": 2,
            "weight": 0.024691
          },
          {
            "term": "diagram",
            "tf": 1,
            "weight": 0.012346
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.012346
          },
          {
            "term": "baseextractionpipeline",
            "tf": 1,
            "weight": 0.012346
          },
          {
            "term": "defines",
            "tf": 1,
            "weight": 0.012346
          },
          {
            "term": "contract",
            "tf": 1,
            "weight": 0.012346
          }
        ],
        "unique_terms": 46,
        "total_terms": 81
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Extraction Pipeline Hierarchy",
        "base",
        "default",
        "docling",
        "extraction",
        "github",
        "hierarchy",
        "https",
        "pipeline",
        "returns",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5272093023255814,
      "overall": 0.7090697674418603
    }
  },
  {
    "text": "### VLM Model Integration ``` ``` **Diagram: VLM Model Processing Flow**  The `NuExtractTransformersModel` uses a specialized input format from the NuMind team:  - Documents are passed as `{\"type\": \"image\", \"image\": PIL_Image}` - Templates are passed via the `template` parameter to `apply_chat_template()` - Vision info is processed via `qwen_vl_utils.process_vision_info()`  **Sources:** [docling/pipeline/extraction\\_vlm\\_pipeline.py48-126](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L48-L126) [docling/models/vlm\\_models\\_inline/nuextract\\_transformers\\_model.py107-160](https://github.com/docling-project/docling/blob/f7244a43/docling/models/vlm_models_inline/nuextract_transformers_model.py#L107-L160) [docling/models/vlm\\_models\\_inline/nuextract\\_transformers\\_model.py161-290](https://github.com/docling-project/docling/blob/f7244a43/docling/models/vlm_models_inline/nuextract_transformers_model.py#L161-L290)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0016",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "VLM Model Integration"
      ],
      "heading_text": "VLM Model Integration",
      "token_count": 256,
      "char_count": 976,
      "start_char": 15272,
      "end_char": 16248,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5323076923076923,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.165762",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 256,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "VLM Model Integration",
      "chunk_hash": "48e612d6b074c872",
      "content_digest": "48e612d6b074c872",
      "chunk_length": 976,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "vlm",
          "models",
          "model",
          "pipeline",
          "inline",
          "nuextract",
          "transformers",
          "the",
          "image",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "are",
          "passed",
          "via",
          "template"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.096774
          },
          {
            "term": "vlm",
            "tf": 8,
            "weight": 0.064516
          },
          {
            "term": "models",
            "tf": 8,
            "weight": 0.064516
          },
          {
            "term": "model",
            "tf": 6,
            "weight": 0.048387
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "inline",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "nuextract",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "transformers",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "image",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "are",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "passed",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "via",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "template",
            "tf": 2,
            "weight": 0.016129
          }
        ],
        "unique_terms": 59,
        "total_terms": 124
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "VLM Model Integration",
        "docling",
        "image",
        "inline",
        "model",
        "models",
        "nuextract",
        "pipeline",
        "the",
        "transformers",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5323076923076923,
      "overall": 0.7107692307692307
    }
  },
  {
    "text": "### Cache Key Generation ``` ``` **Diagram: Pipeline Caching Strategy**  The `_get_pipeline()` method caches pipelines using a composite key:  1. Pipeline class reference (e.g., `ExtractionVlmPipeline`) 2. MD5 hash of `pipeline_options.model_dump()` serialization  This ensures that documents with identical configurations reuse the same pipeline instance (and loaded models), avoiding redundant initialization. **Thread Safety:** Pipeline retrieval is protected by `_PIPELINE_CACHE_LOCK` to prevent race conditions during concurrent document processing. **Sources:** [docling/document\\_extractor.py291-317](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L291-L317) [docling/document\\_extractor.py319-325](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L319-L325)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0018",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 18,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Cache Key Generation"
      ],
      "heading_text": "Cache Key Generation",
      "token_count": 185,
      "char_count": 843,
      "start_char": 16283,
      "end_char": 17126,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5679411764705883,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.168652",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 185,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Cache Key Generation",
      "chunk_hash": "9325968c43aeb29b",
      "content_digest": "9325968c43aeb29b",
      "chunk_length": 843,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "document",
          "extractor",
          "cache",
          "key",
          "the",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "generation",
          "diagram",
          "caching",
          "strategy",
          "get",
          "method",
          "caches"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.082474
          },
          {
            "term": "pipeline",
            "tf": 7,
            "weight": 0.072165
          },
          {
            "term": "document",
            "tf": 5,
            "weight": 0.051546
          },
          {
            "term": "extractor",
            "tf": 4,
            "weight": 0.041237
          },
          {
            "term": "cache",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "key",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.020619
          },
          {
            "term": "generation",
            "tf": 1,
            "weight": 0.010309
          },
          {
            "term": "diagram",
            "tf": 1,
            "weight": 0.010309
          },
          {
            "term": "caching",
            "tf": 1,
            "weight": 0.010309
          },
          {
            "term": "strategy",
            "tf": 1,
            "weight": 0.010309
          },
          {
            "term": "get",
            "tf": 1,
            "weight": 0.010309
          },
          {
            "term": "method",
            "tf": 1,
            "weight": 0.010309
          },
          {
            "term": "caches",
            "tf": 1,
            "weight": 0.010309
          }
        ],
        "unique_terms": 68,
        "total_terms": 97
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Cache Key Generation",
        "cache",
        "com",
        "docling",
        "document",
        "extractor",
        "github",
        "https",
        "key",
        "pipeline",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5679411764705883,
      "overall": 0.7226470588235294
    }
  },
  {
    "text": "## Format Support and Backend Configuration",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0019",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 19,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Format Support and Backend Configuration"
      ],
      "heading_text": "Format Support and Backend Configuration",
      "token_count": 6,
      "char_count": 43,
      "start_char": 17132,
      "end_char": 17175,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.169181",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 6,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Format Support and Backend Configuration",
      "chunk_hash": "7c5e43a6fd4700a5",
      "content_digest": "7c5e43a6fd4700a5",
      "chunk_length": 43,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "format",
          "support",
          "and",
          "backend",
          "configuration"
        ],
        "term_weights": [
          {
            "term": "format",
            "tf": 1,
            "weight": 0.2
          },
          {
            "term": "support",
            "tf": 1,
            "weight": 0.2
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.2
          },
          {
            "term": "backend",
            "tf": 1,
            "weight": 0.2
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.2
          }
        ],
        "unique_terms": 5,
        "total_terms": 5
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Format Support and Backend Configuration",
        "and",
        "backend",
        "configuration",
        "format",
        "support"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Default Format Options ``` ``` **Diagram: Default Extraction Configuration**  The `_get_default_extraction_option()` function defines default extraction configurations:  - **PDF and Image formats**: Use `PyPdfiumDocumentBackend` for document reading - **Pipeline**: Always `ExtractionVlmPipeline` - **Model**: NuExtract-2.0-2B via `NuExtractTransformersModel`  Users can override these defaults via the `extraction_format_options` parameter in `DocumentExtractor.__init__()`. **Experimental Status:** As of the current implementation, only PDF and Image formats are supported for extraction. The API warns users that it is experimental and may change. **Sources:** [docling/document\\_extractor.py66-85](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L66-L85) [docling/pipeline/extraction\\_vlm\\_pipeline.py32-46](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L32-L46)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0020",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 20,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Default Format Options"
      ],
      "heading_text": "Default Format Options",
      "token_count": 223,
      "char_count": 965,
      "start_char": 17177,
      "end_char": 18142,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5315584415584416,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.172892",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 223,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Default Format Options",
      "chunk_hash": "73024797d9c24f0d",
      "content_digest": "73024797d9c24f0d",
      "chunk_length": 965,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "extraction",
          "pipeline",
          "default",
          "the",
          "and",
          "document",
          "format",
          "options",
          "pdf",
          "image",
          "formats",
          "for",
          "via",
          "users",
          "experimental",
          "extractor",
          "https",
          "github",
          "com"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.074074
          },
          {
            "term": "extraction",
            "tf": 7,
            "weight": 0.064815
          },
          {
            "term": "pipeline",
            "tf": 5,
            "weight": 0.046296
          },
          {
            "term": "default",
            "tf": 4,
            "weight": 0.037037
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.037037
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.027778
          },
          {
            "term": "document",
            "tf": 3,
            "weight": 0.027778
          },
          {
            "term": "format",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "options",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "pdf",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "image",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "formats",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "via",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "users",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "experimental",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "extractor",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.018519
          }
        ],
        "unique_terms": 64,
        "total_terms": 108
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Default Format Options",
        "and",
        "default",
        "docling",
        "document",
        "extraction",
        "format",
        "options",
        "pdf",
        "pipeline",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5315584415584416,
      "overall": 0.7105194805194804
    }
  },
  {
    "text": "### Status Decision Tree ``` ``` **Diagram: Extraction Status Determination**  The `_determine_status()` method in `ExtractionVlmPipeline` uses a simple rule:  - **SUCCESS**: At least one page extracted AND no page errors - **FAILURE**: No pages extracted OR any page has errors  Unlike `DocumentConverter`, extraction does not support `PARTIAL_SUCCESS` statusa document either fully succeeds or fails. **Sources:** [docling/pipeline/extraction\\_vlm\\_pipeline.py128-133](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L128-L133)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0022",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 22,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Status Decision Tree"
      ],
      "heading_text": "Status Decision Tree",
      "token_count": 136,
      "char_count": 583,
      "start_char": 18192,
      "end_char": 18775,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5364285714285714,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.176080",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 136,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Status Decision Tree",
      "chunk_hash": "ce6876cf0bfadf4f",
      "content_digest": "ce6876cf0bfadf4f",
      "chunk_length": 583,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "status",
          "extraction",
          "docling",
          "pipeline",
          "page",
          "success",
          "extracted",
          "errors",
          "vlm",
          "decision",
          "tree",
          "diagram",
          "determination",
          "the",
          "determine",
          "method",
          "extractionvlmpipeline",
          "uses",
          "simple",
          "rule"
        ],
        "term_weights": [
          {
            "term": "status",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "extraction",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "page",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "success",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "extracted",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "errors",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "vlm",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "decision",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "tree",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "diagram",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "determination",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "determine",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "method",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "extractionvlmpipeline",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "simple",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "rule",
            "tf": 1,
            "weight": 0.014925
          }
        ],
        "unique_terms": 49,
        "total_terms": 67
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Status Decision Tree",
        "decision",
        "docling",
        "errors",
        "extracted",
        "extraction",
        "page",
        "pipeline",
        "status",
        "success",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5364285714285714,
      "overall": 0.7121428571428571
    }
  },
  {
    "text": "### Error Propagation ``` ``` **Diagram: Error Handling Flow**  The `raises_on_error` parameter controls error behavior at multiple levels:  1. **Document level**: Invalid formats, missing pipelines 2. **Page level**: Image loading failures, VLM processing errors  When `raises_on_error=False`, errors are captured in the `ExtractionResult` structure rather than raised as exceptions. **Sources:** [docling/document\\_extractor.py177-192](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L177-L192) [docling/pipeline/base\\_extraction\\_pipeline.py31-53](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_extraction_pipeline.py#L31-L53) [docling/pipeline/extraction\\_vlm\\_pipeline.py109-114](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L109-L114)  Dismiss  Refresh this wiki  This wiki was recently refreshed. Please wait 4 days to refresh again.",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0023",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 23,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Error Propagation"
      ],
      "heading_text": "Error Propagation",
      "token_count": 238,
      "char_count": 967,
      "start_char": 18780,
      "end_char": 19747,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5502941176470588,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.179483",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 238,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "Error Propagation",
      "chunk_hash": "d59e0c5d12588dc4",
      "content_digest": "d59e0c5d12588dc4",
      "chunk_length": 967,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "error",
          "extraction",
          "document",
          "vlm",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "the",
          "raises",
          "level",
          "errors",
          "extractor",
          "base",
          "refresh",
          "this"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.10084
          },
          {
            "term": "pipeline",
            "tf": 8,
            "weight": 0.067227
          },
          {
            "term": "error",
            "tf": 5,
            "weight": 0.042017
          },
          {
            "term": "extraction",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "document",
            "tf": 3,
            "weight": 0.02521
          },
          {
            "term": "vlm",
            "tf": 3,
            "weight": 0.02521
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.02521
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.02521
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.02521
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.02521
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.02521
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.02521
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "raises",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "level",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "errors",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "extractor",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "this",
            "tf": 2,
            "weight": 0.016807
          }
        ],
        "unique_terms": 69,
        "total_terms": 119
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Error Propagation",
        "com",
        "docling",
        "document",
        "error",
        "extraction",
        "github",
        "https",
        "pipeline",
        "project",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5502941176470588,
      "overall": 0.716764705882353
    }
  },
  {
    "text": "### On this page  - [DocumentExtractor API](#documentextractor-api.md) - [Purpose and Scope](#purpose-and-scope.md) - [Core Architecture](#core-architecture.md) - [Class Hierarchy and Components](#class-hierarchy-and-components.md) - [DocumentExtractor Class](#documentextractor-class.md) - [API Methods](#api-methods.md) - [extract() - Single Document Extraction](#extract---single-document-extraction.md) - [extract\\_all() - Batch Extraction](#extract_all---batch-extraction.md) - [Template Types and Serialization](#template-types-and-serialization.md) - [Template Type Hierarchy](#template-type-hierarchy.md) - [Template Serialization Example Flow](#template-serialization-example-flow.md) - [ExtractionResult Data Model](#extractionresult-data-model.md) - [Result Structure](#result-structure.md) - [ExtractedPageData Structure](#extractedpagedata-structure.md) - [Pipeline Architecture](#pipeline-architecture.md) - [Extraction Pipeline Hierarchy](#extraction-pipeline-hierarchy.md) - [VLM Model Integration](#vlm-model-integration.md) - [Pipeline Caching Mechanism](#pipeline-caching-mechanism.md) - [Cache Key Generation](#cache-key-generation.md) - [Format Support and Backend Configuration](#format-support-and-backend-configuration.md) - [Default Format Options](#default-format-options.md) - [Error Handling and Status Determination](#error-handling-and-status-determination.md) - [Status Decision Tree](#status-decision-tree.md) - [Error Propagation](#error-propagation.md)",
    "metadata": {
      "chunk_id": "5aeff20f6be1-0024",
      "source_file": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "file_extension": ".md",
      "chunk_index": 24,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "On this page"
      ],
      "heading_text": "On this page",
      "token_count": 352,
      "char_count": 1486,
      "start_char": 19752,
      "end_char": 21238,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7056000000000001,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:00.182371",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 352,
      "document_id": "5aeff20f6be1",
      "document_name": "_docling-project_docling_7.2-documentextractor-api",
      "source_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "source_filename": "_docling-project_docling_7.2-documentextractor-api.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_7.2-documentextractor-api.md",
      "hierarchy_path": "On this page",
      "chunk_hash": "234e5c6db71ae205",
      "content_digest": "234e5c6db71ae205",
      "chunk_length": 1486,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "and",
          "hierarchy",
          "extraction",
          "template",
          "pipeline",
          "documentextractor",
          "api",
          "architecture",
          "class",
          "extract",
          "serialization",
          "model",
          "structure",
          "format",
          "error",
          "status",
          "purpose",
          "scope",
          "core",
          "components"
        ],
        "term_weights": [
          {
            "term": "and",
            "tf": 10,
            "weight": 0.067568
          },
          {
            "term": "hierarchy",
            "tf": 6,
            "weight": 0.040541
          },
          {
            "term": "extraction",
            "tf": 6,
            "weight": 0.040541
          },
          {
            "term": "template",
            "tf": 6,
            "weight": 0.040541
          },
          {
            "term": "pipeline",
            "tf": 6,
            "weight": 0.040541
          },
          {
            "term": "documentextractor",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "api",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "architecture",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "class",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "extract",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "serialization",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "model",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "structure",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "format",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "error",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "status",
            "tf": 4,
            "weight": 0.027027
          },
          {
            "term": "purpose",
            "tf": 2,
            "weight": 0.013514
          },
          {
            "term": "scope",
            "tf": 2,
            "weight": 0.013514
          },
          {
            "term": "core",
            "tf": 2,
            "weight": 0.013514
          },
          {
            "term": "components",
            "tf": 2,
            "weight": 0.013514
          }
        ],
        "unique_terms": 52,
        "total_terms": 148
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "On this page",
        "and",
        "api",
        "architecture",
        "class",
        "documentextractor",
        "extract",
        "extraction",
        "hierarchy",
        "pipeline",
        "template"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7056000000000001,
      "overall": 0.7685333333333334
    }
  }
]