[
  {
    "text": "## Pipeline Hierarchy  The Docling pipeline architecture is built around a hierarchy of abstract base classes that define different processing paradigms: ``` ``` **Sources:** [docling/pipeline/base\\_pipeline.py43-133](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L43-L133) [docling/pipeline/base\\_pipeline.py135-182](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L135-L182) [docling/pipeline/base\\_pipeline.py184-319](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L184-L319) [docling/pipeline/simple\\_pipeline.py16-56](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/simple_pipeline.py#L16-L56) [docling/pipeline/vlm\\_pipeline.py50-389](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/vlm_pipeline.py#L50-L389) [docling/pipeline/threaded\\_standard\\_pdf\\_pipeline.py296-648](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/threaded_standard_pdf_pipeline.py#L296-L648) [docling/pipeline/asr\\_pipeline.py204-242](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L204-L242) [docling/pipeline/extraction\\_vlm\\_pipeline.py32-198](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L32-L198) [docling/pipeline/base\\_extraction\\_pipeline.py15-73](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_extraction_pipeline.py#L15-L73)",
    "metadata": {
      "chunk_id": "20ca879a7688-0001",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pipeline Hierarchy"
      ],
      "heading_text": "Pipeline Hierarchy",
      "token_count": 424,
      "char_count": 1554,
      "start_char": 6890,
      "end_char": 8444,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5999272727272728,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.060406",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 424,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Pipeline Hierarchy",
      "chunk_hash": "7ae16f6c20686020",
      "content_digest": "7ae16f6c20686020",
      "chunk_length": 1554,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "docling",
          "base",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "vlm",
          "extraction",
          "hierarchy",
          "simple",
          "threaded",
          "standard",
          "pdf",
          "asr",
          "the",
          "architecture",
          "built"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 38,
            "weight": 0.186275
          },
          {
            "term": "docling",
            "tf": 37,
            "weight": 0.181373
          },
          {
            "term": "base",
            "tf": 9,
            "weight": 0.044118
          },
          {
            "term": "https",
            "tf": 9,
            "weight": 0.044118
          },
          {
            "term": "github",
            "tf": 9,
            "weight": 0.044118
          },
          {
            "term": "com",
            "tf": 9,
            "weight": 0.044118
          },
          {
            "term": "project",
            "tf": 9,
            "weight": 0.044118
          },
          {
            "term": "blob",
            "tf": 9,
            "weight": 0.044118
          },
          {
            "term": "f7244a43",
            "tf": 9,
            "weight": 0.044118
          },
          {
            "term": "vlm",
            "tf": 4,
            "weight": 0.019608
          },
          {
            "term": "extraction",
            "tf": 4,
            "weight": 0.019608
          },
          {
            "term": "hierarchy",
            "tf": 2,
            "weight": 0.009804
          },
          {
            "term": "simple",
            "tf": 2,
            "weight": 0.009804
          },
          {
            "term": "threaded",
            "tf": 2,
            "weight": 0.009804
          },
          {
            "term": "standard",
            "tf": 2,
            "weight": 0.009804
          },
          {
            "term": "pdf",
            "tf": 2,
            "weight": 0.009804
          },
          {
            "term": "asr",
            "tf": 2,
            "weight": 0.009804
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.004902
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.004902
          },
          {
            "term": "built",
            "tf": 1,
            "weight": 0.004902
          }
        ],
        "unique_terms": 63,
        "total_terms": 204
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pipeline Hierarchy",
        "base",
        "blob",
        "com",
        "docling",
        "f7244a43",
        "github",
        "https",
        "pipeline",
        "project",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5999272727272728,
      "overall": 0.6999757575757576
    }
  },
  {
    "text": "## Core Pipeline Execution Flow  The `BasePipeline.execute()` method defines the standard three-phase execution pattern that all pipelines follow. This method serves as a template, delegating to abstract methods that subclasses implement: ``` ``` The execution flow guarantees that `_unload()` is called in the `finally` block to clean up resources regardless of success or failure. **Sources:** [docling/pipeline/base\\_pipeline.py62-84](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L62-L84)",
    "metadata": {
      "chunk_id": "20ca879a7688-0002",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Core Pipeline Execution Flow"
      ],
      "heading_text": "Core Pipeline Execution Flow",
      "token_count": 113,
      "char_count": 537,
      "start_char": 8448,
      "end_char": 8985,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5310714285714285,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.063051",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 113,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Core Pipeline Execution Flow",
      "chunk_hash": "0b2edf066aad7b09",
      "content_digest": "0b2edf066aad7b09",
      "chunk_length": 537,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "the",
          "docling",
          "execution",
          "that",
          "flow",
          "method",
          "base",
          "core",
          "basepipeline",
          "execute",
          "defines",
          "standard",
          "three",
          "phase",
          "pattern",
          "all",
          "pipelines",
          "follow",
          "this"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 5,
            "weight": 0.078125
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.0625
          },
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.0625
          },
          {
            "term": "execution",
            "tf": 3,
            "weight": 0.046875
          },
          {
            "term": "that",
            "tf": 3,
            "weight": 0.046875
          },
          {
            "term": "flow",
            "tf": 2,
            "weight": 0.03125
          },
          {
            "term": "method",
            "tf": 2,
            "weight": 0.03125
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.03125
          },
          {
            "term": "core",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "basepipeline",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "execute",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "defines",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "standard",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "three",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "phase",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "pattern",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "all",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "pipelines",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "follow",
            "tf": 1,
            "weight": 0.015625
          },
          {
            "term": "this",
            "tf": 1,
            "weight": 0.015625
          }
        ],
        "unique_terms": 47,
        "total_terms": 64
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Core Pipeline Execution Flow",
        "base",
        "basepipeline",
        "core",
        "docling",
        "execution",
        "flow",
        "method",
        "pipeline",
        "that",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5310714285714285,
      "overall": 0.7103571428571428
    }
  },
  {
    "text": "## Pipeline Processing Phases\n\nThe three-phase execution model provides clear separation of concerns during document processing:",
    "metadata": {
      "chunk_id": "20ca879a7688-0003",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pipeline Processing Phases"
      ],
      "heading_text": "Pipeline Processing Phases",
      "token_count": 20,
      "char_count": 128,
      "start_char": 8990,
      "end_char": 9118,
      "semantic_score": 0.8,
      "structural_score": 0.7,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.063355",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 20,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Pipeline Processing Phases",
      "chunk_hash": "76a1def1c959e54c",
      "content_digest": "76a1def1c959e54c",
      "chunk_length": 128,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "processing",
          "pipeline",
          "phases",
          "the",
          "three",
          "phase",
          "execution",
          "model",
          "provides",
          "clear",
          "separation",
          "concerns",
          "during",
          "document"
        ],
        "term_weights": [
          {
            "term": "processing",
            "tf": 2,
            "weight": 0.133333
          },
          {
            "term": "pipeline",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "phases",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "three",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "phase",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "execution",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "clear",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "separation",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "concerns",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "during",
            "tf": 1,
            "weight": 0.066667
          },
          {
            "term": "document",
            "tf": 1,
            "weight": 0.066667
          }
        ],
        "unique_terms": 14,
        "total_terms": 15
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pipeline Processing Phases",
        "clear",
        "execution",
        "model",
        "phase",
        "phases",
        "pipeline",
        "processing",
        "provides",
        "the",
        "three"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.7,
      "retrieval_quality": 0.59,
      "overall": 0.6966666666666667
    }
  },
  {
    "text": "### Phase 1: Build (\\_build\\_document)  The `_build_document()` abstract method is responsible for extracting and processing raw content from the input document. This is where format-specific parsing occurs:  | Pipeline Type       | Build Strategy                                                                | | ------------------- | ----------------------------------------------------------------------------- | | `SimplePipeline`    | Directly calls `backend.convert()` for declarative formats (DOCX, HTML, etc.) | | `PaginatedPipeline` | Processes pages in batches through a sequential model pipeline                | | `VlmPipeline`       | Generates VLM predictions for each page image                                 | | `AsrPipeline`       | Transcribes audio using Whisper models                                        |  The build phase populates `conv_res.pages` with raw predictions from models (layout, tables, OCR, etc.) but does not yet construct the final document hierarchy. **Sources:** [docling/pipeline/base\\_pipeline.py86-88](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L86-L88) [docling/pipeline/simple\\_pipeline.py26-41](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/simple_pipeline.py#L26-L41) [docling/pipeline/base\\_pipeline.py197-283](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L197-L283) [docling/pipeline/vlm\\_pipeline.py114-123](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/vlm_pipeline.py#L114-L123) [docling/pipeline/asr\\_pipeline.py260-265](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L260-L265)",
    "metadata": {
      "chunk_id": "20ca879a7688-0004",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Phase 1: Build (\\_build\\_document)"
      ],
      "heading_text": "Phase 1: Build (\\_build\\_document)",
      "token_count": 384,
      "char_count": 1729,
      "start_char": 9120,
      "end_char": 10849,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5309894736842106,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "table_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.064143",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 384,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Phase 1: Build (\\_build\\_document)",
      "chunk_hash": "1a72e857d4454ae2",
      "content_digest": "1a72e857d4454ae2",
      "chunk_length": 1729,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "docling",
          "build",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "document",
          "the",
          "base",
          "for",
          "vlm",
          "phase",
          "raw",
          "from",
          "etc",
          "pages",
          "predictions"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 22,
            "weight": 0.117647
          },
          {
            "term": "docling",
            "tf": 20,
            "weight": 0.106952
          },
          {
            "term": "build",
            "tf": 5,
            "weight": 0.026738
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.026738
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.026738
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.026738
          },
          {
            "term": "project",
            "tf": 5,
            "weight": 0.026738
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.026738
          },
          {
            "term": "f7244a43",
            "tf": 5,
            "weight": 0.026738
          },
          {
            "term": "document",
            "tf": 4,
            "weight": 0.02139
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.02139
          },
          {
            "term": "base",
            "tf": 4,
            "weight": 0.02139
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.016043
          },
          {
            "term": "vlm",
            "tf": 3,
            "weight": 0.016043
          },
          {
            "term": "phase",
            "tf": 2,
            "weight": 0.010695
          },
          {
            "term": "raw",
            "tf": 2,
            "weight": 0.010695
          },
          {
            "term": "from",
            "tf": 2,
            "weight": 0.010695
          },
          {
            "term": "etc",
            "tf": 2,
            "weight": 0.010695
          },
          {
            "term": "pages",
            "tf": 2,
            "weight": 0.010695
          },
          {
            "term": "predictions",
            "tf": 2,
            "weight": 0.010695
          }
        ],
        "unique_terms": 97,
        "total_terms": 187
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Phase 1: Build (\\_build\\_document)",
        "blob",
        "build",
        "com",
        "docling",
        "document",
        "f7244a43",
        "github",
        "https",
        "pipeline",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5309894736842106,
      "overall": 0.7103298245614035
    }
  },
  {
    "text": "### Phase 2: Assemble (\\_assemble\\_document)  The `_assemble_document()` method takes processed content and constructs the final `DoclingDocument` structure. The base implementation is a no-op, but subclasses override it to:  - Construct document hierarchy from page-level predictions - Generate page images at configured scale - Crop element images for pictures and tables - Determine reading order - Convert VLM outputs (DOCTAGS/Markdown/HTML) into `DoclingDocument`  **Sources:** [docling/pipeline/base\\_pipeline.py90-91](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L90-L91) [docling/pipeline/vlm\\_pipeline.py136-186](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/vlm_pipeline.py#L136-L186) [docling/pipeline/threaded\\_standard\\_pdf\\_pipeline.py535-628](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/threaded_standard_pdf_pipeline.py#L535-L628)",
    "metadata": {
      "chunk_id": "20ca879a7688-0005",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Phase 2: Assemble (\\_assemble\\_document)"
      ],
      "heading_text": "Phase 2: Assemble (\\_assemble\\_document)",
      "token_count": 234,
      "char_count": 950,
      "start_char": 10852,
      "end_char": 11802,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5484615384615384,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.064897",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 234,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Phase 2: Assemble (\\_assemble\\_document)",
      "chunk_hash": "4013928e5261307e",
      "content_digest": "4013928e5261307e",
      "chunk_length": 950,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "assemble",
          "document",
          "the",
          "base",
          "vlm",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "and",
          "doclingdocument",
          "page",
          "images",
          "threaded",
          "standard",
          "pdf"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.102564
          },
          {
            "term": "pipeline",
            "tf": 12,
            "weight": 0.102564
          },
          {
            "term": "assemble",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "document",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "base",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "vlm",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.025641
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.017094
          },
          {
            "term": "doclingdocument",
            "tf": 2,
            "weight": 0.017094
          },
          {
            "term": "page",
            "tf": 2,
            "weight": 0.017094
          },
          {
            "term": "images",
            "tf": 2,
            "weight": 0.017094
          },
          {
            "term": "threaded",
            "tf": 2,
            "weight": 0.017094
          },
          {
            "term": "standard",
            "tf": 2,
            "weight": 0.017094
          },
          {
            "term": "pdf",
            "tf": 2,
            "weight": 0.017094
          }
        ],
        "unique_terms": 66,
        "total_terms": 117
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Phase 2: Assemble (\\_assemble\\_document)",
        "assemble",
        "base",
        "com",
        "docling",
        "document",
        "github",
        "https",
        "pipeline",
        "the",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5484615384615384,
      "overall": 0.716153846153846
    }
  },
  {
    "text": "### Phase 3: Enrich (\\_enrich\\_document)  The `_enrich_document()` method applies enrichment models to enhance the document content after assembly. This phase operates on the `DoclingDocument` structure, iterating through items and applying models from `enrichment_pipe`: ``` ``` Enrichment models include:  - `CodeFormulaModel`: Extracts LaTeX from code/formula images - `DocumentPictureClassifier`: Classifies figure types - `PictureDescriptionVlmModel` or `PictureDescriptionApiModel`: Generates image captions  **Sources:** [docling/pipeline/base\\_pipeline.py93-115](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L93-L115)",
    "metadata": {
      "chunk_id": "20ca879a7688-0006",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Phase 3: Enrich (\\_enrich\\_document)"
      ],
      "heading_text": "Phase 3: Enrich (\\_enrich\\_document)",
      "token_count": 154,
      "char_count": 671,
      "start_char": 11804,
      "end_char": 12475,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5391525423728813,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.066639",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 154,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Phase 3: Enrich (\\_enrich\\_document)",
      "chunk_hash": "85f16070181eb80c",
      "content_digest": "85f16070181eb80c",
      "chunk_length": 671,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "enrich",
          "document",
          "the",
          "enrichment",
          "models",
          "phase",
          "from",
          "base",
          "method",
          "applies",
          "enhance",
          "content",
          "after",
          "assembly",
          "this",
          "operates",
          "doclingdocument",
          "structure"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.055556
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.055556
          },
          {
            "term": "enrich",
            "tf": 3,
            "weight": 0.041667
          },
          {
            "term": "document",
            "tf": 3,
            "weight": 0.041667
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.041667
          },
          {
            "term": "enrichment",
            "tf": 3,
            "weight": 0.041667
          },
          {
            "term": "models",
            "tf": 3,
            "weight": 0.041667
          },
          {
            "term": "phase",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "from",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.027778
          },
          {
            "term": "method",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "applies",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "enhance",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "content",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "after",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "assembly",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "this",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "operates",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "doclingdocument",
            "tf": 1,
            "weight": 0.013889
          },
          {
            "term": "structure",
            "tf": 1,
            "weight": 0.013889
          }
        ],
        "unique_terms": 53,
        "total_terms": 72
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Phase 3: Enrich (\\_enrich\\_document)",
        "base",
        "docling",
        "document",
        "enrich",
        "enrichment",
        "from",
        "models",
        "phase",
        "pipeline",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5391525423728813,
      "overall": 0.7463841807909604
    }
  },
  {
    "text": "## Model Integration Architecture\n\nPipelines integrate with two main types of models:",
    "metadata": {
      "chunk_id": "20ca879a7688-0008",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Model Integration Architecture"
      ],
      "heading_text": "Model Integration Architecture",
      "token_count": 15,
      "char_count": 85,
      "start_char": 13532,
      "end_char": 13617,
      "semantic_score": 0.8,
      "structural_score": 0.7,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.068964",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 15,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Model Integration Architecture",
      "chunk_hash": "bbffb126a70e5549",
      "content_digest": "bbffb126a70e5549",
      "chunk_length": 85,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "model",
          "integration",
          "architecture",
          "pipelines",
          "integrate",
          "with",
          "two",
          "main",
          "types",
          "models"
        ],
        "term_weights": [
          {
            "term": "model",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "integration",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "pipelines",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "integrate",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "two",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "main",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "types",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "models",
            "tf": 1,
            "weight": 0.1
          }
        ],
        "unique_terms": 10,
        "total_terms": 10
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Model Integration Architecture",
        "architecture",
        "integrate",
        "integration",
        "main",
        "model",
        "models",
        "pipelines",
        "two",
        "types",
        "with"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.7,
      "retrieval_quality": 0.59,
      "overall": 0.6966666666666667
    }
  },
  {
    "text": "### Page Processing Models (Build Phase)  Page models are stored in the `build_pipe` list and process pages sequentially during the build phase. Each model implements a callable interface `__call__(conv_res: ConversionResult, page_batch: Iterable[Page]) -> Iterable[Page]`: ``` ``` **Title:** Page Processing Models  **Sources:** [docling/models/base\\_model.py38-43](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_model.py#L38-L43) [docling/pipeline/threaded\\_standard\\_pdf\\_pipeline.py318-336](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/threaded_standard_pdf_pipeline.py#L318-L336)",
    "metadata": {
      "chunk_id": "20ca879a7688-0009",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Page Processing Models (Build Phase)"
      ],
      "heading_text": "Page Processing Models (Build Phase)",
      "token_count": 158,
      "char_count": 643,
      "start_char": 13619,
      "end_char": 14262,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5411627906976745,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.070030",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 158,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Page Processing Models (Build Phase)",
      "chunk_hash": "47699fdb5899f42a",
      "content_digest": "47699fdb5899f42a",
      "chunk_length": 643,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "page",
          "models",
          "pipeline",
          "build",
          "model",
          "processing",
          "phase",
          "the",
          "iterable",
          "base",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "threaded",
          "standard",
          "pdf"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.095238
          },
          {
            "term": "page",
            "tf": 6,
            "weight": 0.071429
          },
          {
            "term": "models",
            "tf": 5,
            "weight": 0.059524
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.047619
          },
          {
            "term": "build",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "model",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "processing",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "phase",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "iterable",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "threaded",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "standard",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "pdf",
            "tf": 2,
            "weight": 0.02381
          }
        ],
        "unique_terms": 47,
        "total_terms": 84
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Page Processing Models (Build Phase)",
        "build",
        "docling",
        "iterable",
        "model",
        "models",
        "page",
        "phase",
        "pipeline",
        "processing",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5411627906976745,
      "overall": 0.7137209302325581
    }
  },
  {
    "text": "### Enrichment Models (Enrich Phase)  Enrichment models are stored in the `enrichment_pipe` list and process document elements after assembly: ``` ``` **Title:** Enrichment Models Hierarchy  **Sources:** [docling/models/base\\_model.py131-148](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_model.py#L131-L148) [docling/models/base\\_model.py151-158](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_model.py#L151-L158) [docling/models/base\\_model.py160-211](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_model.py#L160-L211) [docling/pipeline/base\\_pipeline.py152-162](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L152-L162) [docling/pipeline/threaded\\_standard\\_pdf\\_pipeline.py339-352](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/threaded_standard_pdf_pipeline.py#L339-L352)",
    "metadata": {
      "chunk_id": "20ca879a7688-0010",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Enrichment Models (Enrich Phase)"
      ],
      "heading_text": "Enrichment Models (Enrich Phase)",
      "token_count": 255,
      "char_count": 939,
      "start_char": 14266,
      "end_char": 15205,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5416129032258065,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.071189",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 255,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Enrichment Models (Enrich Phase)",
      "chunk_hash": "d492f268665c9655",
      "content_digest": "d492f268665c9655",
      "chunk_length": 939,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "models",
          "base",
          "pipeline",
          "model",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "enrichment",
          "threaded",
          "standard",
          "pdf",
          "enrich",
          "phase",
          "are",
          "stored",
          "the"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 20,
            "weight": 0.15748
          },
          {
            "term": "models",
            "tf": 9,
            "weight": 0.070866
          },
          {
            "term": "base",
            "tf": 8,
            "weight": 0.062992
          },
          {
            "term": "pipeline",
            "tf": 8,
            "weight": 0.062992
          },
          {
            "term": "model",
            "tf": 6,
            "weight": 0.047244
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.03937
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.03937
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.03937
          },
          {
            "term": "project",
            "tf": 5,
            "weight": 0.03937
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.03937
          },
          {
            "term": "f7244a43",
            "tf": 5,
            "weight": 0.03937
          },
          {
            "term": "enrichment",
            "tf": 4,
            "weight": 0.031496
          },
          {
            "term": "threaded",
            "tf": 2,
            "weight": 0.015748
          },
          {
            "term": "standard",
            "tf": 2,
            "weight": 0.015748
          },
          {
            "term": "pdf",
            "tf": 2,
            "weight": 0.015748
          },
          {
            "term": "enrich",
            "tf": 1,
            "weight": 0.007874
          },
          {
            "term": "phase",
            "tf": 1,
            "weight": 0.007874
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.007874
          },
          {
            "term": "stored",
            "tf": 1,
            "weight": 0.007874
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.007874
          }
        ],
        "unique_terms": 51,
        "total_terms": 127
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Enrichment Models (Enrich Phase)",
        "base",
        "blob",
        "com",
        "docling",
        "github",
        "https",
        "model",
        "models",
        "pipeline",
        "project"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5416129032258065,
      "overall": 0.6805376344086022
    }
  },
  {
    "text": "## PaginatedPipeline Specialization  The `PaginatedPipeline` class extends `ConvertPipeline` to handle document formats that require page-by-page processing, such as PDFs. It introduces the abstract method `initialize_page(conv_res, page)` that subclasses must implement: ``` ``` **Title:** PaginatedPipeline and Its Options  The `_build_document()` implementation processes pages in batches: ``` ``` **Title:** PaginatedPipeline Build Flow  The `_apply_on_pages()` method chains models from `build_pipe`: ``` ``` Each model receives the output of the previous model, forming a sequential processing pipeline. **Sources:** [docling/pipeline/base\\_pipeline.py184-319](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L184-L319)",
    "metadata": {
      "chunk_id": "20ca879a7688-0011",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "PaginatedPipeline Specialization"
      ],
      "heading_text": "PaginatedPipeline Specialization",
      "token_count": 163,
      "char_count": 768,
      "start_char": 15209,
      "end_char": 15977,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.53,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.073172",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 163,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "PaginatedPipeline Specialization",
      "chunk_hash": "0ffb35b0e3260c63",
      "content_digest": "0ffb35b0e3260c63",
      "chunk_length": 768,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "the",
          "pipeline",
          "paginatedpipeline",
          "page",
          "docling",
          "build",
          "document",
          "that",
          "processing",
          "method",
          "title",
          "pages",
          "model",
          "base",
          "specialization",
          "class",
          "extends",
          "convertpipeline",
          "handle",
          "formats"
        ],
        "term_weights": [
          {
            "term": "the",
            "tf": 6,
            "weight": 0.068182
          },
          {
            "term": "pipeline",
            "tf": 5,
            "weight": 0.056818
          },
          {
            "term": "paginatedpipeline",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "page",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "build",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "that",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "processing",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "method",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "title",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "pages",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "specialization",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "extends",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "convertpipeline",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "handle",
            "tf": 1,
            "weight": 0.011364
          },
          {
            "term": "formats",
            "tf": 1,
            "weight": 0.011364
          }
        ],
        "unique_terms": 60,
        "total_terms": 88
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "PaginatedPipeline Specialization",
        "build",
        "docling",
        "document",
        "method",
        "page",
        "paginatedpipeline",
        "pipeline",
        "processing",
        "that",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.53,
      "overall": 0.7433333333333332
    }
  },
  {
    "text": "## Error Handling and Status Determination  Pipelines implement different strategies for determining conversion status:  - **SimplePipeline**: Always returns `SUCCESS` if no exceptions occur - **VlmPipeline**: Checks for valid pages and backend status - **ThreadedStandardPdfPipeline**: Preserves status from threaded processing - **AsrPipeline**: Always returns `SUCCESS` for valid transcription  All pipelines support graceful error handling through the `raises_on_error` parameter in `execute()`, allowing partial results to be returned instead of exceptions. **Sources:** [docling/pipeline/simple\\_pipeline.py43-47](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/simple_pipeline.py#L43-L47) [docling/pipeline/base\\_pipeline.py295-314](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L295-L314) [docling/pipeline/threaded\\_standard\\_pdf\\_pipeline.py639-640](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/threaded_standard_pdf_pipeline.py#L639-L640) [docling/pipeline/asr\\_pipeline.py224-226](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L224-L226) [docling/pipeline/base\\_pipeline.py77-81](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L77-L81)  Dismiss  Refresh this wiki  This wiki was recently refreshed. Please wait 4 days to refresh again.",
    "metadata": {
      "chunk_id": "20ca879a7688-0014",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Error Handling and Status Determination"
      ],
      "heading_text": "Error Handling and Status Determination",
      "token_count": 345,
      "char_count": 1435,
      "start_char": 18455,
      "end_char": 19890,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5401666666666667,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:07.075937",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 345,
      "document_id": "20ca879a7688",
      "document_name": "_docling-project_docling_5.6-base-pipeline-architecture",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_filename": "_docling-project_docling_5.6-base-pipeline-architecture.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.6-base-pipeline-architecture.md",
      "hierarchy_path": "Error Handling and Status Determination",
      "chunk_hash": "a9a9b433e28175e7",
      "content_digest": "a9a9b433e28175e7",
      "chunk_length": 1435,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "status",
          "base",
          "error",
          "for",
          "threaded",
          "handling",
          "and",
          "pipelines",
          "always",
          "returns",
          "success",
          "exceptions"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 20,
            "weight": 0.114286
          },
          {
            "term": "pipeline",
            "tf": 20,
            "weight": 0.114286
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.028571
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.028571
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.028571
          },
          {
            "term": "project",
            "tf": 5,
            "weight": 0.028571
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.028571
          },
          {
            "term": "f7244a43",
            "tf": 5,
            "weight": 0.028571
          },
          {
            "term": "status",
            "tf": 4,
            "weight": 0.022857
          },
          {
            "term": "base",
            "tf": 4,
            "weight": 0.022857
          },
          {
            "term": "error",
            "tf": 3,
            "weight": 0.017143
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.017143
          },
          {
            "term": "threaded",
            "tf": 3,
            "weight": 0.017143
          },
          {
            "term": "handling",
            "tf": 2,
            "weight": 0.011429
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.011429
          },
          {
            "term": "pipelines",
            "tf": 2,
            "weight": 0.011429
          },
          {
            "term": "always",
            "tf": 2,
            "weight": 0.011429
          },
          {
            "term": "returns",
            "tf": 2,
            "weight": 0.011429
          },
          {
            "term": "success",
            "tf": 2,
            "weight": 0.011429
          },
          {
            "term": "exceptions",
            "tf": 2,
            "weight": 0.011429
          }
        ],
        "unique_terms": 86,
        "total_terms": 175
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Error Handling and Status Determination",
        "base",
        "blob",
        "com",
        "docling",
        "f7244a43",
        "github",
        "https",
        "pipeline",
        "project",
        "status"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5401666666666667,
      "overall": 0.7133888888888889
    }
  }
]