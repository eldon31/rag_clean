[
  {
    "text": "## Architecture Overview  The extraction system consists of three main layers: the API layer (`DocumentExtractor`), the pipeline layer (`ExtractionVlmPipeline`), and the model layer (`NuExtractTransformersModel`). ``` ``` **Sources**: [docling/pipeline/extraction\\_vlm\\_pipeline.py32-46](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L32-L46) [docling/document\\_extractor.py88-119](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L88-L119) [docling/pipeline/base\\_extraction\\_pipeline.py15-30](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_extraction_pipeline.py#L15-L30)",
    "metadata": {
      "chunk_id": "c9f1555684be-0001",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Architecture Overview"
      ],
      "heading_text": "Architecture Overview",
      "token_count": 179,
      "char_count": 698,
      "start_char": 7455,
      "end_char": 8153,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.53,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.909871",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 179,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Architecture Overview",
      "chunk_hash": "3cc9583c4e3f2487",
      "content_digest": "3cc9583c4e3f2487",
      "chunk_length": 698,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "extraction",
          "the",
          "layer",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "vlm",
          "document",
          "extractor",
          "base",
          "architecture",
          "overview",
          "system",
          "consists",
          "three"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.144578
          },
          {
            "term": "pipeline",
            "tf": 9,
            "weight": 0.108434
          },
          {
            "term": "extraction",
            "tf": 5,
            "weight": 0.060241
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "layer",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "vlm",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "extractor",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "overview",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "consists",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "three",
            "tf": 1,
            "weight": 0.012048
          }
        ],
        "unique_terms": 39,
        "total_terms": 83
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Architecture Overview",
        "blob",
        "com",
        "docling",
        "extraction",
        "github",
        "https",
        "layer",
        "pipeline",
        "project",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.53,
      "overall": 0.71
    }
  },
  {
    "text": "### Class Hierarchy ``` ``` **Sources**: [docling/pipeline/base\\_extraction\\_pipeline.py15-72](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_extraction_pipeline.py#L15-L72) [docling/pipeline/extraction\\_vlm\\_pipeline.py32-198](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L32-L198) [docling/models/vlm\\_models\\_inline/nuextract\\_transformers\\_model.py107-160](https://github.com/docling-project/docling/blob/f7244a43/docling/models/vlm_models_inline/nuextract_transformers_model.py#L107-L160)",
    "metadata": {
      "chunk_id": "c9f1555684be-0002",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Class Hierarchy"
      ],
      "heading_text": "Class Hierarchy",
      "token_count": 160,
      "char_count": 581,
      "start_char": 8157,
      "end_char": 8738,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.911253",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 160,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Class Hierarchy",
      "chunk_hash": "d0f4bfb05159b3df",
      "content_digest": "d0f4bfb05159b3df",
      "chunk_length": 581,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "extraction",
          "vlm",
          "models",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "base",
          "inline",
          "nuextract",
          "transformers",
          "model",
          "class",
          "hierarchy",
          "sources",
          "py15"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.162162
          },
          {
            "term": "pipeline",
            "tf": 8,
            "weight": 0.108108
          },
          {
            "term": "extraction",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "vlm",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "models",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "base",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "inline",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "nuextract",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "transformers",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "hierarchy",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "py15",
            "tf": 1,
            "weight": 0.013514
          }
        ],
        "unique_terms": 30,
        "total_terms": 74
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Class Hierarchy",
        "blob",
        "com",
        "docling",
        "extraction",
        "github",
        "https",
        "models",
        "pipeline",
        "project",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "overall": 0.6855555555555556
    }
  },
  {
    "text": "## Pipeline Initialization\n\n`ExtractionVlmPipeline` is initialized with `VlmExtractionPipelineOptions` and creates a `NuExtractTransformersModel` instance. Unlike conversion pipelines, extraction pipelines do not build document structureâ€”they only extract data.",
    "metadata": {
      "chunk_id": "c9f1555684be-0003",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pipeline Initialization"
      ],
      "heading_text": "Pipeline Initialization",
      "token_count": 50,
      "char_count": 261,
      "start_char": 8742,
      "end_char": 9003,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.911812",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 50,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Pipeline Initialization",
      "chunk_hash": "c230548a7005f3ca",
      "content_digest": "c230548a7005f3ca",
      "chunk_length": 261,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipelines",
          "pipeline",
          "initialization",
          "extractionvlmpipeline",
          "initialized",
          "with",
          "vlmextractionpipelineoptions",
          "and",
          "creates",
          "nuextracttransformersmodel",
          "instance",
          "unlike",
          "conversion",
          "extraction",
          "not",
          "build",
          "document",
          "structure",
          "they",
          "only"
        ],
        "term_weights": [
          {
            "term": "pipelines",
            "tf": 2,
            "weight": 0.086957
          },
          {
            "term": "pipeline",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "initialization",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "extractionvlmpipeline",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "initialized",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "vlmextractionpipelineoptions",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "creates",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "nuextracttransformersmodel",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "instance",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "unlike",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "conversion",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "extraction",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "not",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "build",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "document",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "structure",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "they",
            "tf": 1,
            "weight": 0.043478
          },
          {
            "term": "only",
            "tf": 1,
            "weight": 0.043478
          }
        ],
        "unique_terms": 22,
        "total_terms": 23
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pipeline Initialization",
        "and",
        "creates",
        "extractionvlmpipeline",
        "initialization",
        "initialized",
        "nuextracttransformersmodel",
        "pipeline",
        "pipelines",
        "vlmextractionpipelineoptions",
        "with"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333332
    }
  },
  {
    "text": "## Extraction Process Flow  The extraction process follows a three-phase pattern: image loading, template serialization, and VLM inference. ``` ``` **Sources**: [docling/pipeline/extraction\\_vlm\\_pipeline.py48-126](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L48-L126) [docling/document\\_extractor.py239-289](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L239-L289) [docling/models/vlm\\_models\\_inline/nuextract\\_transformers\\_model.py161-290](https://github.com/docling-project/docling/blob/f7244a43/docling/models/vlm_models_inline/nuextract_transformers_model.py#L161-L290)",
    "metadata": {
      "chunk_id": "c9f1555684be-0005",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Extraction Process Flow"
      ],
      "heading_text": "Extraction Process Flow",
      "token_count": 174,
      "char_count": 674,
      "start_char": 10583,
      "end_char": 11257,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.919677",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 174,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Extraction Process Flow",
      "chunk_hash": "3875219ea5de5ae3",
      "content_digest": "3875219ea5de5ae3",
      "chunk_length": 674,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "vlm",
          "extraction",
          "pipeline",
          "models",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "process",
          "document",
          "extractor",
          "inline",
          "nuextract",
          "transformers",
          "model",
          "flow",
          "the"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 12,
            "weight": 0.139535
          },
          {
            "term": "vlm",
            "tf": 5,
            "weight": 0.05814
          },
          {
            "term": "extraction",
            "tf": 4,
            "weight": 0.046512
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.046512
          },
          {
            "term": "models",
            "tf": 4,
            "weight": 0.046512
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "project",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "f7244a43",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "process",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "extractor",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "inline",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "nuextract",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "transformers",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "flow",
            "tf": 1,
            "weight": 0.011628
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.011628
          }
        ],
        "unique_terms": 43,
        "total_terms": 86
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Extraction Process Flow",
        "blob",
        "com",
        "docling",
        "extraction",
        "github",
        "https",
        "models",
        "pipeline",
        "project",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "overall": 0.7174999999999999
    }
  },
  {
    "text": "### Image Extraction from Backend  The pipeline extracts images from the document backend, respecting page range limits: ``` ``` **Sources**: [docling/pipeline/extraction\\_vlm\\_pipeline.py135-171](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L135-L171)  The method follows the same page range filtering logic as `PaginatedPipeline`, processing only pages within `[start_page-1, end_page-1]` (0-indexed). This ensures consistent behavior across all pipelines.",
    "metadata": {
      "chunk_id": "c9f1555684be-0006",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Image Extraction from Backend"
      ],
      "heading_text": "Image Extraction from Backend",
      "token_count": 118,
      "char_count": 514,
      "start_char": 11261,
      "end_char": 11775,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5443478260869565,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.921831",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 118,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Image Extraction from Backend",
      "chunk_hash": "8c1142792b4e0709",
      "content_digest": "8c1142792b4e0709",
      "chunk_length": 514,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "the",
          "page",
          "docling",
          "extraction",
          "from",
          "backend",
          "range",
          "vlm",
          "image",
          "extracts",
          "images",
          "document",
          "respecting",
          "limits",
          "sources",
          "py135",
          "171",
          "https",
          "github"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 5,
            "weight": 0.076923
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.061538
          },
          {
            "term": "page",
            "tf": 4,
            "weight": 0.061538
          },
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.061538
          },
          {
            "term": "extraction",
            "tf": 3,
            "weight": 0.046154
          },
          {
            "term": "from",
            "tf": 2,
            "weight": 0.030769
          },
          {
            "term": "backend",
            "tf": 2,
            "weight": 0.030769
          },
          {
            "term": "range",
            "tf": 2,
            "weight": 0.030769
          },
          {
            "term": "vlm",
            "tf": 2,
            "weight": 0.030769
          },
          {
            "term": "image",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "extracts",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "images",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "document",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "respecting",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "limits",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "py135",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "171",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "https",
            "tf": 1,
            "weight": 0.015385
          },
          {
            "term": "github",
            "tf": 1,
            "weight": 0.015385
          }
        ],
        "unique_terms": 46,
        "total_terms": 65
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Image Extraction from Backend",
        "backend",
        "docling",
        "extraction",
        "from",
        "image",
        "page",
        "pipeline",
        "range",
        "the",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5443478260869565,
      "overall": 0.7147826086956521
    }
  },
  {
    "text": "## Template Serialization\n\nThe extraction pipeline supports multiple template formats and converts them to JSON strings for the NuExtract model.",
    "metadata": {
      "chunk_id": "c9f1555684be-0007",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Template Serialization"
      ],
      "heading_text": "Template Serialization",
      "token_count": 23,
      "char_count": 144,
      "start_char": 11779,
      "end_char": 11923,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.922155",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 23,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Template Serialization",
      "chunk_hash": "832b1307e23fbeb0",
      "content_digest": "832b1307e23fbeb0",
      "chunk_length": 144,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "template",
          "the",
          "serialization",
          "extraction",
          "pipeline",
          "supports",
          "multiple",
          "formats",
          "and",
          "converts",
          "them",
          "json",
          "strings",
          "for",
          "nuextract",
          "model"
        ],
        "term_weights": [
          {
            "term": "template",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "serialization",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "extraction",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "pipeline",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "supports",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "formats",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "converts",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "them",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "json",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "strings",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "nuextract",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.055556
          }
        ],
        "unique_terms": 16,
        "total_terms": 18
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Template Serialization",
        "and",
        "converts",
        "extraction",
        "formats",
        "multiple",
        "pipeline",
        "serialization",
        "supports",
        "template",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "overall": 0.7533333333333333
    }
  },
  {
    "text": "### Supported Template Types  | Template Type          | Description             | Example                         | | ---------------------- | ----------------------- | ------------------------------- | | `str`                  | Direct JSON or text     | `'{\"name\": \"\", \"date\": \"\"}'`    | | `dict`                 | Python dictionary       | `{\"name\": \"\", \"date\": \"\"}`      | | `BaseModel` (instance) | Pydantic model instance | `Invoice(customer=\"\", total=0)` | | `Type[BaseModel]`      | Pydantic model class    | `Invoice` (class itself)        |  **Sources**: [docling/pipeline/extraction\\_vlm\\_pipeline.py173-193](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L173-L193) [docling/datamodel/extraction.py38-39](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/extraction.py#L38-L39)",
    "metadata": {
      "chunk_id": "c9f1555684be-0008",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Supported Template Types"
      ],
      "heading_text": "Supported Template Types",
      "token_count": 215,
      "char_count": 869,
      "start_char": 11925,
      "end_char": 12794,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.666470588235294,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.924417",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 215,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Supported Template Types",
      "chunk_hash": "770fee874868b2db",
      "content_digest": "770fee874868b2db",
      "chunk_length": 869,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "pipeline",
          "extraction",
          "template",
          "type",
          "name",
          "date",
          "basemodel",
          "instance",
          "pydantic",
          "model",
          "invoice",
          "class",
          "vlm",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.108108
          },
          {
            "term": "pipeline",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "extraction",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "template",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "type",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "name",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "date",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "basemodel",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "instance",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "pydantic",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "invoice",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "class",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "vlm",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.027027
          }
        ],
        "unique_terms": 43,
        "total_terms": 74
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Supported Template Types",
        "basemodel",
        "date",
        "docling",
        "extraction",
        "instance",
        "name",
        "pipeline",
        "pydantic",
        "template",
        "type"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.666470588235294,
      "overall": 0.7888235294117646
    }
  },
  {
    "text": "### Serialization Process ``` ``` **Sources**: [docling/pipeline/extraction\\_vlm\\_pipeline.py173-193](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L173-L193)  When a Pydantic class (not instance) is provided, the pipeline uses `polyfactory.ModelFactory` to generate an example instance with:  - `__use_examples__=True`: Prefers `Field(examples=...)` values when present - `__use_defaults__=True`: Uses field defaults instead of random values  This allows users to define extraction schemas as Pydantic classes with example values that guide the VLM's output structure. **Example**: ``` ``` **Sources**: [docling/pipeline/extraction\\_vlm\\_pipeline.py182-191](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L182-L191)",
    "metadata": {
      "chunk_id": "c9f1555684be-0009",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Serialization Process"
      ],
      "heading_text": "Serialization Process",
      "token_count": 205,
      "char_count": 825,
      "start_char": 12796,
      "end_char": 13621,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.73,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.927117",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 205,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Serialization Process",
      "chunk_hash": "8de726a7dff80285",
      "content_digest": "8de726a7dff80285",
      "chunk_length": 825,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "docling",
          "extraction",
          "vlm",
          "example",
          "values",
          "sources",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "when",
          "pydantic",
          "instance",
          "the",
          "uses",
          "with",
          "use"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 9,
            "weight": 0.090909
          },
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.080808
          },
          {
            "term": "extraction",
            "tf": 5,
            "weight": 0.050505
          },
          {
            "term": "vlm",
            "tf": 5,
            "weight": 0.050505
          },
          {
            "term": "example",
            "tf": 3,
            "weight": 0.030303
          },
          {
            "term": "values",
            "tf": 3,
            "weight": 0.030303
          },
          {
            "term": "sources",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "when",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "pydantic",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "instance",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "uses",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.020202
          },
          {
            "term": "use",
            "tf": 2,
            "weight": 0.020202
          }
        ],
        "unique_terms": 54,
        "total_terms": 99
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Serialization Process",
        "com",
        "docling",
        "example",
        "extraction",
        "github",
        "https",
        "pipeline",
        "sources",
        "values",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.73,
      "overall": 0.7766666666666667
    }
  },
  {
    "text": "## NuExtract Model Integration\n\nThe `NuExtractTransformersModel` implements the NuExtract-specific input format and inference logic.",
    "metadata": {
      "chunk_id": "c9f1555684be-0010",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "NuExtract Model Integration"
      ],
      "heading_text": "NuExtract Model Integration",
      "token_count": 25,
      "char_count": 132,
      "start_char": 13628,
      "end_char": 13760,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5685714285714286,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.927501",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 25,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "NuExtract Model Integration",
      "chunk_hash": "65295e0513f9fd47",
      "content_digest": "65295e0513f9fd47",
      "chunk_length": 132,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "nuextract",
          "the",
          "model",
          "integration",
          "nuextracttransformersmodel",
          "implements",
          "specific",
          "input",
          "format",
          "and",
          "inference",
          "logic"
        ],
        "term_weights": [
          {
            "term": "nuextract",
            "tf": 2,
            "weight": 0.142857
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.142857
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "integration",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "nuextracttransformersmodel",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "implements",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "specific",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "input",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "format",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "inference",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "logic",
            "tf": 1,
            "weight": 0.071429
          }
        ],
        "unique_terms": 12,
        "total_terms": 14
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "NuExtract Model Integration",
        "and",
        "format",
        "implements",
        "input",
        "integration",
        "model",
        "nuextract",
        "nuextracttransformersmodel",
        "specific",
        "the"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5685714285714286,
      "overall": 0.7561904761904762
    }
  },
  {
    "text": "### Model Architecture ``` ``` **Sources**: [docling/models/vlm\\_models\\_inline/nuextract\\_transformers\\_model.py107-160](https://github.com/docling-project/docling/blob/f7244a43/docling/models/vlm_models_inline/nuextract_transformers_model.py#L107-L160) [docling/models/vlm\\_models\\_inline/nuextract\\_transformers\\_model.py161-290](https://github.com/docling-project/docling/blob/f7244a43/docling/models/vlm_models_inline/nuextract_transformers_model.py#L161-L290)",
    "metadata": {
      "chunk_id": "c9f1555684be-0011",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Model Architecture"
      ],
      "heading_text": "Model Architecture",
      "token_count": 124,
      "char_count": 465,
      "start_char": 13762,
      "end_char": 14227,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.928500",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 124,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Model Architecture",
      "chunk_hash": "23e6cb3d81360d69",
      "content_digest": "23e6cb3d81360d69",
      "chunk_length": 465,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "models",
          "model",
          "vlm",
          "inline",
          "nuextract",
          "transformers",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "architecture",
          "sources",
          "py107",
          "160",
          "l107",
          "l160",
          "py161"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.135593
          },
          {
            "term": "models",
            "tf": 8,
            "weight": 0.135593
          },
          {
            "term": "model",
            "tf": 5,
            "weight": 0.084746
          },
          {
            "term": "vlm",
            "tf": 4,
            "weight": 0.067797
          },
          {
            "term": "inline",
            "tf": 4,
            "weight": 0.067797
          },
          {
            "term": "nuextract",
            "tf": 4,
            "weight": 0.067797
          },
          {
            "term": "transformers",
            "tf": 4,
            "weight": 0.067797
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.033898
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "py107",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "160",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "l107",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "l160",
            "tf": 1,
            "weight": 0.016949
          },
          {
            "term": "py161",
            "tf": 1,
            "weight": 0.016949
          }
        ],
        "unique_terms": 23,
        "total_terms": 59
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Model Architecture",
        "com",
        "docling",
        "github",
        "https",
        "inline",
        "model",
        "models",
        "nuextract",
        "transformers",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "overall": 0.7174999999999999
    }
  },
  {
    "text": "### NuExtract Input Format  NuExtract requires a specific input structure that differs from standard VLM prompts: ``` ``` **Sources**: [docling/models/vlm\\_models\\_inline/nuextract\\_transformers\\_model.py207-249](https://github.com/docling-project/docling/blob/f7244a43/docling/models/vlm_models_inline/nuextract_transformers_model.py#L207-L249)  The key differences:  1. **Document wrapper**: Images are wrapped in `{type: \"image\", image: PIL}` format 2. **Template parameter**: The schema is passed as a `template` parameter to `apply_chat_template`, not as part of the prompt 3. **Vision processing**: Uses `process_all_vision_info` from `qwen-vl-utils` to extract images from the message structure",
    "metadata": {
      "chunk_id": "c9f1555684be-0012",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "NuExtract Input Format"
      ],
      "heading_text": "NuExtract Input Format",
      "token_count": 171,
      "char_count": 701,
      "start_char": 14231,
      "end_char": 14932,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.528235294117647,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.930835",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 171,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "NuExtract Input Format",
      "chunk_hash": "039762701383acb9",
      "content_digest": "039762701383acb9",
      "chunk_length": 701,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "nuextract",
          "docling",
          "models",
          "the",
          "from",
          "vlm",
          "template",
          "input",
          "format",
          "structure",
          "inline",
          "transformers",
          "model",
          "images",
          "image",
          "parameter",
          "vision",
          "requires",
          "specific",
          "that"
        ],
        "term_weights": [
          {
            "term": "nuextract",
            "tf": 4,
            "weight": 0.046512
          },
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.046512
          },
          {
            "term": "models",
            "tf": 4,
            "weight": 0.046512
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.046512
          },
          {
            "term": "from",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "vlm",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "template",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "input",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "format",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "structure",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "inline",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "transformers",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "images",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "image",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "parameter",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "vision",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "requires",
            "tf": 1,
            "weight": 0.011628
          },
          {
            "term": "specific",
            "tf": 1,
            "weight": 0.011628
          },
          {
            "term": "that",
            "tf": 1,
            "weight": 0.011628
          }
        ],
        "unique_terms": 58,
        "total_terms": 86
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "NuExtract Input Format",
        "docling",
        "format",
        "from",
        "input",
        "models",
        "nuextract",
        "structure",
        "template",
        "the",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.528235294117647,
      "overall": 0.7094117647058823
    }
  },
  {
    "text": "### Batch Processing ``` ``` **Sources**: [docling/models/vlm\\_models\\_inline/nuextract\\_transformers\\_model.py161-290](https://github.com/docling-project/docling/blob/f7244a43/docling/models/vlm_models_inline/nuextract_transformers_model.py#L161-L290)",
    "metadata": {
      "chunk_id": "c9f1555684be-0013",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Batch Processing"
      ],
      "heading_text": "Batch Processing",
      "token_count": 66,
      "char_count": 252,
      "start_char": 14936,
      "end_char": 15188,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.931811",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 66,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Batch Processing",
      "chunk_hash": "926cea6d28a10b50",
      "content_digest": "926cea6d28a10b50",
      "chunk_length": 252,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "models",
          "vlm",
          "inline",
          "nuextract",
          "transformers",
          "model",
          "batch",
          "processing",
          "sources",
          "py161",
          "290",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "l161",
          "l290"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.129032
          },
          {
            "term": "models",
            "tf": 4,
            "weight": 0.129032
          },
          {
            "term": "vlm",
            "tf": 2,
            "weight": 0.064516
          },
          {
            "term": "inline",
            "tf": 2,
            "weight": 0.064516
          },
          {
            "term": "nuextract",
            "tf": 2,
            "weight": 0.064516
          },
          {
            "term": "transformers",
            "tf": 2,
            "weight": 0.064516
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.064516
          },
          {
            "term": "batch",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "processing",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "py161",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "290",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "https",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "github",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "com",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "project",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "blob",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "f7244a43",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "l161",
            "tf": 1,
            "weight": 0.032258
          },
          {
            "term": "l290",
            "tf": 1,
            "weight": 0.032258
          }
        ],
        "unique_terms": 20,
        "total_terms": 31
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Batch Processing",
        "batch",
        "docling",
        "inline",
        "model",
        "models",
        "nuextract",
        "processing",
        "sources",
        "transformers",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "overall": 0.7157142857142856
    }
  },
  {
    "text": "### Data Models ``` ``` **Sources**: [docling/datamodel/extraction.py1-40](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/extraction.py#L1-L40)",
    "metadata": {
      "chunk_id": "c9f1555684be-0015",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Data Models"
      ],
      "heading_text": "Data Models",
      "token_count": 48,
      "char_count": 171,
      "start_char": 15310,
      "end_char": 15481,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.932581",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 48,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Data Models",
      "chunk_hash": "750371f6a9d0e294",
      "content_digest": "750371f6a9d0e294",
      "chunk_length": 171,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "datamodel",
          "extraction",
          "data",
          "models",
          "sources",
          "py1",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "l40"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.210526
          },
          {
            "term": "datamodel",
            "tf": 2,
            "weight": 0.105263
          },
          {
            "term": "extraction",
            "tf": 2,
            "weight": 0.105263
          },
          {
            "term": "data",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "models",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "py1",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "https",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "github",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "com",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "project",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "blob",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "f7244a43",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "l40",
            "tf": 1,
            "weight": 0.052632
          }
        ],
        "unique_terms": 14,
        "total_terms": 19
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Data Models",
        "com",
        "data",
        "datamodel",
        "docling",
        "extraction",
        "github",
        "https",
        "models",
        "py1",
        "sources"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "overall": 0.6823809523809524
    }
  },
  {
    "text": "### Extraction Result Processing  The pipeline attempts to parse the VLM response as JSON. If parsing fails, the raw text is still preserved: ``` ``` **Sources**: [docling/pipeline/extraction\\_vlm\\_pipeline.py82-107](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py#L82-L107)",
    "metadata": {
      "chunk_id": "c9f1555684be-0016",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Extraction Result Processing"
      ],
      "heading_text": "Extraction Result Processing",
      "token_count": 81,
      "char_count": 327,
      "start_char": 15485,
      "end_char": 15812,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.933636",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 81,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Extraction Result Processing",
      "chunk_hash": "5d6343ed4523ad9c",
      "content_digest": "5d6343ed4523ad9c",
      "chunk_length": 327,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "pipeline",
          "docling",
          "extraction",
          "the",
          "vlm",
          "result",
          "processing",
          "attempts",
          "parse",
          "response",
          "json",
          "parsing",
          "fails",
          "raw",
          "text",
          "still",
          "preserved",
          "sources",
          "py82",
          "107"
        ],
        "term_weights": [
          {
            "term": "pipeline",
            "tf": 5,
            "weight": 0.121951
          },
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.097561
          },
          {
            "term": "extraction",
            "tf": 3,
            "weight": 0.073171
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.073171
          },
          {
            "term": "vlm",
            "tf": 3,
            "weight": 0.073171
          },
          {
            "term": "result",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "processing",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "attempts",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "parse",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "response",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "json",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "parsing",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "fails",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "raw",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "text",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "still",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "preserved",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "py82",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "107",
            "tf": 1,
            "weight": 0.02439
          }
        ],
        "unique_terms": 28,
        "total_terms": 41
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Extraction Result Processing",
        "attempts",
        "docling",
        "extraction",
        "parse",
        "pipeline",
        "processing",
        "response",
        "result",
        "the",
        "vlm"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5566666666666666,
      "overall": 0.7188888888888888
    }
  },
  {
    "text": "### Basic Extraction ``` ``` **Example workflow**:  1. Create `DocumentExtractor` with desired formats and options 2. Define extraction template (dict, Pydantic class, etc.) 3. Call `extract()` or `extract_all()` with source and template 4. Receive `ExtractionResult` with per-page extracted data  **Sources**: [docling/document\\_extractor.py88-193](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L88-L193)",
    "metadata": {
      "chunk_id": "c9f1555684be-0020",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 20,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Basic Extraction"
      ],
      "heading_text": "Basic Extraction",
      "token_count": 111,
      "char_count": 446,
      "start_char": 18487,
      "end_char": 18933,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5460975609756098,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.941170",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 111,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Basic Extraction",
      "chunk_hash": "46cf02d37296a782",
      "content_digest": "46cf02d37296a782",
      "chunk_length": 446,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "with",
          "extraction",
          "and",
          "template",
          "extract",
          "document",
          "extractor",
          "basic",
          "example",
          "workflow",
          "create",
          "documentextractor",
          "desired",
          "formats",
          "options",
          "define",
          "dict",
          "pydantic",
          "class"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 4,
            "weight": 0.076923
          },
          {
            "term": "with",
            "tf": 3,
            "weight": 0.057692
          },
          {
            "term": "extraction",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "template",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "extract",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "document",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "extractor",
            "tf": 2,
            "weight": 0.038462
          },
          {
            "term": "basic",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "example",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "workflow",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "create",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "documentextractor",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "desired",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "formats",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "options",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "define",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "dict",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "pydantic",
            "tf": 1,
            "weight": 0.019231
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.019231
          }
        ],
        "unique_terms": 41,
        "total_terms": 52
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Basic Extraction",
        "and",
        "basic",
        "docling",
        "document",
        "example",
        "extract",
        "extraction",
        "extractor",
        "template",
        "with"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5460975609756098,
      "overall": 0.6820325203252032
    }
  },
  {
    "text": "### Pipeline Caching  The extractor caches pipeline instances by `(pipeline_class, options_hash)` to avoid redundant model loading: ``` ``` **Sources**: [docling/document\\_extractor.py291-317](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py#L291-L317)  This pattern matches the `DocumentConverter` caching strategy, ensuring that multiple extraction calls with identical configurations reuse the same model instance, avoiding expensive reloads. **Sources**: [docling/document\\_converter.py229-248](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py#L229-L248) (converter equivalent)  Dismiss  Refresh this wiki  This wiki was recently refreshed. Please wait 4 days to refresh again.",
    "metadata": {
      "chunk_id": "c9f1555684be-0021",
      "source_file": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "file_extension": ".md",
      "chunk_index": 21,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pipeline Caching"
      ],
      "heading_text": "Pipeline Caching",
      "token_count": 165,
      "char_count": 757,
      "start_char": 18937,
      "end_char": 19694,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5328571428571428,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:06.943442",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 165,
      "document_id": "c9f1555684be",
      "document_name": "_docling-project_docling_5.4-extraction-pipeline",
      "source_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "source_filename": "_docling-project_docling_5.4-extraction-pipeline.md",
      "source_directory": "Docs\\Docling",
      "relative_path": "Docs\\Docling\\_docling-project_docling_5.4-extraction-pipeline.md",
      "hierarchy_path": "Pipeline Caching",
      "chunk_hash": "580320f4026603ed",
      "content_digest": "580320f4026603ed",
      "chunk_length": 757,
      "payload_version": "1.3",
      "collection_hints": [
        "docling"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "docling",
          "document",
          "pipeline",
          "the",
          "extractor",
          "this",
          "converter",
          "caching",
          "model",
          "sources",
          "https",
          "github",
          "com",
          "project",
          "blob",
          "f7244a43",
          "refresh",
          "wiki",
          "caches",
          "instances"
        ],
        "term_weights": [
          {
            "term": "docling",
            "tf": 8,
            "weight": 0.086957
          },
          {
            "term": "document",
            "tf": 4,
            "weight": 0.043478
          },
          {
            "term": "pipeline",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "extractor",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "this",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "converter",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "caching",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "model",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "sources",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "project",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "f7244a43",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "wiki",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "caches",
            "tf": 1,
            "weight": 0.01087
          },
          {
            "term": "instances",
            "tf": 1,
            "weight": 0.01087
          }
        ],
        "unique_terms": 61,
        "total_terms": 92
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pipeline Caching",
        "caching",
        "converter",
        "docling",
        "document",
        "extractor",
        "model",
        "pipeline",
        "sources",
        "the",
        "this"
      ],
      "collection_name": "Docling"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5328571428571428,
      "overall": 0.7109523809523809
    }
  }
]