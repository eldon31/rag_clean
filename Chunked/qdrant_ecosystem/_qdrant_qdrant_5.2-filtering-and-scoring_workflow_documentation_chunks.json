[
  {
    "text": "## Overview\n\nDuring vector search, Qdrant must efficiently combine two operations:\n\n1. **Filtering**: Selecting only points that satisfy payload conditions\n2. **Scoring**: Computing vector similarity between query and candidates\n\nThe system uses cardinality estimation to predict how many points will match a filter, then selects an appropriate search strategy. The `FilteredScorer` component integrates both filtering and scoring into a single interface used by the vector index.\n\n```\n```\n\n**Diagram: Filter Evaluation and Search Strategy Selection**\n\nSources: [lib/segment/src/index/hnsw\\_index/hnsw.rs941-1165](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/hnsw_index/hnsw.rs#L941-L1165) [lib/segment/src/index/struct\\_payload\\_index.rs507-571](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/struct_payload_index.rs#L507-L571)\n\n---",
    "metadata": {
      "chunk_id": "fb2a690e4d8e-0002",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Overview"
      ],
      "heading_text": "Overview",
      "token_count": 212,
      "char_count": 879,
      "start_char": 6679,
      "end_char": 7558,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5520253164556962,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:15.562414",
      "document_id": "fb2a690e4d8e",
      "document_name": "_qdrant_qdrant_5.2-filtering-and-scoring",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "hierarchy_path": "Overview",
      "chunk_hash": "5803c968c097c423",
      "content_digest": "5803c968c097c423",
      "chunk_length": 879,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "index",
          "qdrant",
          "lib",
          "segment",
          "src",
          "hnsw",
          "vector",
          "search",
          "payload",
          "and",
          "the",
          "filtering",
          "points",
          "scoring",
          "filter",
          "strategy",
          "https",
          "github",
          "com",
          "blob"
        ],
        "term_weights": [
          {
            "term": "index",
            "tf": 9,
            "weight": 0.077586
          },
          {
            "term": "qdrant",
            "tf": 5,
            "weight": 0.043103
          },
          {
            "term": "lib",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "segment",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "hnsw",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "vector",
            "tf": 3,
            "weight": 0.025862
          },
          {
            "term": "search",
            "tf": 3,
            "weight": 0.025862
          },
          {
            "term": "payload",
            "tf": 3,
            "weight": 0.025862
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.025862
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.025862
          },
          {
            "term": "filtering",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "points",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "scoring",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "filter",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "strategy",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.017241
          }
        ],
        "unique_terms": 71,
        "total_terms": 116
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Overview",
        "and",
        "hnsw",
        "index",
        "lib",
        "payload",
        "qdrant",
        "search",
        "segment",
        "src",
        "vector"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5520253164556962,
      "overall": 0.6840084388185653
    }
  },
  {
    "text": "## Cardinality Estimation\n\nCardinality estimation predicts how many points will match a filter without actually evaluating it on all points. This estimate guides the selection of an efficient search strategy.",
    "metadata": {
      "chunk_id": "fb2a690e4d8e-0003",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Cardinality Estimation"
      ],
      "heading_text": "Cardinality Estimation",
      "token_count": 36,
      "char_count": 208,
      "start_char": 7560,
      "end_char": 7768,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.57,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:15.562641",
      "document_id": "fb2a690e4d8e",
      "document_name": "_qdrant_qdrant_5.2-filtering-and-scoring",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "hierarchy_path": "Cardinality Estimation",
      "chunk_hash": "402b353c6bd13cb0",
      "content_digest": "402b353c6bd13cb0",
      "chunk_length": 208,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "cardinality",
          "estimation",
          "points",
          "predicts",
          "how",
          "many",
          "will",
          "match",
          "filter",
          "without",
          "actually",
          "evaluating",
          "all",
          "this",
          "estimate",
          "guides",
          "the",
          "selection",
          "efficient",
          "search"
        ],
        "term_weights": [
          {
            "term": "cardinality",
            "tf": 2,
            "weight": 0.083333
          },
          {
            "term": "estimation",
            "tf": 2,
            "weight": 0.083333
          },
          {
            "term": "points",
            "tf": 2,
            "weight": 0.083333
          },
          {
            "term": "predicts",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "how",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "many",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "will",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "match",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "filter",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "without",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "actually",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "evaluating",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "all",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "this",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "estimate",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "guides",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "selection",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "efficient",
            "tf": 1,
            "weight": 0.041667
          },
          {
            "term": "search",
            "tf": 1,
            "weight": 0.041667
          }
        ],
        "unique_terms": 21,
        "total_terms": 24
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Cardinality Estimation",
        "cardinality",
        "estimation",
        "filter",
        "how",
        "many",
        "match",
        "points",
        "predicts",
        "will",
        "without"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.57,
      "overall": 0.7233333333333333
    }
  },
  {
    "text": "### Primary vs Secondary Conditions\n\n**Primary Conditions** can be evaluated directly from an index, returning an iterator over matching point IDs:\n\n- Field conditions with indexed fields\n- `HasId` conditions (resolved to point offsets)\n- `HasVector` conditions (using vector storage availability)\n\n**Secondary Conditions** require checking the actual payload value:\n\n- Field conditions on non-indexed fields\n- Complex nested conditions\n- Conditions where index doesn't support the operation\n\nPrimary conditions enable significant optimization: if all conditions are primary, post-filtering can be skipped entirely.\n\n```\n```\n\n**Diagram: Primary vs Secondary Condition Handling**\n\nSources: [lib/segment/src/index/struct\\_payload\\_index.rs614-680](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/struct_payload_index.rs#L614-L680) [lib/segment/src/index/field\\_index/mod.rs23-35](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/field_index/mod.rs#L23-L35)\n\n---",
    "metadata": {
      "chunk_id": "fb2a690e4d8e-0006",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Primary vs Secondary Conditions"
      ],
      "heading_text": "Primary vs Secondary Conditions",
      "token_count": 225,
      "char_count": 1000,
      "start_char": 9823,
      "end_char": 10823,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5070212765957447,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:15.565388",
      "document_id": "fb2a690e4d8e",
      "document_name": "_qdrant_qdrant_5.2-filtering-and-scoring",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "hierarchy_path": "Primary vs Secondary Conditions",
      "chunk_hash": "e950fd0f5a82105b",
      "content_digest": "e950fd0f5a82105b",
      "chunk_length": 1000,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "conditions",
          "index",
          "primary",
          "field",
          "lib",
          "segment",
          "src",
          "qdrant",
          "secondary",
          "payload",
          "can",
          "point",
          "indexed",
          "fields",
          "the",
          "struct",
          "https",
          "github",
          "com",
          "blob"
        ],
        "term_weights": [
          {
            "term": "conditions",
            "tf": 11,
            "weight": 0.08871
          },
          {
            "term": "index",
            "tf": 10,
            "weight": 0.080645
          },
          {
            "term": "primary",
            "tf": 5,
            "weight": 0.040323
          },
          {
            "term": "field",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "lib",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "segment",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "qdrant",
            "tf": 4,
            "weight": 0.032258
          },
          {
            "term": "secondary",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "payload",
            "tf": 3,
            "weight": 0.024194
          },
          {
            "term": "can",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "point",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "indexed",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "fields",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "struct",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.016129
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.016129
          }
        ],
        "unique_terms": 70,
        "total_terms": 124
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Primary vs Secondary Conditions",
        "conditions",
        "field",
        "index",
        "lib",
        "payload",
        "primary",
        "qdrant",
        "secondary",
        "segment",
        "src"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5070212765957447,
      "overall": 0.7023404255319147
    }
  },
  {
    "text": "### Full Scan Filtering\n\nWhen no indices are available or conditions are secondary, Qdrant falls back to full scan with `FilterContext`:\n\n```\n```\n\n**Diagram: Full Scan Filter Evaluation**\n\nTwo implementations of `FilterContext`:\n\n1. **`StructFilterContext`** ([lib/segment/src/index/struct\\_filter\\_context.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/struct_filter_context.rs)): Uses optimized filter representation\n2. **`PlainFilterContext`** ([lib/segment/src/index/plain\\_payload\\_index.rs265-274](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/plain_payload_index.rs#L265-L274)): Simple condition checking\n\nSources: [lib/segment/src/index/struct\\_payload\\_index.rs490-505](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/struct_payload_index.rs#L490-L505) [lib/segment/src/payload\\_storage/mod.rs44-46](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/payload_storage/mod.rs#L44-L46)",
    "metadata": {
      "chunk_id": "fb2a690e4d8e-0009",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Full Scan Filtering"
      ],
      "heading_text": "Full Scan Filtering",
      "token_count": 261,
      "char_count": 973,
      "start_char": 12559,
      "end_char": 13532,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.54,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:15.567250",
      "document_id": "fb2a690e4d8e",
      "document_name": "_qdrant_qdrant_5.2-filtering-and-scoring",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "hierarchy_path": "Full Scan Filtering",
      "chunk_hash": "81a6a2007f412ddb",
      "content_digest": "81a6a2007f412ddb",
      "chunk_length": 973,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "index",
          "qdrant",
          "lib",
          "segment",
          "src",
          "payload",
          "filter",
          "struct",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "full",
          "scan",
          "are",
          "filtercontext",
          "context",
          "plain",
          "storage"
        ],
        "term_weights": [
          {
            "term": "index",
            "tf": 10,
            "weight": 0.078125
          },
          {
            "term": "qdrant",
            "tf": 9,
            "weight": 0.070312
          },
          {
            "term": "lib",
            "tf": 8,
            "weight": 0.0625
          },
          {
            "term": "segment",
            "tf": 8,
            "weight": 0.0625
          },
          {
            "term": "src",
            "tf": 8,
            "weight": 0.0625
          },
          {
            "term": "payload",
            "tf": 6,
            "weight": 0.046875
          },
          {
            "term": "filter",
            "tf": 4,
            "weight": 0.03125
          },
          {
            "term": "struct",
            "tf": 4,
            "weight": 0.03125
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.03125
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.03125
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.03125
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.03125
          },
          {
            "term": "48203e41",
            "tf": 4,
            "weight": 0.03125
          },
          {
            "term": "full",
            "tf": 3,
            "weight": 0.023438
          },
          {
            "term": "scan",
            "tf": 3,
            "weight": 0.023438
          },
          {
            "term": "are",
            "tf": 2,
            "weight": 0.015625
          },
          {
            "term": "filtercontext",
            "tf": 2,
            "weight": 0.015625
          },
          {
            "term": "context",
            "tf": 2,
            "weight": 0.015625
          },
          {
            "term": "plain",
            "tf": 2,
            "weight": 0.015625
          },
          {
            "term": "storage",
            "tf": 2,
            "weight": 0.015625
          }
        ],
        "unique_terms": 54,
        "total_terms": 128
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Full Scan Filtering",
        "filter",
        "github",
        "https",
        "index",
        "lib",
        "payload",
        "qdrant",
        "segment",
        "src",
        "struct"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.54,
      "overall": 0.68
    }
  },
  {
    "text": "## Search Strategy Selection\n\nThe HNSW index selects a search strategy based on cardinality estimation and configuration:",
    "metadata": {
      "chunk_id": "fb2a690e4d8e-0014",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Search Strategy Selection"
      ],
      "heading_text": "Search Strategy Selection",
      "token_count": 22,
      "char_count": 121,
      "start_char": 15281,
      "end_char": 15402,
      "semantic_score": 0.8,
      "structural_score": 0.7,
      "retrieval_quality": 0.5547058823529412,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:15.568479",
      "document_id": "fb2a690e4d8e",
      "document_name": "_qdrant_qdrant_5.2-filtering-and-scoring",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "hierarchy_path": "Search Strategy Selection",
      "chunk_hash": "1e614a78cbf2195f",
      "content_digest": "1e614a78cbf2195f",
      "chunk_length": 121,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "search",
          "strategy",
          "selection",
          "the",
          "hnsw",
          "index",
          "selects",
          "based",
          "cardinality",
          "estimation",
          "and",
          "configuration"
        ],
        "term_weights": [
          {
            "term": "search",
            "tf": 2,
            "weight": 0.142857
          },
          {
            "term": "strategy",
            "tf": 2,
            "weight": 0.142857
          },
          {
            "term": "selection",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "hnsw",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "index",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "selects",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "based",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "cardinality",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "estimation",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.071429
          }
        ],
        "unique_terms": 12,
        "total_terms": 14
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Search Strategy Selection",
        "based",
        "cardinality",
        "estimation",
        "hnsw",
        "index",
        "search",
        "selection",
        "selects",
        "strategy",
        "the"
      ]
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.7,
      "retrieval_quality": 0.5547058823529412,
      "overall": 0.6849019607843138
    }
  },
  {
    "text": "### Strategy Implementations",
    "metadata": {
      "chunk_id": "fb2a690e4d8e-0016",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Strategy Implementations"
      ],
      "heading_text": "Strategy Implementations",
      "token_count": 4,
      "char_count": 28,
      "start_char": 15648,
      "end_char": 15676,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:15.568724",
      "document_id": "fb2a690e4d8e",
      "document_name": "_qdrant_qdrant_5.2-filtering-and-scoring",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "hierarchy_path": "Strategy Implementations",
      "chunk_hash": "85e966c3c12d4a05",
      "content_digest": "85e966c3c12d4a05",
      "chunk_length": 28,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "strategy",
          "implementations"
        ],
        "term_weights": [
          {
            "term": "strategy",
            "tf": 1,
            "weight": 0.5
          },
          {
            "term": "implementations",
            "tf": 1,
            "weight": 0.5
          }
        ],
        "unique_terms": 2,
        "total_terms": 2
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Strategy Implementations",
        "implementations",
        "strategy"
      ]
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Full Scan Threshold  The `full_scan_threshold` determines when to switch from graph-based to brute-force search:  | Configuration      | Calculation                             | | ------------------ | --------------------------------------- | | HNSW Config        | `full_scan_threshold` (in KB)           | | Runtime Conversion | `threshold_kb * 1024 / avg_vector_size` | | Default            | `10000` (10KB)                          |  This threshold is computed during index construction and stored in `HnswGraphConfig`. Sources: [lib/segment/src/index/hnsw\\_index/hnsw.rs140-165](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/hnsw_index/hnsw.rs#L140-L165) [lib/segment/src/index/hnsw\\_index/config.rs1-100](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/hnsw_index/config.rs#L1-L100)  ---",
    "metadata": {
      "chunk_id": "fb2a690e4d8e-0022",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "file_extension": ".md",
      "chunk_index": 22,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Full Scan Threshold"
      ],
      "heading_text": "Full Scan Threshold",
      "token_count": 213,
      "char_count": 843,
      "start_char": 17794,
      "end_char": 18637,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5103125,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "table_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:15.570521",
      "document_id": "fb2a690e4d8e",
      "document_name": "_qdrant_qdrant_5.2-filtering-and-scoring",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "hierarchy_path": "Full Scan Threshold",
      "chunk_hash": "0c682195ab6da677",
      "content_digest": "0c682195ab6da677",
      "chunk_length": 843,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "index",
          "hnsw",
          "threshold",
          "lib",
          "segment",
          "src",
          "qdrant",
          "full",
          "scan",
          "config",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "the",
          "determines",
          "when",
          "switch",
          "from"
        ],
        "term_weights": [
          {
            "term": "index",
            "tf": 9,
            "weight": 0.097826
          },
          {
            "term": "hnsw",
            "tf": 7,
            "weight": 0.076087
          },
          {
            "term": "threshold",
            "tf": 5,
            "weight": 0.054348
          },
          {
            "term": "lib",
            "tf": 4,
            "weight": 0.043478
          },
          {
            "term": "segment",
            "tf": 4,
            "weight": 0.043478
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.043478
          },
          {
            "term": "qdrant",
            "tf": 4,
            "weight": 0.043478
          },
          {
            "term": "full",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "scan",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "config",
            "tf": 3,
            "weight": 0.032609
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "48203e41",
            "tf": 2,
            "weight": 0.021739
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.01087
          },
          {
            "term": "determines",
            "tf": 1,
            "weight": 0.01087
          },
          {
            "term": "when",
            "tf": 1,
            "weight": 0.01087
          },
          {
            "term": "switch",
            "tf": 1,
            "weight": 0.01087
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.01087
          }
        ],
        "unique_terms": 51,
        "total_terms": 92
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Full Scan Threshold",
        "config",
        "full",
        "hnsw",
        "index",
        "lib",
        "qdrant",
        "scan",
        "segment",
        "src",
        "threshold"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5103125,
      "overall": 0.7034375
    }
  },
  {
    "text": "## Telemetry and Performance Tracking\n\nSearch strategies are tracked separately for performance analysis:\n\n```\n```\n\n**Diagram: Search Strategy Telemetry Tracking**\n\nEach search path uses `ScopeDurationMeasurer` to automatically track its execution time, enabling analysis of which strategies are most commonly used and their performance characteristics.\n\nSources: [lib/segment/src/index/hnsw\\_index/hnsw.rs96-118](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/hnsw_index/hnsw.rs#L96-L118) [lib/segment/src/common/operation\\_time\\_statistics.rs1-100](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/common/operation_time_statistics.rs#L1-L100)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh",
    "metadata": {
      "chunk_id": "fb2a690e4d8e-0023",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "file_extension": ".md",
      "chunk_index": 23,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Telemetry and Performance Tracking"
      ],
      "heading_text": "Telemetry and Performance Tracking",
      "token_count": 175,
      "char_count": 732,
      "start_char": 18640,
      "end_char": 19372,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.53,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:15.571043",
      "document_id": "fb2a690e4d8e",
      "document_name": "_qdrant_qdrant_5.2-filtering-and-scoring",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "hierarchy_path": "Telemetry and Performance Tracking",
      "chunk_hash": "b8d8976b326772fd",
      "content_digest": "b8d8976b326772fd",
      "chunk_length": 732,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "lib",
          "segment",
          "src",
          "index",
          "hnsw",
          "qdrant",
          "performance",
          "search",
          "time",
          "telemetry",
          "and",
          "tracking",
          "strategies",
          "are",
          "analysis",
          "https",
          "github",
          "com",
          "blob",
          "48203e41"
        ],
        "term_weights": [
          {
            "term": "lib",
            "tf": 4,
            "weight": 0.041667
          },
          {
            "term": "segment",
            "tf": 4,
            "weight": 0.041667
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.041667
          },
          {
            "term": "index",
            "tf": 4,
            "weight": 0.041667
          },
          {
            "term": "hnsw",
            "tf": 4,
            "weight": 0.041667
          },
          {
            "term": "qdrant",
            "tf": 4,
            "weight": 0.041667
          },
          {
            "term": "performance",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "search",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "time",
            "tf": 3,
            "weight": 0.03125
          },
          {
            "term": "telemetry",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "tracking",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "strategies",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "are",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "analysis",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.020833
          },
          {
            "term": "48203e41",
            "tf": 2,
            "weight": 0.020833
          }
        ],
        "unique_terms": 57,
        "total_terms": 96
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Telemetry and Performance Tracking",
        "hnsw",
        "index",
        "lib",
        "performance",
        "qdrant",
        "search",
        "segment",
        "src",
        "telemetry",
        "time"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.53,
      "overall": 0.6766666666666666
    }
  },
  {
    "text": "### On this page  - [Filtering and Scoring](#filtering-and-scoring.md) - [Overview](#overview.md) - [Cardinality Estimation](#cardinality-estimation.md) - [CardinalityEstimation Structure](#cardinalityestimation-structure.md) - [Estimation Process](#estimation-process.md) - [Primary vs Secondary Conditions](#primary-vs-secondary-conditions.md) - [Filter Evaluation Strategies](#filter-evaluation-strategies.md) - [Index-Based Filtering](#index-based-filtering.md) - [Full Scan Filtering](#full-scan-filtering.md) - [Hybrid Strategy with Visited List](#hybrid-strategy-with-visited-list.md) - [Scoring Integration](#scoring-integration.md) - [FilteredScorer](#filteredscorer.md) - [Scoring in HNSW Search](#scoring-in-hnsw-search.md) - [Search Strategy Selection](#search-strategy-selection.md) - [Strategy Decision Tree](#strategy-decision-tree.md) - [Strategy Implementations](#strategy-implementations.md) - [1. Exact Unfiltered Search](#1-exact-unfiltered-search.md) - [2. Exact Filtered Search](#2-exact-filtered-search.md) - [3. Unfiltered HNSW Search](#3-unfiltered-hnsw-search.md) - [4. Filtered HNSW - Small Cardinality](#4-filtered-hnsw---small-cardinality.md) - [5. Filtered HNSW - Large Cardinality](#5-filtered-hnsw---large-cardinality.md) - [Full Scan Threshold](#full-scan-threshold.md) - [Telemetry and Performance Tracking](#telemetry-and-performance-tracking.md)",
    "metadata": {
      "chunk_id": "fb2a690e4d8e-0024",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "file_extension": ".md",
      "chunk_index": 24,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "On this page"
      ],
      "heading_text": "On this page",
      "token_count": 375,
      "char_count": 1381,
      "start_char": 19374,
      "end_char": 20755,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5015000000000001,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:15.571669",
      "document_id": "fb2a690e4d8e",
      "document_name": "_qdrant_qdrant_5.2-filtering-and-scoring",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_filename": "_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_5.2-filtering-and-scoring.md",
      "hierarchy_path": "On this page",
      "chunk_hash": "711b9e0c6d96fbfb",
      "content_digest": "711b9e0c6d96fbfb",
      "chunk_length": 1381,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "search",
          "strategy",
          "hnsw",
          "filtering",
          "scoring",
          "cardinality",
          "filtered",
          "and",
          "estimation",
          "full",
          "scan",
          "exact",
          "unfiltered",
          "overview",
          "cardinalityestimation",
          "structure",
          "process",
          "primary",
          "secondary",
          "conditions"
        ],
        "term_weights": [
          {
            "term": "search",
            "tf": 10,
            "weight": 0.075758
          },
          {
            "term": "strategy",
            "tf": 8,
            "weight": 0.060606
          },
          {
            "term": "hnsw",
            "tf": 8,
            "weight": 0.060606
          },
          {
            "term": "filtering",
            "tf": 6,
            "weight": 0.045455
          },
          {
            "term": "scoring",
            "tf": 6,
            "weight": 0.045455
          },
          {
            "term": "cardinality",
            "tf": 6,
            "weight": 0.045455
          },
          {
            "term": "filtered",
            "tf": 6,
            "weight": 0.045455
          },
          {
            "term": "and",
            "tf": 4,
            "weight": 0.030303
          },
          {
            "term": "estimation",
            "tf": 4,
            "weight": 0.030303
          },
          {
            "term": "full",
            "tf": 4,
            "weight": 0.030303
          },
          {
            "term": "scan",
            "tf": 4,
            "weight": 0.030303
          },
          {
            "term": "exact",
            "tf": 4,
            "weight": 0.030303
          },
          {
            "term": "unfiltered",
            "tf": 4,
            "weight": 0.030303
          },
          {
            "term": "overview",
            "tf": 2,
            "weight": 0.015152
          },
          {
            "term": "cardinalityestimation",
            "tf": 2,
            "weight": 0.015152
          },
          {
            "term": "structure",
            "tf": 2,
            "weight": 0.015152
          },
          {
            "term": "process",
            "tf": 2,
            "weight": 0.015152
          },
          {
            "term": "primary",
            "tf": 2,
            "weight": 0.015152
          },
          {
            "term": "secondary",
            "tf": 2,
            "weight": 0.015152
          },
          {
            "term": "conditions",
            "tf": 2,
            "weight": 0.015152
          }
        ],
        "unique_terms": 43,
        "total_terms": 132
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "On this page",
        "and",
        "cardinality",
        "estimation",
        "filtered",
        "filtering",
        "full",
        "hnsw",
        "scoring",
        "search",
        "strategy"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5015000000000001,
      "overall": 0.6671666666666667
    }
  }
]