[
  {
    "text": "# Local Mode\n\nRelevant source files\n\n- [qdrant\\_client/local/async\\_qdrant\\_local.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/async_qdrant_local.py)\n- [qdrant\\_client/local/local\\_collection.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py)\n- [qdrant\\_client/local/qdrant\\_local.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py)\n- [tests/congruence\\_tests/test\\_common.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/tests/congruence_tests/test_common.py)\n- [tests/congruence\\_tests/test\\_query.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/tests/congruence_tests/test_query.py)\n\nLocal Mode provides an in-process implementation of Qdrant functionality through the `QdrantLocal` and `AsyncQdrantLocal` classes. This mode operates entirely within your application process using the `LocalCollection` class for vector storage and search operations. Data can be stored in-memory or persisted to disk using SQLite-based storage.\n\nLocal Mode is designed for development, testing, and small-scale applications where deploying a separate Qdrant server is unnecessary. For production deployments with larger datasets, see [Remote Mode](qdrant/qdrant-client/2.3-remote-mode.md).",
    "metadata": {
      "chunk_id": "1c523b60da9d-0000",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 0,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Local Mode"
      ],
      "heading_text": "Local Mode",
      "token_count": 345,
      "char_count": 1319,
      "start_char": 1967,
      "end_char": 3286,
      "semantic_score": 0.6,
      "structural_score": 0.9999999999999999,
      "retrieval_quality": 0.5455454545454546,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Local Mode",
      "chunk_hash": "28dbe92d41d42ed1",
      "content_digest": "28dbe92d41d42ed1",
      "chunk_length": 1319,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "local",
          "client",
          "tests",
          "mode",
          "https",
          "github",
          "com",
          "blob",
          "ac6f6cd2",
          "congruence",
          "test",
          "and",
          "for",
          "async",
          "collection",
          "common",
          "query",
          "process",
          "the"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 24,
            "weight": 0.142857
          },
          {
            "term": "local",
            "tf": 15,
            "weight": 0.089286
          },
          {
            "term": "client",
            "tf": 12,
            "weight": 0.071429
          },
          {
            "term": "tests",
            "tf": 8,
            "weight": 0.047619
          },
          {
            "term": "mode",
            "tf": 6,
            "weight": 0.035714
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.029762
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.029762
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.029762
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.029762
          },
          {
            "term": "ac6f6cd2",
            "tf": 5,
            "weight": 0.029762
          },
          {
            "term": "congruence",
            "tf": 4,
            "weight": 0.02381
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.02381
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.017857
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.017857
          },
          {
            "term": "async",
            "tf": 2,
            "weight": 0.011905
          },
          {
            "term": "collection",
            "tf": 2,
            "weight": 0.011905
          },
          {
            "term": "common",
            "tf": 2,
            "weight": 0.011905
          },
          {
            "term": "query",
            "tf": 2,
            "weight": 0.011905
          },
          {
            "term": "process",
            "tf": 2,
            "weight": 0.011905
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.011905
          }
        ],
        "unique_terms": 69,
        "total_terms": 168
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Local Mode",
        "ac6f6cd2",
        "blob",
        "client",
        "com",
        "github",
        "https",
        "local",
        "mode",
        "qdrant",
        "tests"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.9999999999999999,
      "retrieval_quality": 0.5455454545454546,
      "overall": 0.7151818181818181
    }
  },
  {
    "text": "## Initialization\n\nLocal Mode initialization creates either `QdrantLocal` or `AsyncQdrantLocal` instances based on the provided location parameter:\n\n**QdrantLocal Constructor**\n\n```\n```\n\n**Storage Modes:**\n\n- **In-memory**: `location=\":memory:\"` - Data exists only during application lifetime\n- **Persistent**: `location=\"path/to/directory\"` - Data persisted to disk with SQLite storage\n\n**Initialization Process:**\n\n1. Set `persistent = location != \":memory:\"`\n2. Initialize empty collections dictionary: `self.collections: dict[str, LocalCollection] = {}`\n3. If persistent, load metadata from `meta.json` and create `LocalCollection` instances\n4. Acquire file lock to prevent concurrent access\n5. Load existing vector data into memory\n\nSources: [qdrant\\_client/local/qdrant\\_local.py51-67](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py#L51-L67) [qdrant\\_client/local/qdrant\\_local.py94-141](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py#L94-L141)",
    "metadata": {
      "chunk_id": "1c523b60da9d-0002",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Initialization"
      ],
      "heading_text": "Initialization",
      "token_count": 268,
      "char_count": 1036,
      "start_char": 3820,
      "end_char": 4856,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5508695652173913,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Initialization",
      "chunk_hash": "0ff170144ec7b6fe",
      "content_digest": "0ff170144ec7b6fe",
      "chunk_length": 1036,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "local",
          "client",
          "location",
          "memory",
          "initialization",
          "data",
          "persistent",
          "qdrantlocal",
          "instances",
          "storage",
          "collections",
          "localcollection",
          "load",
          "https",
          "github",
          "com",
          "blob",
          "ac6f6cd2",
          "mode"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 12,
            "weight": 0.101695
          },
          {
            "term": "local",
            "tf": 9,
            "weight": 0.076271
          },
          {
            "term": "client",
            "tf": 6,
            "weight": 0.050847
          },
          {
            "term": "location",
            "tf": 4,
            "weight": 0.033898
          },
          {
            "term": "memory",
            "tf": 4,
            "weight": 0.033898
          },
          {
            "term": "initialization",
            "tf": 3,
            "weight": 0.025424
          },
          {
            "term": "data",
            "tf": 3,
            "weight": 0.025424
          },
          {
            "term": "persistent",
            "tf": 3,
            "weight": 0.025424
          },
          {
            "term": "qdrantlocal",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "instances",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "storage",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "collections",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "localcollection",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "load",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "ac6f6cd2",
            "tf": 2,
            "weight": 0.016949
          },
          {
            "term": "mode",
            "tf": 1,
            "weight": 0.008475
          }
        ],
        "unique_terms": 71,
        "total_terms": 118
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Initialization",
        "client",
        "data",
        "initialization",
        "instances",
        "local",
        "location",
        "memory",
        "persistent",
        "qdrant",
        "qdrantlocal"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5508695652173913,
      "overall": 0.683623188405797
    }
  },
  {
    "text": "## Storage Architecture\n\n**QdrantLocal Data Structures**\n\n```\n```\n\n**LocalCollection Vector Storage:**\n\n- `vectors: dict[str, NumpyArray]` - Dense vectors indexed by name\n- `sparse_vectors: dict[str, list[SparseVector]]` - Sparse vectors with indices/values\n- `multivectors: dict[str, list[NumpyArray]]` - Multi-vector collections\n- `payload: list[models.Payload]` - Point payloads indexed by internal ID\n- `ids: dict[ExtendedPointId, int]` - External ID to internal index mapping\n- `deleted: NumpyArray` - Boolean array tracking deleted points\n\nSources: [qdrant\\_client/local/qdrant\\_local.py51-67](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py#L51-L67) [qdrant\\_client/local/local\\_collection.py100-148](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L100-L148)",
    "metadata": {
      "chunk_id": "1c523b60da9d-0003",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Storage Architecture"
      ],
      "heading_text": "Storage Architecture",
      "token_count": 238,
      "char_count": 854,
      "start_char": 4858,
      "end_char": 5712,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5085714285714286,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Storage Architecture",
      "chunk_hash": "80ffb8df23faaab5",
      "content_digest": "80ffb8df23faaab5",
      "chunk_length": 854,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "local",
          "client",
          "vectors",
          "dict",
          "str",
          "numpyarray",
          "list",
          "storage",
          "vector",
          "indexed",
          "sparse",
          "payload",
          "internal",
          "deleted",
          "https",
          "github",
          "com",
          "blob",
          "ac6f6cd2"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.098039
          },
          {
            "term": "local",
            "tf": 8,
            "weight": 0.078431
          },
          {
            "term": "client",
            "tf": 6,
            "weight": 0.058824
          },
          {
            "term": "vectors",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "dict",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "str",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "numpyarray",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "list",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "storage",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "vector",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "indexed",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "sparse",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "payload",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "internal",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "deleted",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "ac6f6cd2",
            "tf": 2,
            "weight": 0.019608
          }
        ],
        "unique_terms": 56,
        "total_terms": 102
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Storage Architecture",
        "client",
        "dict",
        "list",
        "local",
        "numpyarray",
        "qdrant",
        "storage",
        "str",
        "vector",
        "vectors"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5085714285714286,
      "overall": 0.6695238095238095
    }
  },
  {
    "text": "## Vector Storage Implementation\n\n**LocalCollection Vector Type Resolution**\n\n```\n```\n\n**Vector Storage Details:**\n\n- **Dense vectors**: `np.zeros((0, params.size), dtype=np.float32)` initialized per vector name\n- **Sparse vectors**: `list[SparseVector]` with `indices` and `values` arrays\n- **Multivectors**: `list[NumpyArray]` where each point can have multiple vectors\n- **Deleted tracking**: `deleted_per_vector: dict[str, NumpyArray]` tracks deletions per vector type\n\n**Vector Name Resolution:**\n\n- `DEFAULT_VECTOR_NAME = \"\"` used for anonymous vectors\n- `_all_vectors_keys` combines all vector type names for unified access\n\nSources: [qdrant\\_client/local/local\\_collection.py112-140](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L112-L140) [qdrant\\_client/local/local\\_collection.py150-169](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L150-L169) [qdrant\\_client/local/local\\_collection.py81](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L81-L81)",
    "metadata": {
      "chunk_id": "1c523b60da9d-0004",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Vector Storage Implementation"
      ],
      "heading_text": "Vector Storage Implementation",
      "token_count": 290,
      "char_count": 1101,
      "start_char": 5714,
      "end_char": 6815,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5169230769230769,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Vector Storage Implementation",
      "chunk_hash": "396bc4f5213dcfa1",
      "content_digest": "396bc4f5213dcfa1",
      "chunk_length": 1101,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "local",
          "vector",
          "client",
          "collection",
          "vectors",
          "type",
          "per",
          "name",
          "https",
          "github",
          "com",
          "blob",
          "ac6f6cd2",
          "storage",
          "resolution",
          "list",
          "numpyarray",
          "deleted",
          "for"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 12,
            "weight": 0.085714
          },
          {
            "term": "local",
            "tf": 12,
            "weight": 0.085714
          },
          {
            "term": "vector",
            "tf": 9,
            "weight": 0.064286
          },
          {
            "term": "client",
            "tf": 9,
            "weight": 0.064286
          },
          {
            "term": "collection",
            "tf": 6,
            "weight": 0.042857
          },
          {
            "term": "vectors",
            "tf": 5,
            "weight": 0.035714
          },
          {
            "term": "type",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "per",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "name",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "ac6f6cd2",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "storage",
            "tf": 2,
            "weight": 0.014286
          },
          {
            "term": "resolution",
            "tf": 2,
            "weight": 0.014286
          },
          {
            "term": "list",
            "tf": 2,
            "weight": 0.014286
          },
          {
            "term": "numpyarray",
            "tf": 2,
            "weight": 0.014286
          },
          {
            "term": "deleted",
            "tf": 2,
            "weight": 0.014286
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.014286
          }
        ],
        "unique_terms": 69,
        "total_terms": 140
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Vector Storage Implementation",
        "client",
        "collection",
        "https",
        "local",
        "name",
        "per",
        "qdrant",
        "type",
        "vector",
        "vectors"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5169230769230769,
      "overall": 0.6723076923076922
    }
  },
  {
    "text": "## Storage Persistence\n\n**File-based Persistence Architecture**\n\n```\n```\n\n**Persistence Components:**\n\n- **meta.json**: Contains collection configurations and aliases\n- **Collection directories**: `{location}/collection/{collection_name}/`\n- **File locking**: Uses `portalocker` with `EXCLUSIVE|NON_BLOCKING` flags\n- **CollectionPersistence**: Handles SQLite-based storage per collection\n\n**Lock File Management:**\n\n```\n```\n\nSources: [qdrant\\_client/local/qdrant\\_local.py94-141](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py#L94-L141) [qdrant\\_client/local/local\\_collection.py143-148](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L143-L148) [qdrant\\_client/local/local\\_collection.py204-280](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L204-L280)\n\n**Data Loading Process:**\n\n1. `_load()` reads `meta.json` and creates collections\n2. `load_vectors()` populates in-memory data structures from disk\n3. Vector data organized by type: dense, sparse, and multivectors\n4. Payload and ID mappings loaded into list and dictionary structures",
    "metadata": {
      "chunk_id": "1c523b60da9d-0005",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Storage Persistence"
      ],
      "heading_text": "Storage Persistence",
      "token_count": 298,
      "char_count": 1176,
      "start_char": 6817,
      "end_char": 7993,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5364285714285714,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Storage Persistence",
      "chunk_hash": "d79f446fdb5f4b59",
      "content_digest": "d79f446fdb5f4b59",
      "chunk_length": 1176,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "local",
          "collection",
          "client",
          "and",
          "persistence",
          "file",
          "https",
          "github",
          "com",
          "blob",
          "ac6f6cd2",
          "data",
          "storage",
          "based",
          "meta",
          "json",
          "load",
          "structures",
          "architecture"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 14,
            "weight": 0.098592
          },
          {
            "term": "local",
            "tf": 12,
            "weight": 0.084507
          },
          {
            "term": "collection",
            "tf": 9,
            "weight": 0.06338
          },
          {
            "term": "client",
            "tf": 9,
            "weight": 0.06338
          },
          {
            "term": "and",
            "tf": 5,
            "weight": 0.035211
          },
          {
            "term": "persistence",
            "tf": 3,
            "weight": 0.021127
          },
          {
            "term": "file",
            "tf": 3,
            "weight": 0.021127
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.021127
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.021127
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.021127
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.021127
          },
          {
            "term": "ac6f6cd2",
            "tf": 3,
            "weight": 0.021127
          },
          {
            "term": "data",
            "tf": 3,
            "weight": 0.021127
          },
          {
            "term": "storage",
            "tf": 2,
            "weight": 0.014085
          },
          {
            "term": "based",
            "tf": 2,
            "weight": 0.014085
          },
          {
            "term": "meta",
            "tf": 2,
            "weight": 0.014085
          },
          {
            "term": "json",
            "tf": 2,
            "weight": 0.014085
          },
          {
            "term": "load",
            "tf": 2,
            "weight": 0.014085
          },
          {
            "term": "structures",
            "tf": 2,
            "weight": 0.014085
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.007042
          }
        ],
        "unique_terms": 76,
        "total_terms": 142
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Storage Persistence",
        "and",
        "client",
        "collection",
        "com",
        "file",
        "github",
        "https",
        "local",
        "persistence",
        "qdrant"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5364285714285714,
      "overall": 0.6788095238095236
    }
  },
  {
    "text": "## Performance Considerations\n\n**Size Thresholds:**\n\n- `LARGE_DATA_THRESHOLD = 20_000` points triggers performance warnings\n- `LocalCollection.LARGE_DATA_THRESHOLD = 20_000` used for collection-level warnings\n\n**Warning Implementation:**\n\n```\n```\n\n**Performance Characteristics:**\n\n- All data stored in memory for fast access\n- No indexing structures (HNSW, etc.) - uses brute force search\n- Suitable for development, testing, and small datasets\n- Payload filtering uses `calculate_payload_mask()` for each query\n\nSources: [qdrant\\_client/local/qdrant\\_local.py49](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py#L49-L49) [qdrant\\_client/local/qdrant\\_local.py114-123](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py#L114-L123) [qdrant\\_client/local/local\\_collection.py98](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L98-L98)",
    "metadata": {
      "chunk_id": "1c523b60da9d-0006",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Performance Considerations"
      ],
      "heading_text": "Performance Considerations",
      "token_count": 260,
      "char_count": 960,
      "start_char": 7995,
      "end_char": 8955,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5228358208955224,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Performance Considerations",
      "chunk_hash": "b7ed57b363d6efdf",
      "content_digest": "b7ed57b363d6efdf",
      "chunk_length": 960,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "local",
          "client",
          "for",
          "performance",
          "data",
          "collection",
          "https",
          "github",
          "com",
          "blob",
          "ac6f6cd2",
          "large",
          "threshold",
          "000",
          "warnings",
          "uses",
          "payload",
          "l49",
          "l98"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 16,
            "weight": 0.131148
          },
          {
            "term": "local",
            "tf": 12,
            "weight": 0.098361
          },
          {
            "term": "client",
            "tf": 9,
            "weight": 0.07377
          },
          {
            "term": "for",
            "tf": 4,
            "weight": 0.032787
          },
          {
            "term": "performance",
            "tf": 3,
            "weight": 0.02459
          },
          {
            "term": "data",
            "tf": 3,
            "weight": 0.02459
          },
          {
            "term": "collection",
            "tf": 3,
            "weight": 0.02459
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.02459
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.02459
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.02459
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.02459
          },
          {
            "term": "ac6f6cd2",
            "tf": 3,
            "weight": 0.02459
          },
          {
            "term": "large",
            "tf": 2,
            "weight": 0.016393
          },
          {
            "term": "threshold",
            "tf": 2,
            "weight": 0.016393
          },
          {
            "term": "000",
            "tf": 2,
            "weight": 0.016393
          },
          {
            "term": "warnings",
            "tf": 2,
            "weight": 0.016393
          },
          {
            "term": "uses",
            "tf": 2,
            "weight": 0.016393
          },
          {
            "term": "payload",
            "tf": 2,
            "weight": 0.016393
          },
          {
            "term": "l49",
            "tf": 2,
            "weight": 0.016393
          },
          {
            "term": "l98",
            "tf": 2,
            "weight": 0.016393
          }
        ],
        "unique_terms": 61,
        "total_terms": 122
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Performance Considerations",
        "client",
        "collection",
        "com",
        "data",
        "for",
        "github",
        "https",
        "local",
        "performance",
        "qdrant"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5228358208955224,
      "overall": 0.6742786069651739
    }
  },
  {
    "text": "## Search and Retrieval\n\n**LocalCollection Search Implementation**\n\n```\n```\n\n**Search Method Signature:**\n\n```\n```\n\n**Query Processing Flow:**\n\n1. `_resolve_query_vector_name()` determines vector type and name\n2. Distance calculation based on vector type (dense/sparse/multi)\n3. `_payload_and_non_deleted_mask()` applies filters\n4. Results sorted by score and limited\n5. `ScoredPoint` objects constructed with payload and vectors\n\nSources: [qdrant\\_client/local/local\\_collection.py533-701](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L533-L701) [qdrant\\_client/local/local\\_collection.py282-332](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L282-L332) [qdrant\\_client/local/local\\_collection.py499-523](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/local_collection.py#L499-L523)",
    "metadata": {
      "chunk_id": "1c523b60da9d-0007",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Search and Retrieval"
      ],
      "heading_text": "Search and Retrieval",
      "token_count": 239,
      "char_count": 907,
      "start_char": 8957,
      "end_char": 9864,
      "semantic_score": 0.6,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5409090909090909,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Search and Retrieval",
      "chunk_hash": "365c17c96150f9e7",
      "content_digest": "365c17c96150f9e7",
      "chunk_length": 907,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "local",
          "client",
          "collection",
          "and",
          "search",
          "vector",
          "https",
          "github",
          "com",
          "blob",
          "ac6f6cd2",
          "query",
          "name",
          "type",
          "payload",
          "retrieval",
          "localcollection",
          "implementation",
          "method"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 12,
            "weight": 0.104348
          },
          {
            "term": "local",
            "tf": 12,
            "weight": 0.104348
          },
          {
            "term": "client",
            "tf": 9,
            "weight": 0.078261
          },
          {
            "term": "collection",
            "tf": 6,
            "weight": 0.052174
          },
          {
            "term": "and",
            "tf": 5,
            "weight": 0.043478
          },
          {
            "term": "search",
            "tf": 3,
            "weight": 0.026087
          },
          {
            "term": "vector",
            "tf": 3,
            "weight": 0.026087
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.026087
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.026087
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.026087
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.026087
          },
          {
            "term": "ac6f6cd2",
            "tf": 3,
            "weight": 0.026087
          },
          {
            "term": "query",
            "tf": 2,
            "weight": 0.017391
          },
          {
            "term": "name",
            "tf": 2,
            "weight": 0.017391
          },
          {
            "term": "type",
            "tf": 2,
            "weight": 0.017391
          },
          {
            "term": "payload",
            "tf": 2,
            "weight": 0.017391
          },
          {
            "term": "retrieval",
            "tf": 1,
            "weight": 0.008696
          },
          {
            "term": "localcollection",
            "tf": 1,
            "weight": 0.008696
          },
          {
            "term": "implementation",
            "tf": 1,
            "weight": 0.008696
          },
          {
            "term": "method",
            "tf": 1,
            "weight": 0.008696
          }
        ],
        "unique_terms": 58,
        "total_terms": 115
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Search and Retrieval",
        "and",
        "client",
        "collection",
        "com",
        "github",
        "https",
        "local",
        "qdrant",
        "search",
        "vector"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5409090909090909,
      "overall": 0.646969696969697
    }
  },
  {
    "text": "## Feature Parity with Remote Mode  **Implemented Operations in QdrantLocal:**  | Operation Category    | Methods                                                                                                        | Implementation Status | | --------------------- | -------------------------------------------------------------------------------------------------------------- | --------------------- | | Collection Management | `create_collection()`, `delete_collection()`, `get_collection()`, `collection_exists()`, `update_collection()` | ✅ Full                | | Point Operations      | `upsert()`, `delete()`, `retrieve()`, `update_vectors()`, `delete_vectors()`                                   | ✅ Full                | | Search Operations     | `search()`, `search_batch()`, `search_groups()`, `search_matrix_*()`                                           | ✅ Full                | | Advanced Search       | `query_points()`, `query_batch_points()`, `query_points_groups()`                                              | ✅ Full                | | Recommendation        | `recommend()`, `recommend_batch()`, `recommend_groups()`                                                       | ✅ Full                | | Discovery             | `discover()`, `discover_batch()`                                                                               | ✅ Full                | | Payload Operations    | `set_payload()`, `overwrite_payload()`, `delete_payload()`, `clear_payload()`                                  | ✅ Full                | | Aliases               | `update_collection_aliases()`, `get_aliases()`, `get_collection_aliases()`                                     | ✅ Full                | | Pagination            | `scroll()`, `count()`, `facet()`                                                                               | ✅ Full                | | Batch Operations      | `batch_update_points()`                                                                                        | ✅ Full                |  **Unsupported Operations:**  - Payload indexes: `create_payload_index()`, `delete_payload_index()` (warnings only) - Snapshots: All snapshot operations raise `NotImplementedError` - Sharding: `create_shard_key()`, `delete_shard_key()` raise `NotImplementedError` - Locks: `lock_storage()`, `unlock_storage()` raise `NotImplementedError`  **Congruence Testing:** Tests in `test_query.py` verify identical behavior between local and remote modes using `compare_client_results()` function. Sources: [qdrant\\_client/local/qdrant\\_local.py773-1165](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py#L773-L1165) [tests/congruence\\_tests/test\\_query.py804-826](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/tests/congruence_tests/test_query.py#L804-L826)",
    "metadata": {
      "chunk_id": "1c523b60da9d-0008",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Feature Parity with Remote Mode"
      ],
      "heading_text": "Feature Parity with Remote Mode",
      "token_count": 522,
      "char_count": 2832,
      "start_char": 9866,
      "end_char": 12698,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.6648351648351649,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "table_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Feature Parity with Remote Mode",
      "chunk_hash": "6b0aef0b0d40b58f",
      "content_digest": "6b0aef0b0d40b58f",
      "chunk_length": 2832,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "full",
          "collection",
          "payload",
          "qdrant",
          "operations",
          "delete",
          "search",
          "batch",
          "query",
          "tests",
          "local",
          "client",
          "update",
          "points",
          "aliases",
          "create",
          "get",
          "groups",
          "recommend",
          "raise"
        ],
        "term_weights": [
          {
            "term": "full",
            "tf": 10,
            "weight": 0.050505
          },
          {
            "term": "collection",
            "tf": 8,
            "weight": 0.040404
          },
          {
            "term": "payload",
            "tf": 8,
            "weight": 0.040404
          },
          {
            "term": "qdrant",
            "tf": 8,
            "weight": 0.040404
          },
          {
            "term": "operations",
            "tf": 7,
            "weight": 0.035354
          },
          {
            "term": "delete",
            "tf": 6,
            "weight": 0.030303
          },
          {
            "term": "search",
            "tf": 6,
            "weight": 0.030303
          },
          {
            "term": "batch",
            "tf": 6,
            "weight": 0.030303
          },
          {
            "term": "query",
            "tf": 6,
            "weight": 0.030303
          },
          {
            "term": "tests",
            "tf": 5,
            "weight": 0.025253
          },
          {
            "term": "local",
            "tf": 5,
            "weight": 0.025253
          },
          {
            "term": "client",
            "tf": 5,
            "weight": 0.025253
          },
          {
            "term": "update",
            "tf": 4,
            "weight": 0.020202
          },
          {
            "term": "points",
            "tf": 4,
            "weight": 0.020202
          },
          {
            "term": "aliases",
            "tf": 4,
            "weight": 0.020202
          },
          {
            "term": "create",
            "tf": 3,
            "weight": 0.015152
          },
          {
            "term": "get",
            "tf": 3,
            "weight": 0.015152
          },
          {
            "term": "groups",
            "tf": 3,
            "weight": 0.015152
          },
          {
            "term": "recommend",
            "tf": 3,
            "weight": 0.015152
          },
          {
            "term": "raise",
            "tf": 3,
            "weight": 0.015152
          }
        ],
        "unique_terms": 93,
        "total_terms": 198
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Feature Parity with Remote Mode",
        "batch",
        "collection",
        "delete",
        "full",
        "operations",
        "payload",
        "qdrant",
        "query",
        "search",
        "tests"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.6648351648351649,
      "overall": 0.7882783882783881
    }
  },
  {
    "text": "## Concurrency and Threading\n\n**File Locking Mechanism:**\n\n```\n```\n\n**SQLite Thread Safety:**\n\n- Default: SQLite connections use `check_same_thread=True`\n- Override: `force_disable_check_same_thread=True` parameter\n- Passed to: `CollectionPersistence(location, force_disable_check_same_thread)`\n\n**Concurrency Limitations:**\n\n- **Process-level**: File locking prevents multiple processes from accessing same directory\n- **Thread-level**: Single SQLite connection per collection, optional thread check bypass\n- **Recommended**: Use Qdrant server for multi-user/multi-process scenarios\n\n**Error Handling:**\n\n```\n```\n\nSources: [qdrant\\_client/local/qdrant\\_local.py126-141](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py#L126-L141) [qdrant\\_client/local/qdrant\\_local.py51-67](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/qdrant_local.py#L51-L67)",
    "metadata": {
      "chunk_id": "1c523b60da9d-0009",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Concurrency and Threading"
      ],
      "heading_text": "Concurrency and Threading",
      "token_count": 233,
      "char_count": 915,
      "start_char": 12701,
      "end_char": 13616,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5354545454545454,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Concurrency and Threading",
      "chunk_hash": "5fcb4d35d4266c5d",
      "content_digest": "5fcb4d35d4266c5d",
      "chunk_length": 915,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "local",
          "thread",
          "client",
          "check",
          "same",
          "sqlite",
          "concurrency",
          "file",
          "locking",
          "use",
          "true",
          "force",
          "disable",
          "process",
          "level",
          "multi",
          "https",
          "github",
          "com"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 13,
            "weight": 0.115044
          },
          {
            "term": "local",
            "tf": 8,
            "weight": 0.070796
          },
          {
            "term": "thread",
            "tf": 6,
            "weight": 0.053097
          },
          {
            "term": "client",
            "tf": 6,
            "weight": 0.053097
          },
          {
            "term": "check",
            "tf": 4,
            "weight": 0.035398
          },
          {
            "term": "same",
            "tf": 4,
            "weight": 0.035398
          },
          {
            "term": "sqlite",
            "tf": 3,
            "weight": 0.026549
          },
          {
            "term": "concurrency",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "file",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "locking",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "use",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "true",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "force",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "disable",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "process",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "level",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "multi",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.017699
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.017699
          }
        ],
        "unique_terms": 61,
        "total_terms": 113
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Concurrency and Threading",
        "check",
        "client",
        "concurrency",
        "file",
        "local",
        "locking",
        "qdrant",
        "same",
        "sqlite",
        "thread"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5354545454545454,
      "overall": 0.7118181818181816
    }
  },
  {
    "text": "## Async Implementation\n\n**AsyncQdrantLocal Class:**\n\n```\n```\n\n**Async vs Sync Implementation:**\n\n- **Shared**: Both use the same `LocalCollection` class for actual operations\n- **Difference**: Async methods have `async def` signatures and `await` keywords\n- **Persistence**: Same file locking and SQLite mechanisms\n- **Performance**: No actual async I/O benefits since operations are in-memory\n\n**Method Signatures:**\n\n```\n```\n\n**Usage Pattern:**\n\n```\n```\n\nSources: [qdrant\\_client/local/async\\_qdrant\\_local.py38-67](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/async_qdrant_local.py#L38-L67) [qdrant\\_client/local/async\\_qdrant\\_local.py179-207](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/local/async_qdrant_local.py#L179-L207)",
    "metadata": {
      "chunk_id": "1c523b60da9d-0010",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Async Implementation"
      ],
      "heading_text": "Async Implementation",
      "token_count": 219,
      "char_count": 784,
      "start_char": 13618,
      "end_char": 14402,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5233333333333333,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "Async Implementation",
      "chunk_hash": "6ad299036fac2142",
      "content_digest": "6ad299036fac2142",
      "chunk_length": 784,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "async",
          "local",
          "client",
          "implementation",
          "class",
          "same",
          "actual",
          "operations",
          "signatures",
          "and",
          "https",
          "github",
          "com",
          "blob",
          "ac6f6cd2",
          "asyncqdrantlocal",
          "sync",
          "shared",
          "both"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 12,
            "weight": 0.12766
          },
          {
            "term": "async",
            "tf": 9,
            "weight": 0.095745
          },
          {
            "term": "local",
            "tf": 8,
            "weight": 0.085106
          },
          {
            "term": "client",
            "tf": 6,
            "weight": 0.06383
          },
          {
            "term": "implementation",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "class",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "same",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "actual",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "operations",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "signatures",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "ac6f6cd2",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "asyncqdrantlocal",
            "tf": 1,
            "weight": 0.010638
          },
          {
            "term": "sync",
            "tf": 1,
            "weight": 0.010638
          },
          {
            "term": "shared",
            "tf": 1,
            "weight": 0.010638
          },
          {
            "term": "both",
            "tf": 1,
            "weight": 0.010638
          }
        ],
        "unique_terms": 51,
        "total_terms": 94
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Async Implementation",
        "actual",
        "async",
        "class",
        "client",
        "implementation",
        "local",
        "operations",
        "qdrant",
        "same",
        "signatures"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5233333333333333,
      "overall": 0.6744444444444443
    }
  },
  {
    "text": "### On this page  - [Local Mode](#local-mode.md) - [Architecture Overview](#architecture-overview.md) - [Initialization](#initialization.md) - [Storage Architecture](#storage-architecture.md) - [Vector Storage Implementation](#vector-storage-implementation.md) - [Storage Persistence](#storage-persistence.md) - [Performance Considerations](#performance-considerations.md) - [Search and Retrieval](#search-and-retrieval.md) - [Feature Parity with Remote Mode](#feature-parity-with-remote-mode.md) - [Concurrency and Threading](#concurrency-and-threading.md) - [Async Implementation](#async-implementation.md) - [When to Use Local Mode vs Remote Mode](#when-to-use-local-mode-vs-remote-mode.md) - [Conclusion](#conclusion.md)",
    "metadata": {
      "chunk_id": "1c523b60da9d-0013",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "On this page"
      ],
      "heading_text": "On this page",
      "token_count": 175,
      "char_count": 724,
      "start_char": 15679,
      "end_char": 16403,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5050943396226415,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "processing_timestamp": "2025-10-20T04:38:46.569854",
      "document_id": "1c523b60da9d",
      "document_name": "_qdrant_qdrant-client_2.2-local-mode",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "source_filename": "_qdrant_qdrant-client_2.2-local-mode.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant-client",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant-client\\_qdrant_qdrant-client_2.2-local-mode.md",
      "hierarchy_path": "On this page",
      "chunk_hash": "8841923b38b4f026",
      "content_digest": "8841923b38b4f026",
      "chunk_length": 724,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mode",
          "storage",
          "local",
          "architecture",
          "implementation",
          "and",
          "remote",
          "overview",
          "initialization",
          "vector",
          "persistence",
          "performance",
          "considerations",
          "search",
          "retrieval",
          "feature",
          "parity",
          "with",
          "concurrency",
          "threading"
        ],
        "term_weights": [
          {
            "term": "mode",
            "tf": 8,
            "weight": 0.114286
          },
          {
            "term": "storage",
            "tf": 6,
            "weight": 0.085714
          },
          {
            "term": "local",
            "tf": 4,
            "weight": 0.057143
          },
          {
            "term": "architecture",
            "tf": 4,
            "weight": 0.057143
          },
          {
            "term": "implementation",
            "tf": 4,
            "weight": 0.057143
          },
          {
            "term": "and",
            "tf": 4,
            "weight": 0.057143
          },
          {
            "term": "remote",
            "tf": 4,
            "weight": 0.057143
          },
          {
            "term": "overview",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "initialization",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "vector",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "persistence",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "performance",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "considerations",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "search",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "retrieval",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "feature",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "parity",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "concurrency",
            "tf": 2,
            "weight": 0.028571
          },
          {
            "term": "threading",
            "tf": 2,
            "weight": 0.028571
          }
        ],
        "unique_terms": 26,
        "total_terms": 70
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "On this page",
        "and",
        "architecture",
        "implementation",
        "initialization",
        "local",
        "mode",
        "overview",
        "remote",
        "storage",
        "vector"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5050943396226415,
      "overall": 0.6683647798742139
    }
  }
]