[
  {
    "text": "## Purpose and Scope  This document provides a comprehensive overview of Qdrant's system architecture, describing the layered design from the API layer down to persistent storage. It covers both standalone and distributed deployment modes, the core abstractions at each layer, and how components interact to serve search and update operations. For specific details on:  - Application startup and runtime initialization, see [Application Initialization and Runtime](qdrant/qdrant/2.1-application-initialization-and-runtime.md) - Collection management and the table of content system, see [Collections and Table of Content](qdrant/qdrant/2.2-collections-and-table-of-content.md) - Shard distribution and replica coordination, see [Shards and Replica Sets](qdrant/qdrant/2.3-shards-and-replica-sets.md) - Internal structure of local shards, see [Local Shard Architecture](qdrant/qdrant/2.4-local-shard-architecture.md) - Segment construction and optimization, see [Segment Lifecycle and Construction](qdrant/qdrant/2.5-segment-lifecycle-and-construction.md) - Vector indexing strategies, see [Vector Storage and Indexing](qdrant/qdrant/3-vector-storage-and-indexing.md) - Consensus and distributed features, see [Distributed System Features](qdrant/qdrant/7-distributed-system-features.md)  ---",
    "metadata": {
      "chunk_id": "3bdbcd648444-0001",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Purpose and Scope"
      ],
      "heading_text": "Purpose and Scope",
      "token_count": 289,
      "char_count": 1291,
      "start_char": 6882,
      "end_char": 8173,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5046153846153846,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.781951",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "Purpose and Scope",
      "chunk_hash": "79e0f76ea9bf4820",
      "content_digest": "79e0f76ea9bf4820",
      "chunk_length": 1291,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "and",
          "qdrant",
          "see",
          "system",
          "the",
          "distributed",
          "architecture",
          "storage",
          "application",
          "runtime",
          "initialization",
          "table",
          "content",
          "shard",
          "replica",
          "shards",
          "local",
          "segment",
          "construction",
          "vector"
        ],
        "term_weights": [
          {
            "term": "and",
            "tf": 19,
            "weight": 0.125828
          },
          {
            "term": "qdrant",
            "tf": 15,
            "weight": 0.099338
          },
          {
            "term": "see",
            "tf": 7,
            "weight": 0.046358
          },
          {
            "term": "system",
            "tf": 4,
            "weight": 0.02649
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.02649
          },
          {
            "term": "distributed",
            "tf": 4,
            "weight": 0.02649
          },
          {
            "term": "architecture",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "storage",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "application",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "runtime",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "initialization",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "table",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "content",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "shard",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "replica",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "shards",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "local",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "segment",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "construction",
            "tf": 3,
            "weight": 0.019868
          },
          {
            "term": "vector",
            "tf": 3,
            "weight": 0.019868
          }
        ],
        "unique_terms": 68,
        "total_terms": 151
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Purpose and Scope",
        "and",
        "application",
        "architecture",
        "distributed",
        "qdrant",
        "runtime",
        "see",
        "storage",
        "system",
        "the"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5046153846153846,
      "overall": 0.7015384615384614
    }
  },
  {
    "text": "## Architectural Overview\n\nQdrant employs a **layered architecture** with clear separation of concerns. The system is organized into six primary layers, each responsible for specific aspects of data management and query processing.",
    "metadata": {
      "chunk_id": "3bdbcd648444-0002",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Architectural Overview"
      ],
      "heading_text": "Architectural Overview",
      "token_count": 42,
      "char_count": 231,
      "start_char": 8176,
      "end_char": 8407,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.580625,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.782254",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "Architectural Overview",
      "chunk_hash": "04aaa04b52693f9a",
      "content_digest": "04aaa04b52693f9a",
      "chunk_length": 231,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "architectural",
          "overview",
          "qdrant",
          "employs",
          "layered",
          "architecture",
          "with",
          "clear",
          "separation",
          "concerns",
          "the",
          "system",
          "organized",
          "into",
          "six",
          "primary",
          "layers",
          "each",
          "responsible",
          "for"
        ],
        "term_weights": [
          {
            "term": "architectural",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "overview",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "qdrant",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "employs",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "layered",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "clear",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "separation",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "concerns",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "organized",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "into",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "six",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "primary",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "layers",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "each",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "responsible",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.037037
          }
        ],
        "unique_terms": 27,
        "total_terms": 27
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Architectural Overview",
        "architectural",
        "architecture",
        "clear",
        "concerns",
        "employs",
        "layered",
        "overview",
        "qdrant",
        "separation",
        "with"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.580625,
      "overall": 0.726875
    }
  },
  {
    "text": "### System Layers\n\n```\n```\n\n**Sources:** [src/main.rs1-700](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L1-L700) [lib/storage/src/dispatcher.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/dispatcher.rs) [lib/storage/src/content\\_manager/toc/mod.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/content_manager/toc/mod.rs) [lib/collection/src/collection.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/collection.rs) [lib/segment/src/segment.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/segment.rs)",
    "metadata": {
      "chunk_id": "3bdbcd648444-0003",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "System Layers"
      ],
      "heading_text": "System Layers",
      "token_count": 181,
      "char_count": 594,
      "start_char": 8409,
      "end_char": 9003,
      "semantic_score": 0.6,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5627272727272727,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.782499",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "System Layers",
      "chunk_hash": "9d9e8c1c580bbc3c",
      "content_digest": "9d9e8c1c580bbc3c",
      "chunk_length": 594,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "qdrant",
          "lib",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "storage",
          "collection",
          "segment",
          "main",
          "dispatcher",
          "content",
          "manager",
          "toc",
          "mod",
          "system",
          "layers",
          "sources"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 10,
            "weight": 0.120482
          },
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.120482
          },
          {
            "term": "lib",
            "tf": 8,
            "weight": 0.096386
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.060241
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.060241
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.060241
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.060241
          },
          {
            "term": "48203e41",
            "tf": 5,
            "weight": 0.060241
          },
          {
            "term": "storage",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "collection",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "segment",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "main",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "dispatcher",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "content",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "manager",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "toc",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "mod",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "layers",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.012048
          }
        ],
        "unique_terms": 23,
        "total_terms": 83
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "System Layers",
        "blob",
        "collection",
        "com",
        "github",
        "https",
        "lib",
        "qdrant",
        "src",
        "storage"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5627272727272727,
      "overall": 0.6542424242424242
    }
  },
  {
    "text": "### Distributed Mode\n\nIn distributed mode (when `cluster.enabled = true`), the system uses Raft consensus for metadata coordination. The `Dispatcher` routes metadata operations through `ConsensusManager`, while data operations go directly to shards with optimistic replication.\n\n```\n```\n\n**Sources:** [src/main.rs395-493](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L395-L493) [src/consensus.rs45-283](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L45-L283) [lib/storage/src/content\\_manager/consensus\\_manager.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/content_manager/consensus_manager.rs)\n\n---",
    "metadata": {
      "chunk_id": "3bdbcd648444-0007",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Distributed Mode"
      ],
      "heading_text": "Distributed Mode",
      "token_count": 169,
      "char_count": 653,
      "start_char": 11270,
      "end_char": 11923,
      "semantic_score": 0.6,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5471428571428572,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.783878",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "Distributed Mode",
      "chunk_hash": "2b8fa49c3fe64286",
      "content_digest": "2b8fa49c3fe64286",
      "chunk_length": 653,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "qdrant",
          "consensus",
          "manager",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "distributed",
          "mode",
          "the",
          "metadata",
          "operations",
          "main",
          "lib",
          "storage",
          "content",
          "when",
          "cluster"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 6,
            "weight": 0.072289
          },
          {
            "term": "qdrant",
            "tf": 6,
            "weight": 0.072289
          },
          {
            "term": "consensus",
            "tf": 5,
            "weight": 0.060241
          },
          {
            "term": "manager",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "48203e41",
            "tf": 3,
            "weight": 0.036145
          },
          {
            "term": "distributed",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "mode",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "metadata",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "operations",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "main",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "lib",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "storage",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "content",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "when",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "cluster",
            "tf": 1,
            "weight": 0.012048
          }
        ],
        "unique_terms": 47,
        "total_terms": 83
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Distributed Mode",
        "blob",
        "com",
        "consensus",
        "distributed",
        "github",
        "https",
        "manager",
        "qdrant",
        "src"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5471428571428572,
      "overall": 0.649047619047619
    }
  },
  {
    "text": "## API Layer\n\nThe API layer provides REST and gRPC interfaces for client communication. Both protocols expose equivalent functionality.",
    "metadata": {
      "chunk_id": "3bdbcd648444-0008",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "API Layer"
      ],
      "heading_text": "API Layer",
      "token_count": 23,
      "char_count": 135,
      "start_char": 11925,
      "end_char": 12060,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5584210526315789,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.783967",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "API Layer",
      "chunk_hash": "f3c13f247c16a84d",
      "content_digest": "f3c13f247c16a84d",
      "chunk_length": 135,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "api",
          "layer",
          "the",
          "provides",
          "rest",
          "and",
          "grpc",
          "interfaces",
          "for",
          "client",
          "communication",
          "both",
          "protocols",
          "expose",
          "equivalent",
          "functionality"
        ],
        "term_weights": [
          {
            "term": "api",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "layer",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "rest",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "grpc",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "interfaces",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "client",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "communication",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "both",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "protocols",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "expose",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "equivalent",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "functionality",
            "tf": 1,
            "weight": 0.055556
          }
        ],
        "unique_terms": 16,
        "total_terms": 18
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "API Layer",
        "and",
        "api",
        "client",
        "for",
        "grpc",
        "interfaces",
        "layer",
        "provides",
        "rest",
        "the"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5584210526315789,
      "overall": 0.7194736842105263
    }
  },
  {
    "text": "### gRPC API (Tonic)  The gRPC API runs on port 6334 (configurable via `service.grpc_port`) and uses the Tonic framework. It provides:  - **Public gRPC services:** `QdrantServer`, `CollectionsServer`, `PointsServer`, `SnapshotsServer` - **Internal gRPC services:** `QdrantInternalServer`, `RaftServer` (for peer-to-peer communication)  **Key components:**  - **Entry point:** `tonic::init` in [src/tonic/mod.rs147-240](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/mod.rs#L147-L240) - **Service implementations:** [src/tonic/api/](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/api/) - **Internal P2P port:** Configured via `cluster.p2p.port` [config/config.yaml306-308](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L306-L308)  **Sources:** [src/tonic/mod.rs1-290](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/mod.rs#L1-L290) [config/config.yaml248-251](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L248-L251)",
    "metadata": {
      "chunk_id": "3bdbcd648444-0010",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "gRPC API (Tonic)"
      ],
      "heading_text": "gRPC API (Tonic)",
      "token_count": 310,
      "char_count": 984,
      "start_char": 13365,
      "end_char": 14349,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5339836065573771,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.785100",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "gRPC API (Tonic)",
      "chunk_hash": "aee1298a77e7d556",
      "content_digest": "aee1298a77e7d556",
      "chunk_length": 984,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "tonic",
          "config",
          "src",
          "grpc",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "api",
          "port",
          "mod",
          "the",
          "via",
          "service",
          "services",
          "internal",
          "peer",
          "p2p"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.076336
          },
          {
            "term": "tonic",
            "tf": 9,
            "weight": 0.068702
          },
          {
            "term": "config",
            "tf": 8,
            "weight": 0.061069
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.045802
          },
          {
            "term": "grpc",
            "tf": 5,
            "weight": 0.038168
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.038168
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.038168
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.038168
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.038168
          },
          {
            "term": "48203e41",
            "tf": 5,
            "weight": 0.038168
          },
          {
            "term": "api",
            "tf": 4,
            "weight": 0.030534
          },
          {
            "term": "port",
            "tf": 4,
            "weight": 0.030534
          },
          {
            "term": "mod",
            "tf": 4,
            "weight": 0.030534
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.015267
          },
          {
            "term": "via",
            "tf": 2,
            "weight": 0.015267
          },
          {
            "term": "service",
            "tf": 2,
            "weight": 0.015267
          },
          {
            "term": "services",
            "tf": 2,
            "weight": 0.015267
          },
          {
            "term": "internal",
            "tf": 2,
            "weight": 0.015267
          },
          {
            "term": "peer",
            "tf": 2,
            "weight": 0.015267
          },
          {
            "term": "p2p",
            "tf": 2,
            "weight": 0.015267
          }
        ],
        "unique_terms": 61,
        "total_terms": 131
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "blob",
        "com",
        "config",
        "gRPC API (Tonic)",
        "github",
        "grpc",
        "https",
        "qdrant",
        "src",
        "tonic"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5339836065573771,
      "overall": 0.6779945355191256
    }
  },
  {
    "text": "### TableOfContent\n\nThe `TableOfContent` (TOC) manages all collections in the system. It acts as the collection registry and provides methods for collection lifecycle management.\n\n**Code entity:** `storage::content_manager::toc::TableOfContent` in [lib/storage/src/content\\_manager/toc/mod.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/content_manager/toc/mod.rs)\n\n**Key responsibilities:**\n\n- Collection creation, deletion, and updates\n- Collection metadata persistence\n- Collection access control\n- Coordinating collection operations across the cluster\n\n**Initialization** in [src/main.rs365-377](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L365-L377):\n\n```\nlet toc = TableOfContent::new(\n    &settings.storage,\n    search_runtime,\n    update_runtime,\n    general_runtime,\n    optimizer_resource_budget,\n    channel_service.clone(),\n    persistent_consensus_state.this_peer_id(),\n    propose_operation_sender.clone(),\n);\n```\n\n**Sources:** [lib/storage/src/content\\_manager/toc/mod.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/content_manager/toc/mod.rs) [src/main.rs365-383](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L365-L383)\n\n---",
    "metadata": {
      "chunk_id": "3bdbcd648444-0015",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "TableOfContent"
      ],
      "heading_text": "TableOfContent",
      "token_count": 293,
      "char_count": 1209,
      "start_char": 17326,
      "end_char": 18535,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5251351351351351,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.787143",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "TableOfContent",
      "chunk_hash": "2d248c163b0c373d",
      "content_digest": "2d248c163b0c373d",
      "chunk_length": 1209,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "qdrant",
          "toc",
          "collection",
          "storage",
          "content",
          "manager",
          "tableofcontent",
          "the",
          "lib",
          "mod",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "main",
          "runtime",
          "and",
          "rs365"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 8,
            "weight": 0.054422
          },
          {
            "term": "qdrant",
            "tf": 8,
            "weight": 0.054422
          },
          {
            "term": "toc",
            "tf": 7,
            "weight": 0.047619
          },
          {
            "term": "collection",
            "tf": 6,
            "weight": 0.040816
          },
          {
            "term": "storage",
            "tf": 6,
            "weight": 0.040816
          },
          {
            "term": "content",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "manager",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "tableofcontent",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "lib",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "mod",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "48203e41",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "main",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "runtime",
            "tf": 3,
            "weight": 0.020408
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "rs365",
            "tf": 2,
            "weight": 0.013605
          }
        ],
        "unique_terms": 73,
        "total_terms": 147
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "TableOfContent",
        "collection",
        "content",
        "lib",
        "manager",
        "qdrant",
        "src",
        "storage",
        "tableofcontent",
        "the",
        "toc"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5251351351351351,
      "overall": 0.6750450450450449
    }
  },
  {
    "text": "### Collection  A `Collection` is the primary logical container for vector data. Each collection has:  - A unique name - Configuration (vector dimensions, distance metric, etc.) - One or more shards for data partitioning - Optional shard keys for custom partitioning  **Code entity:** `collection::Collection` in [lib/collection/src/collection.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/collection.rs)  **Key components:**  - `ShardHolder` - manages shard distribution - `CollectionConfig` - collection configuration - `CollectionParams` - collection parameters  **Sources:** [lib/collection/src/collection.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/collection.rs) [lib/collection/src/config.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/config.rs)",
    "metadata": {
      "chunk_id": "3bdbcd648444-0017",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 17,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Collection"
      ],
      "heading_text": "Collection",
      "token_count": 197,
      "char_count": 826,
      "start_char": 18568,
      "end_char": 19394,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5049253731343283,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.787535",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "Collection",
      "chunk_hash": "edf19ed678a4ac32",
      "content_digest": "edf19ed678a4ac32",
      "chunk_length": 826,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "collection",
          "lib",
          "src",
          "qdrant",
          "for",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "vector",
          "data",
          "configuration",
          "partitioning",
          "shard",
          "config",
          "the",
          "primary",
          "logical",
          "container"
        ],
        "term_weights": [
          {
            "term": "collection",
            "tf": 17,
            "weight": 0.180851
          },
          {
            "term": "lib",
            "tf": 6,
            "weight": 0.06383
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.06383
          },
          {
            "term": "qdrant",
            "tf": 6,
            "weight": 0.06383
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.031915
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.031915
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.031915
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.031915
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.031915
          },
          {
            "term": "48203e41",
            "tf": 3,
            "weight": 0.031915
          },
          {
            "term": "vector",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "data",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "configuration",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "partitioning",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "shard",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "config",
            "tf": 2,
            "weight": 0.021277
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.010638
          },
          {
            "term": "primary",
            "tf": 1,
            "weight": 0.010638
          },
          {
            "term": "logical",
            "tf": 1,
            "weight": 0.010638
          },
          {
            "term": "container",
            "tf": 1,
            "weight": 0.010638
          }
        ],
        "unique_terms": 45,
        "total_terms": 94
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Collection",
        "blob",
        "collection",
        "com",
        "for",
        "github",
        "https",
        "lib",
        "qdrant",
        "src"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5049253731343283,
      "overall": 0.6683084577114428
    }
  },
  {
    "text": "### LocalShard\n\nA `LocalShard` is the core data-holding component on each peer. It contains:\n\n- `SegmentHolder` - manages multiple segments\n- `RecoverableWal` - write-ahead log for durability\n- `UpdateHandler` - background optimization workers\n- `LocalShardClocks` - logical clocks for update ordering\n\n**Code entity:** `collection::shards::local_shard::LocalShard` in [lib/collection/src/shards/local\\_shard/mod.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/shards/local_shard/mod.rs)\n\n```\n```\n\n**Update flow:**\n\n1. Write to WAL [lib/collection/src/shards/local\\_shard/mod.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/shards/local_shard/mod.rs)\n2. Apply to segments via `SegmentHolder`\n3. Trigger optimization check via `UpdateHandler`\n\n**Sources:** [lib/collection/src/shards/local\\_shard/mod.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/shards/local_shard/mod.rs) [lib/collection/src/shards/update\\_tracker.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/shards/update_tracker.rs)",
    "metadata": {
      "chunk_id": "3bdbcd648444-0021",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 21,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "LocalShard"
      ],
      "heading_text": "LocalShard",
      "token_count": 294,
      "char_count": 1079,
      "start_char": 21195,
      "end_char": 22274,
      "semantic_score": 0.6,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5171428571428571,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.789105",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "LocalShard",
      "chunk_hash": "840195f9e012a9f6",
      "content_digest": "840195f9e012a9f6",
      "chunk_length": 1079,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "collection",
          "shards",
          "lib",
          "src",
          "qdrant",
          "local",
          "shard",
          "mod",
          "update",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "localshard",
          "segmentholder",
          "segments",
          "write",
          "for",
          "updatehandler"
        ],
        "term_weights": [
          {
            "term": "collection",
            "tf": 9,
            "weight": 0.067669
          },
          {
            "term": "shards",
            "tf": 9,
            "weight": 0.067669
          },
          {
            "term": "lib",
            "tf": 8,
            "weight": 0.06015
          },
          {
            "term": "src",
            "tf": 8,
            "weight": 0.06015
          },
          {
            "term": "qdrant",
            "tf": 8,
            "weight": 0.06015
          },
          {
            "term": "local",
            "tf": 7,
            "weight": 0.052632
          },
          {
            "term": "shard",
            "tf": 7,
            "weight": 0.052632
          },
          {
            "term": "mod",
            "tf": 6,
            "weight": 0.045113
          },
          {
            "term": "update",
            "tf": 4,
            "weight": 0.030075
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.030075
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.030075
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.030075
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.030075
          },
          {
            "term": "48203e41",
            "tf": 4,
            "weight": 0.030075
          },
          {
            "term": "localshard",
            "tf": 3,
            "weight": 0.022556
          },
          {
            "term": "segmentholder",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "segments",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "write",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.015038
          },
          {
            "term": "updatehandler",
            "tf": 2,
            "weight": 0.015038
          }
        ],
        "unique_terms": 51,
        "total_terms": 133
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "LocalShard",
        "collection",
        "https",
        "lib",
        "local",
        "mod",
        "qdrant",
        "shard",
        "shards",
        "src",
        "update"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5171428571428571,
      "overall": 0.639047619047619
    }
  },
  {
    "text": "### SegmentHolder  The `SegmentHolder` manages all segments within a shard and coordinates segment-level operations. **Code entity:** `collection::shards::segment_holder::SegmentHolder` in [lib/collection/src/shards/local\\_shard/segment\\_holder.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/shards/local_shard/segment_holder.rs)  **Key operations:**  - Read operations across all segments - Append-only segments for new data - Locked segments during optimization - Segment replacement during optimization  **Sources:** [lib/collection/src/shards/local\\_shard/segment\\_holder.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/shards/local_shard/segment_holder.rs)  ---",
    "metadata": {
      "chunk_id": "3bdbcd648444-0023",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 23,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "SegmentHolder"
      ],
      "heading_text": "SegmentHolder",
      "token_count": 167,
      "char_count": 711,
      "start_char": 23112,
      "end_char": 23823,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5247826086956522,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.789822",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "SegmentHolder",
      "chunk_hash": "260c587289bf7c0f",
      "content_digest": "260c587289bf7c0f",
      "chunk_length": 711,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "segment",
          "shard",
          "collection",
          "shards",
          "holder",
          "segments",
          "lib",
          "src",
          "local",
          "qdrant",
          "segmentholder",
          "operations",
          "all",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "during",
          "optimization"
        ],
        "term_weights": [
          {
            "term": "segment",
            "tf": 7,
            "weight": 0.079545
          },
          {
            "term": "shard",
            "tf": 5,
            "weight": 0.056818
          },
          {
            "term": "collection",
            "tf": 5,
            "weight": 0.056818
          },
          {
            "term": "shards",
            "tf": 5,
            "weight": 0.056818
          },
          {
            "term": "holder",
            "tf": 5,
            "weight": 0.056818
          },
          {
            "term": "segments",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "lib",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "local",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "qdrant",
            "tf": 4,
            "weight": 0.045455
          },
          {
            "term": "segmentholder",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "operations",
            "tf": 3,
            "weight": 0.034091
          },
          {
            "term": "all",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "48203e41",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "during",
            "tf": 2,
            "weight": 0.022727
          },
          {
            "term": "optimization",
            "tf": 2,
            "weight": 0.022727
          }
        ],
        "unique_terms": 39,
        "total_terms": 88
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "SegmentHolder",
        "collection",
        "holder",
        "lib",
        "local",
        "qdrant",
        "segment",
        "segments",
        "shard",
        "shards",
        "src"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5247826086956522,
      "overall": 0.7082608695652173
    }
  },
  {
    "text": "### Write-Ahead Log\n\nThe WAL ensures durability by persisting operations before applying them to segments.\n\n**Code entity:** `wal::RecoverableWal` from external crate [Cargo.toml70](https://github.com/qdrant/qdrant/blob/48203e41/Cargo.toml#L70-L70) and [Cargo.toml275](https://github.com/qdrant/qdrant/blob/48203e41/Cargo.toml#L275-L275)\n\n**Configuration:** [config/config.yaml49-56](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L49-L56)\n\n**Sources:** [lib/collection/src/shards/local\\_shard/mod.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/shards/local_shard/mod.rs) [config/config.yaml49-56](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L49-L56)\n\n---",
    "metadata": {
      "chunk_id": "3bdbcd648444-0028",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 28,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Write-Ahead Log"
      ],
      "heading_text": "Write-Ahead Log",
      "token_count": 215,
      "char_count": 719,
      "start_char": 26853,
      "end_char": 27572,
      "semantic_score": 0.6,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.58,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.792032",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "Write-Ahead Log",
      "chunk_hash": "d313faf0f773110c",
      "content_digest": "d313faf0f773110c",
      "chunk_length": 719,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "config",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "cargo",
          "wal",
          "toml",
          "l70",
          "l275",
          "yaml49",
          "yaml",
          "l49",
          "l56",
          "lib",
          "collection",
          "src",
          "shards"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.1
          },
          {
            "term": "config",
            "tf": 8,
            "weight": 0.08
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.05
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.05
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.05
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.05
          },
          {
            "term": "48203e41",
            "tf": 5,
            "weight": 0.05
          },
          {
            "term": "cargo",
            "tf": 4,
            "weight": 0.04
          },
          {
            "term": "wal",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "toml",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "l70",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "l275",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "yaml49",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "yaml",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "l49",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "l56",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "lib",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "collection",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.02
          },
          {
            "term": "shards",
            "tf": 2,
            "weight": 0.02
          }
        ],
        "unique_terms": 46,
        "total_terms": 100
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Write-Ahead Log",
        "blob",
        "cargo",
        "com",
        "config",
        "github",
        "https",
        "qdrant",
        "toml",
        "wal"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.58,
      "overall": 0.66
    }
  },
  {
    "text": "### Runtime Separation\n\n```\n```\n\n**Runtime creation** in [src/main.rs309-322](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L309-L322):\n\n```\nlet search_runtime = create_search_runtime(settings.storage.performance.max_search_threads)\nlet update_runtime = create_update_runtime(settings.storage.performance.max_optimization_runtime_threads)\nlet general_runtime = create_general_purpose_runtime()\n```\n\n**Runtime functions:**\n\n- `create_search_runtime` - [src/common/helpers.rs20-32](https://github.com/qdrant/qdrant/blob/48203e41/src/common/helpers.rs#L20-L32)\n- `create_update_runtime` - [src/common/helpers.rs34-50](https://github.com/qdrant/qdrant/blob/48203e41/src/common/helpers.rs#L34-L50)\n- `create_general_purpose_runtime` - [src/common/helpers.rs52-63](https://github.com/qdrant/qdrant/blob/48203e41/src/common/helpers.rs#L52-L63)\n\n**Sources:** [src/main.rs309-322](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L309-L322) [src/common/helpers.rs20-63](https://github.com/qdrant/qdrant/blob/48203e41/src/common/helpers.rs#L20-L63) [config/config.yaml64-96](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L64-L96)",
    "metadata": {
      "chunk_id": "3bdbcd648444-0030",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 30,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Runtime Separation"
      ],
      "heading_text": "Runtime Separation",
      "token_count": 328,
      "char_count": 1162,
      "start_char": 27660,
      "end_char": 28822,
      "semantic_score": 0.6,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5032780487804878,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.792593",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "Runtime Separation",
      "chunk_hash": "408f828dab6817bc",
      "content_digest": "408f828dab6817bc",
      "chunk_length": 1162,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "runtime",
          "src",
          "common",
          "helpers",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "create",
          "main",
          "search",
          "config",
          "let",
          "update",
          "general",
          "rs309",
          "322",
          "l309"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 14,
            "weight": 0.088608
          },
          {
            "term": "runtime",
            "tf": 13,
            "weight": 0.082278
          },
          {
            "term": "src",
            "tf": 12,
            "weight": 0.075949
          },
          {
            "term": "common",
            "tf": 8,
            "weight": 0.050633
          },
          {
            "term": "helpers",
            "tf": 8,
            "weight": 0.050633
          },
          {
            "term": "https",
            "tf": 7,
            "weight": 0.044304
          },
          {
            "term": "github",
            "tf": 7,
            "weight": 0.044304
          },
          {
            "term": "com",
            "tf": 7,
            "weight": 0.044304
          },
          {
            "term": "blob",
            "tf": 7,
            "weight": 0.044304
          },
          {
            "term": "48203e41",
            "tf": 7,
            "weight": 0.044304
          },
          {
            "term": "create",
            "tf": 6,
            "weight": 0.037975
          },
          {
            "term": "main",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "search",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "config",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "let",
            "tf": 3,
            "weight": 0.018987
          },
          {
            "term": "update",
            "tf": 3,
            "weight": 0.018987
          },
          {
            "term": "general",
            "tf": 3,
            "weight": 0.018987
          },
          {
            "term": "rs309",
            "tf": 2,
            "weight": 0.012658
          },
          {
            "term": "322",
            "tf": 2,
            "weight": 0.012658
          },
          {
            "term": "l309",
            "tf": 2,
            "weight": 0.012658
          }
        ],
        "unique_terms": 45,
        "total_terms": 158
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Runtime Separation",
        "blob",
        "com",
        "common",
        "github",
        "helpers",
        "https",
        "qdrant",
        "runtime",
        "src"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5032780487804878,
      "overall": 0.6344260162601626
    }
  },
  {
    "text": "### Resource Budgets\n\nQdrant uses CPU and IO budgets to control resource usage during optimization:\n\n**CPU Budget:** Configured via `optimizer_cpu_budget` [config/config.yaml68-72](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L68-L72)\n\n- If `0`: auto-select, reserve CPUs based on system size\n- If negative: subtract this number from available CPUs\n- If positive: use this exact number of CPUs\n\n**IO Budget:** Configured via `optimizer_io_budget` [lib/storage/src/types.rs43-48](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/types.rs#L43-L48)\n\n- Controls parallel IO operations during optimization\n- Defaults to one IO operation per CPU\n\n**Budget initialization** in [src/main.rs325-327](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L325-L327):\n\n```\nlet cpu_budget = get_cpu_budget(settings.storage.performance.optimizer_cpu_budget);\nlet io_budget = get_io_budget(settings.storage.performance.optimizer_io_budget, cpu_budget);\nlet optimizer_resource_budget = ResourceBudget::new(cpu_budget, io_budget);\n```\n\n**Sources:** [src/main.rs325-327](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L325-L327) [lib/common/common/src/cpu.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/common/common/src/cpu.rs) [lib/common/common/src/budget.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/common/common/src/budget.rs)\n\n---",
    "metadata": {
      "chunk_id": "3bdbcd648444-0031",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 31,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Resource Budgets"
      ],
      "heading_text": "Resource Budgets",
      "token_count": 357,
      "char_count": 1390,
      "start_char": 28824,
      "end_char": 30214,
      "semantic_score": 0.7,
      "structural_score": 0.7999999999999998,
      "retrieval_quality": 0.5281526315789473,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.793111",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "Resource Budgets",
      "chunk_hash": "60665cd239f94b63",
      "content_digest": "60665cd239f94b63",
      "chunk_length": 1390,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "budget",
          "qdrant",
          "cpu",
          "src",
          "common",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "lib",
          "optimizer",
          "config",
          "storage",
          "main",
          "resource",
          "cpus",
          "let",
          "budgets",
          "during"
        ],
        "term_weights": [
          {
            "term": "budget",
            "tf": 17,
            "weight": 0.091398
          },
          {
            "term": "qdrant",
            "tf": 13,
            "weight": 0.069892
          },
          {
            "term": "cpu",
            "tf": 11,
            "weight": 0.05914
          },
          {
            "term": "src",
            "tf": 10,
            "weight": 0.053763
          },
          {
            "term": "common",
            "tf": 8,
            "weight": 0.043011
          },
          {
            "term": "https",
            "tf": 6,
            "weight": 0.032258
          },
          {
            "term": "github",
            "tf": 6,
            "weight": 0.032258
          },
          {
            "term": "com",
            "tf": 6,
            "weight": 0.032258
          },
          {
            "term": "blob",
            "tf": 6,
            "weight": 0.032258
          },
          {
            "term": "48203e41",
            "tf": 6,
            "weight": 0.032258
          },
          {
            "term": "lib",
            "tf": 6,
            "weight": 0.032258
          },
          {
            "term": "optimizer",
            "tf": 5,
            "weight": 0.026882
          },
          {
            "term": "config",
            "tf": 4,
            "weight": 0.021505
          },
          {
            "term": "storage",
            "tf": 4,
            "weight": 0.021505
          },
          {
            "term": "main",
            "tf": 4,
            "weight": 0.021505
          },
          {
            "term": "resource",
            "tf": 3,
            "weight": 0.016129
          },
          {
            "term": "cpus",
            "tf": 3,
            "weight": 0.016129
          },
          {
            "term": "let",
            "tf": 3,
            "weight": 0.016129
          },
          {
            "term": "budgets",
            "tf": 2,
            "weight": 0.010753
          },
          {
            "term": "during",
            "tf": 2,
            "weight": 0.010753
          }
        ],
        "unique_terms": 68,
        "total_terms": 186
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": true,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Resource Budgets",
        "blob",
        "budget",
        "com",
        "common",
        "cpu",
        "github",
        "https",
        "qdrant",
        "src"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7999999999999998,
      "retrieval_quality": 0.5281526315789473,
      "overall": 0.6760508771929823
    }
  },
  {
    "text": "## Configuration  The system is configured via YAML files with environment variable overrides. The configuration hierarchy is:  1. Compile-time defaults [src/settings.rs20](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L20-L20) 2. `config/config.yaml` [config/config.yaml1-355](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L1-L355) 3. Environment-specific config (e.g., `config/development.yaml`) 4. Local config `config/local.yaml` (not tracked in git) 5. Custom config via `--config-path` CLI argument 6. Environment variables prefixed with `QDRANT__`  **Configuration loading** in [src/settings.rs230-285](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L230-L285)  **Key configuration sections:**  - `storage` - storage paths, performance, optimizers - `service` - HTTP/gRPC ports, TLS, API keys - `cluster` - distributed mode, consensus, P2P - `log_level` - logging configuration  **Sources:** [src/settings.rs196-326](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L196-L326) [config/config.yaml1-355](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L1-L355)  Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "3bdbcd648444-0035",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 35,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration"
      ],
      "heading_text": "Configuration",
      "token_count": 332,
      "char_count": 1203,
      "start_char": 31323,
      "end_char": 32526,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5396,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.794930",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "Configuration",
      "chunk_hash": "c3bdaf82427f95f0",
      "content_digest": "c3bdaf82427f95f0",
      "chunk_length": 1203,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "config",
          "qdrant",
          "yaml",
          "src",
          "settings",
          "configuration",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "environment",
          "the",
          "via",
          "with",
          "l20",
          "yaml1",
          "355",
          "l355",
          "local"
        ],
        "term_weights": [
          {
            "term": "config",
            "tf": 16,
            "weight": 0.103896
          },
          {
            "term": "qdrant",
            "tf": 11,
            "weight": 0.071429
          },
          {
            "term": "yaml",
            "tf": 6,
            "weight": 0.038961
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.038961
          },
          {
            "term": "settings",
            "tf": 6,
            "weight": 0.038961
          },
          {
            "term": "configuration",
            "tf": 5,
            "weight": 0.032468
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.032468
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.032468
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.032468
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.032468
          },
          {
            "term": "48203e41",
            "tf": 5,
            "weight": 0.032468
          },
          {
            "term": "environment",
            "tf": 3,
            "weight": 0.019481
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.012987
          },
          {
            "term": "via",
            "tf": 2,
            "weight": 0.012987
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.012987
          },
          {
            "term": "l20",
            "tf": 2,
            "weight": 0.012987
          },
          {
            "term": "yaml1",
            "tf": 2,
            "weight": 0.012987
          },
          {
            "term": "355",
            "tf": 2,
            "weight": 0.012987
          },
          {
            "term": "l355",
            "tf": 2,
            "weight": 0.012987
          },
          {
            "term": "local",
            "tf": 2,
            "weight": 0.012987
          }
        ],
        "unique_terms": 78,
        "total_terms": 154
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Configuration",
        "blob",
        "com",
        "config",
        "configuration",
        "github",
        "https",
        "qdrant",
        "settings",
        "src",
        "yaml"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5396,
      "overall": 0.6798666666666667
    }
  },
  {
    "text": "### On this page  - [System Architecture](#system-architecture.md) - [Purpose and Scope](#purpose-and-scope.md) - [Architectural Overview](#architectural-overview.md) - [System Layers](#system-layers.md) - [Layer Responsibilities](#layer-responsibilities.md) - [Deployment Modes](#deployment-modes.md) - [Standalone Mode](#standalone-mode.md) - [Distributed Mode](#distributed-mode.md) - [API Layer](#api-layer.md) - [REST API (Actix-web)](#rest-api-actix-web.md) - [gRPC API (Tonic)](#grpc-api-tonic.md) - [Authentication and Authorization](#authentication-and-authorization.md) - [Service Orchestration Layer](#service-orchestration-layer.md) - [Dispatcher](#dispatcher.md) - [ConsensusManager](#consensusmanager.md) - [TableOfContent](#tableofcontent.md) - [Collection and Shard Layer](#collection-and-shard-layer.md) - [Collection](#collection.md) - [ShardHolder](#shardholder.md) - [ShardReplicaSet](#shardreplicaset.md) - [Shard and Segment Layer](#shard-and-segment-layer.md) - [LocalShard](#localshard.md) - [Segment](#segment.md) - [SegmentHolder](#segmentholder.md) - [Storage and Index Layer](#storage-and-index-layer.md) - [Vector Storage](#vector-storage.md) - [Vector Indices](#vector-indices.md) - [Payload Storage and Indices](#payload-storage-and-indices.md) - [Write-Ahead Log](#write-ahead-log.md) - [Runtime Architecture](#runtime-architecture.md) - [Runtime Separation](#runtime-separation.md) - [Resource Budgets](#resource-budgets.md) - [Data Flow Overview](#data-flow-overview.md) - [Write Path](#write-path.md) - [Search Path](#search-path.md) - [Configuration](#configuration.md)",
    "metadata": {
      "chunk_id": "3bdbcd648444-0036",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "filename": "_qdrant_qdrant_2-system-architecture.md",
      "file_extension": ".md",
      "chunk_index": 36,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "On this page"
      ],
      "heading_text": "On this page",
      "token_count": 444,
      "char_count": 1605,
      "start_char": 32528,
      "end_char": 34133,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5194068965517241,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T09:14:14.795840",
      "document_id": "3bdbcd648444",
      "document_name": "_qdrant_qdrant_2-system-architecture",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "source_filename": "_qdrant_qdrant_2-system-architecture.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_qdrant",
      "relative_path": "Docs\\qdrant_ecosystem\\qdrant_qdrant\\_qdrant_qdrant_2-system-architecture.md",
      "hierarchy_path": "On this page",
      "chunk_hash": "16140b6ce34b96e9",
      "content_digest": "16140b6ce34b96e9",
      "chunk_length": 1605,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "and",
          "layer",
          "api",
          "storage",
          "system",
          "architecture",
          "overview",
          "mode",
          "collection",
          "shard",
          "segment",
          "vector",
          "indices",
          "write",
          "runtime",
          "path",
          "purpose",
          "scope",
          "architectural",
          "layers"
        ],
        "term_weights": [
          {
            "term": "and",
            "tf": 12,
            "weight": 0.075949
          },
          {
            "term": "layer",
            "tf": 12,
            "weight": 0.075949
          },
          {
            "term": "api",
            "tf": 6,
            "weight": 0.037975
          },
          {
            "term": "storage",
            "tf": 6,
            "weight": 0.037975
          },
          {
            "term": "system",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "architecture",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "overview",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "mode",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "collection",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "shard",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "segment",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "vector",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "indices",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "write",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "runtime",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "path",
            "tf": 4,
            "weight": 0.025316
          },
          {
            "term": "purpose",
            "tf": 2,
            "weight": 0.012658
          },
          {
            "term": "scope",
            "tf": 2,
            "weight": 0.012658
          },
          {
            "term": "architectural",
            "tf": 2,
            "weight": 0.012658
          },
          {
            "term": "layers",
            "tf": 2,
            "weight": 0.012658
          }
        ],
        "unique_terms": 54,
        "total_terms": 158
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "On this page",
        "and",
        "api",
        "architecture",
        "collection",
        "layer",
        "mode",
        "overview",
        "shard",
        "storage",
        "system"
      ]
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5194068965517241,
      "overall": 0.673135632183908
    }
  }
]