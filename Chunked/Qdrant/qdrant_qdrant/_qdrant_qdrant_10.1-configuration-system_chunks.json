[
  {
    "text": "## Configuration Loading Flow  The configuration system employs a layered loading strategy where each subsequent source can override values from previous sources. This design allows for flexible deployment scenarios while maintaining sensible defaults. ``` ``` Sources: [src/settings.rs230-286](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L230-L286) [src/main.rs152](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L152-L152)  The configuration loading process is implemented in the `Settings::new()` method, which uses the `config` crate to build a layered configuration hierarchy. Each layer can override values from the previous layer, with environment variables having the highest priority.",
    "metadata": {
      "chunk_id": "a2eee57398e0-0001",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration Loading Flow"
      ],
      "heading_text": "Configuration Loading Flow",
      "token_count": 152,
      "char_count": 724,
      "start_char": 5424,
      "end_char": 6148,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.514,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.149268",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 152,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Configuration Loading Flow",
      "chunk_hash": "514192d0dbe91665",
      "content_digest": "514192d0dbe91665",
      "chunk_length": 724,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "the",
          "configuration",
          "src",
          "qdrant",
          "loading",
          "settings",
          "layered",
          "each",
          "can",
          "override",
          "values",
          "from",
          "previous",
          "sources",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "main"
        ],
        "term_weights": [
          {
            "term": "the",
            "tf": 6,
            "weight": 0.063158
          },
          {
            "term": "configuration",
            "tf": 4,
            "weight": 0.042105
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.042105
          },
          {
            "term": "qdrant",
            "tf": 4,
            "weight": 0.042105
          },
          {
            "term": "loading",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "settings",
            "tf": 3,
            "weight": 0.031579
          },
          {
            "term": "layered",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "each",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "can",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "override",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "values",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "from",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "previous",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "sources",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "48203e41",
            "tf": 2,
            "weight": 0.021053
          },
          {
            "term": "main",
            "tf": 2,
            "weight": 0.021053
          }
        ],
        "unique_terms": 61,
        "total_terms": 95
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Configuration Loading Flow",
        "can",
        "configuration",
        "each",
        "layered",
        "loading",
        "override",
        "qdrant",
        "settings",
        "src",
        "the"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.514,
      "overall": 0.7046666666666667
    }
  },
  {
    "text": "## Configuration Structure Hierarchy  The `Settings` struct serves as the root configuration object and contains multiple nested configuration sections, each responsible for a specific domain of the application. ``` ``` Sources: [src/settings.rs196-227](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L196-L227) [lib/storage/src/types.rs62-114](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/types.rs#L62-L114) [src/settings.rs22-60](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L22-L60) [src/settings.rs68-88](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L68-L88) [src/settings.rs111-127](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L111-L127)",
    "metadata": {
      "chunk_id": "a2eee57398e0-0002",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration Structure Hierarchy"
      ],
      "heading_text": "Configuration Structure Hierarchy",
      "token_count": 207,
      "char_count": 731,
      "start_char": 6152,
      "end_char": 6883,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5483333333333333,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.151326",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 207,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Configuration Structure Hierarchy",
      "chunk_hash": "cfbb12cfae23bb17",
      "content_digest": "cfbb12cfae23bb17",
      "chunk_length": 731,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "qdrant",
          "settings",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "configuration",
          "the",
          "lib",
          "storage",
          "types",
          "structure",
          "hierarchy",
          "struct",
          "serves",
          "root",
          "object",
          "and"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 10,
            "weight": 0.098039
          },
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.098039
          },
          {
            "term": "settings",
            "tf": 9,
            "weight": 0.088235
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.04902
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.04902
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.04902
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.04902
          },
          {
            "term": "48203e41",
            "tf": 5,
            "weight": 0.04902
          },
          {
            "term": "configuration",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.029412
          },
          {
            "term": "lib",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "storage",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "types",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "structure",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "hierarchy",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "struct",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "serves",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "root",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "object",
            "tf": 1,
            "weight": 0.009804
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.009804
          }
        ],
        "unique_terms": 49,
        "total_terms": 102
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Configuration Structure Hierarchy",
        "blob",
        "com",
        "configuration",
        "github",
        "https",
        "qdrant",
        "settings",
        "src",
        "the"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5483333333333333,
      "overall": 0.6827777777777778
    }
  },
  {
    "text": "## Configuration Sections",
    "metadata": {
      "chunk_id": "a2eee57398e0-0003",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration Sections"
      ],
      "heading_text": "Configuration Sections",
      "token_count": 3,
      "char_count": 25,
      "start_char": 6887,
      "end_char": 6912,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.151915",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 3,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Configuration Sections",
      "chunk_hash": "220ca45a7d54cb13",
      "content_digest": "220ca45a7d54cb13",
      "chunk_length": 25,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "configuration",
          "sections"
        ],
        "term_weights": [
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.5
          },
          {
            "term": "sections",
            "tf": 1,
            "weight": 0.5
          }
        ],
        "unique_terms": 2,
        "total_terms": 2
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Configuration Sections",
        "configuration",
        "sections"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "## Environment Variable Overrides  Environment variables provide the highest-priority configuration source and use a double-underscore (`__`) separator to represent nested configuration paths. ``` ``` Sources: [src/settings.rs280](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L280-L280)  Common environment variable patterns:  | Environment Variable            | Configuration Path     | Example Value             | | ------------------------------- | ---------------------- | ------------------------- | | `QDRANT__LOG_LEVEL`             | `log_level`            | `INFO`, `DEBUG`           | | `QDRANT__SERVICE__HOST`         | `service.host`         | `0.0.0.0`                 | | `QDRANT__SERVICE__HTTP_PORT`    | `service.http_port`    | `6333`                    | | `QDRANT__SERVICE__GRPC_PORT`    | `service.grpc_port`    | `6334`                    | | `QDRANT__SERVICE__API_KEY`      | `service.api_key`      | `secret_key`              | | `QDRANT__CLUSTER__ENABLED`      | `cluster.enabled`      | `true`                    | | `QDRANT__CLUSTER__P2P__PORT`    | `cluster.p2p.port`     | `6335`                    | | `QDRANT__STORAGE__STORAGE_PATH` | `storage.storage_path` | `/var/lib/qdrant/storage` |  The environment variable system is case-insensitive and automatically converts between snake\\_case in YAML and the double-underscore notation. Sources: [src/settings.rs280](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L280-L280)",
    "metadata": {
      "chunk_id": "a2eee57398e0-0008",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Environment Variable Overrides"
      ],
      "heading_text": "Environment Variable Overrides",
      "token_count": 372,
      "char_count": 1482,
      "start_char": 12348,
      "end_char": 13830,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.6750146341463416,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.170345",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 372,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Environment Variable Overrides",
      "chunk_hash": "fca0b60e1f8f738b",
      "content_digest": "fca0b60e1f8f738b",
      "chunk_length": 1482,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "service",
          "port",
          "environment",
          "storage",
          "variable",
          "src",
          "settings",
          "l280",
          "cluster",
          "the",
          "configuration",
          "and",
          "path",
          "key",
          "double",
          "underscore",
          "sources",
          "rs280",
          "https"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 13,
            "weight": 0.092857
          },
          {
            "term": "service",
            "tf": 8,
            "weight": 0.057143
          },
          {
            "term": "port",
            "tf": 6,
            "weight": 0.042857
          },
          {
            "term": "environment",
            "tf": 5,
            "weight": 0.035714
          },
          {
            "term": "storage",
            "tf": 5,
            "weight": 0.035714
          },
          {
            "term": "variable",
            "tf": 4,
            "weight": 0.028571
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.028571
          },
          {
            "term": "settings",
            "tf": 4,
            "weight": 0.028571
          },
          {
            "term": "l280",
            "tf": 4,
            "weight": 0.028571
          },
          {
            "term": "cluster",
            "tf": 4,
            "weight": 0.028571
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "configuration",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "path",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "key",
            "tf": 3,
            "weight": 0.021429
          },
          {
            "term": "double",
            "tf": 2,
            "weight": 0.014286
          },
          {
            "term": "underscore",
            "tf": 2,
            "weight": 0.014286
          },
          {
            "term": "sources",
            "tf": 2,
            "weight": 0.014286
          },
          {
            "term": "rs280",
            "tf": 2,
            "weight": 0.014286
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.014286
          }
        ],
        "unique_terms": 65,
        "total_terms": 140
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Environment Variable Overrides",
        "cluster",
        "environment",
        "l280",
        "port",
        "qdrant",
        "service",
        "settings",
        "src",
        "storage",
        "variable"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.6750146341463416,
      "overall": 0.7583382113821138
    }
  },
  {
    "text": "## Configuration Validation  The configuration system performs validation using the `validator` crate after all sources are merged and deserialized. Validation errors are logged as warnings but do not prevent service startup. ``` ``` Sources: [src/settings.rs298-325](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L298-L325) [src/settings.rs22-23](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L22-L23) [src/settings.rs68-88](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L68-L88) [lib/storage/src/types.rs62-76](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/types.rs#L62-L76)  The `Settings::validate_and_warn()` method performs additional custom validation:  1. **JWT RBAC Validation** (lines 306-317): Warns if JWT RBAC is enabled without an API key, or if the API key is shorter than the recommended 32 bytes for HMAC-SHA256. 2. **Load Error Reporting** (line 320): Reports any errors that occurred during configuration file loading (e.g., missing files). 3. **Validator Crate Validation** (lines 322-324): Runs struct-level validation rules defined via `#[validate]` attributes. Sources: [src/settings.rs298-325](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L298-L325)",
    "metadata": {
      "chunk_id": "a2eee57398e0-0009",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration Validation"
      ],
      "heading_text": "Configuration Validation",
      "token_count": 334,
      "char_count": 1259,
      "start_char": 13835,
      "end_char": 15094,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5396495412844037,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.177015",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 334,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Configuration Validation",
      "chunk_hash": "db895e566ce7690e",
      "content_digest": "db895e566ce7690e",
      "chunk_length": 1259,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "qdrant",
          "settings",
          "validation",
          "the",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "configuration",
          "sources",
          "performs",
          "validator",
          "crate",
          "are",
          "and",
          "errors",
          "rs298",
          "325"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 10,
            "weight": 0.05848
          },
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.05848
          },
          {
            "term": "settings",
            "tf": 9,
            "weight": 0.052632
          },
          {
            "term": "validation",
            "tf": 7,
            "weight": 0.040936
          },
          {
            "term": "the",
            "tf": 5,
            "weight": 0.02924
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.02924
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.02924
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.02924
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.02924
          },
          {
            "term": "48203e41",
            "tf": 5,
            "weight": 0.02924
          },
          {
            "term": "configuration",
            "tf": 3,
            "weight": 0.017544
          },
          {
            "term": "sources",
            "tf": 3,
            "weight": 0.017544
          },
          {
            "term": "performs",
            "tf": 2,
            "weight": 0.011696
          },
          {
            "term": "validator",
            "tf": 2,
            "weight": 0.011696
          },
          {
            "term": "crate",
            "tf": 2,
            "weight": 0.011696
          },
          {
            "term": "are",
            "tf": 2,
            "weight": 0.011696
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.011696
          },
          {
            "term": "errors",
            "tf": 2,
            "weight": 0.011696
          },
          {
            "term": "rs298",
            "tf": 2,
            "weight": 0.011696
          },
          {
            "term": "325",
            "tf": 2,
            "weight": 0.011696
          }
        ],
        "unique_terms": 92,
        "total_terms": 171
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Configuration Validation",
        "blob",
        "com",
        "github",
        "https",
        "qdrant",
        "settings",
        "src",
        "the",
        "validation"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5396495412844037,
      "overall": 0.6798831804281346
    }
  },
  {
    "text": "## Configuration Usage at Runtime  Once loaded and validated, the `Settings` instance is used to initialize and configure various system components during the startup sequence. ``` ``` Sources: [src/main.rs152-594](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L152-L594)  Key initialization steps using configuration:  1. **Feature Flags** (line 155): Global feature flags are initialized from `settings.feature_flags` 2. **GPU Configuration** (lines 184-208): GPU devices manager initialized if `settings.gpu.indexing` is enabled 3. **Storage Path Creation** (line 220): Creates `settings.storage.storage_path` directory 4. **Runtime Creation** (lines 309-322): Search, update, and general-purpose runtimes created based on `settings.storage.performance` 5. **Resource Budgets** (lines 325-327): CPU and IO budgets calculated from `settings.storage.performance.optimizer_cpu_budget` 6. **TableOfContent** (lines 365-374): Initialized with storage config, runtimes, and channel service 7. **Consensus State** (lines 273-278): Persistent consensus state loaded using cluster configuration 8. **API Servers** (lines 557-594): HTTP and gRPC servers initialized with service configuration  Sources: [src/main.rs152-594](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L152-L594)",
    "metadata": {
      "chunk_id": "a2eee57398e0-0010",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration Usage at Runtime"
      ],
      "heading_text": "Configuration Usage at Runtime",
      "token_count": 313,
      "char_count": 1299,
      "start_char": 15101,
      "end_char": 16400,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7329977443609023,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.183001",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 313,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Configuration Usage at Runtime",
      "chunk_hash": "de9c312f99a6fd29",
      "content_digest": "de9c312f99a6fd29",
      "chunk_length": 1299,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "and",
          "settings",
          "lines",
          "storage",
          "configuration",
          "src",
          "main",
          "qdrant",
          "initialized",
          "594",
          "feature",
          "flags",
          "gpu",
          "runtime",
          "loaded",
          "the",
          "sources",
          "rs152",
          "https",
          "github"
        ],
        "term_weights": [
          {
            "term": "and",
            "tf": 6,
            "weight": 0.036585
          },
          {
            "term": "settings",
            "tf": 6,
            "weight": 0.036585
          },
          {
            "term": "lines",
            "tf": 6,
            "weight": 0.036585
          },
          {
            "term": "storage",
            "tf": 6,
            "weight": 0.036585
          },
          {
            "term": "configuration",
            "tf": 5,
            "weight": 0.030488
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.02439
          },
          {
            "term": "main",
            "tf": 4,
            "weight": 0.02439
          },
          {
            "term": "qdrant",
            "tf": 4,
            "weight": 0.02439
          },
          {
            "term": "initialized",
            "tf": 4,
            "weight": 0.02439
          },
          {
            "term": "594",
            "tf": 3,
            "weight": 0.018293
          },
          {
            "term": "feature",
            "tf": 3,
            "weight": 0.018293
          },
          {
            "term": "flags",
            "tf": 3,
            "weight": 0.018293
          },
          {
            "term": "gpu",
            "tf": 3,
            "weight": 0.018293
          },
          {
            "term": "runtime",
            "tf": 2,
            "weight": 0.012195
          },
          {
            "term": "loaded",
            "tf": 2,
            "weight": 0.012195
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.012195
          },
          {
            "term": "sources",
            "tf": 2,
            "weight": 0.012195
          },
          {
            "term": "rs152",
            "tf": 2,
            "weight": 0.012195
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.012195
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.012195
          }
        ],
        "unique_terms": 94,
        "total_terms": 164
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "594",
        "Configuration Usage at Runtime",
        "and",
        "configuration",
        "initialized",
        "lines",
        "main",
        "qdrant",
        "settings",
        "src",
        "storage"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7329977443609023,
      "overall": 0.7443325814536341
    }
  },
  {
    "text": "## Configuration File Format  The default configuration is embedded as a YAML string in the binary and can be overridden by external files. The embedded default is located at [config/config.yaml1-355](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L1-L355)  Key sections in the default configuration: ``` ``` Sources: [config/config.yaml1-355](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L1-L355)",
    "metadata": {
      "chunk_id": "a2eee57398e0-0011",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration File Format"
      ],
      "heading_text": "Configuration File Format",
      "token_count": 109,
      "char_count": 437,
      "start_char": 16404,
      "end_char": 16841,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5075,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.188873",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 109,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Configuration File Format",
      "chunk_hash": "80a2de716c56bdc2",
      "content_digest": "80a2de716c56bdc2",
      "chunk_length": 437,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "config",
          "the",
          "qdrant",
          "configuration",
          "default",
          "yaml",
          "embedded",
          "yaml1",
          "355",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "l355",
          "file",
          "format",
          "string",
          "binary",
          "and"
        ],
        "term_weights": [
          {
            "term": "config",
            "tf": 8,
            "weight": 0.142857
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "qdrant",
            "tf": 4,
            "weight": 0.071429
          },
          {
            "term": "configuration",
            "tf": 3,
            "weight": 0.053571
          },
          {
            "term": "default",
            "tf": 3,
            "weight": 0.053571
          },
          {
            "term": "yaml",
            "tf": 3,
            "weight": 0.053571
          },
          {
            "term": "embedded",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "yaml1",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "355",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "48203e41",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "l355",
            "tf": 2,
            "weight": 0.035714
          },
          {
            "term": "file",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "format",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "string",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "binary",
            "tf": 1,
            "weight": 0.017857
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.017857
          }
        ],
        "unique_terms": 28,
        "total_terms": 56
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "355",
        "Configuration File Format",
        "config",
        "configuration",
        "default",
        "embedded",
        "https",
        "qdrant",
        "the",
        "yaml",
        "yaml1"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5075,
      "overall": 0.6691666666666666
    }
  },
  {
    "text": "## Configuration Error Handling  The configuration system tracks loading errors in the `Settings::load_errors` field and reports them after logging is initialized. This deferred error reporting ensures that configuration problems are properly logged even though they occur before the logger is configured. ``` ``` Sources: [src/settings.rs230-286](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L230-L286) [src/settings.rs218-225](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L218-L225) [src/settings.rs298-325](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L298-L325)  The `LogMsg` enum defines two error severity levels:  - `LogMsg::Warn`: Used for optional configuration files that don't exist (e.g., `config/config`, `config/local`) - `LogMsg::Error`: Used for explicitly specified configuration files that don't exist (e.g., via `--config-path`)  Sources: [src/settings.rs340-353](https://github.com/qdrant/qdrant/blob/48203e41/src/settings.rs#L340-L353)",
    "metadata": {
      "chunk_id": "a2eee57398e0-0012",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration Error Handling"
      ],
      "heading_text": "Configuration Error Handling",
      "token_count": 257,
      "char_count": 1010,
      "start_char": 16845,
      "end_char": 17855,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.515,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.193449",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 257,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Configuration Error Handling",
      "chunk_hash": "d940f09cdffe43ef",
      "content_digest": "d940f09cdffe43ef",
      "chunk_length": 1010,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "settings",
          "src",
          "qdrant",
          "configuration",
          "error",
          "the",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "config",
          "that",
          "logmsg",
          "errors",
          "sources",
          "used",
          "for",
          "files",
          "don"
        ],
        "term_weights": [
          {
            "term": "settings",
            "tf": 9,
            "weight": 0.065693
          },
          {
            "term": "src",
            "tf": 8,
            "weight": 0.058394
          },
          {
            "term": "qdrant",
            "tf": 8,
            "weight": 0.058394
          },
          {
            "term": "configuration",
            "tf": 5,
            "weight": 0.036496
          },
          {
            "term": "error",
            "tf": 4,
            "weight": 0.029197
          },
          {
            "term": "the",
            "tf": 4,
            "weight": 0.029197
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.029197
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.029197
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.029197
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.029197
          },
          {
            "term": "48203e41",
            "tf": 4,
            "weight": 0.029197
          },
          {
            "term": "config",
            "tf": 4,
            "weight": 0.029197
          },
          {
            "term": "that",
            "tf": 3,
            "weight": 0.021898
          },
          {
            "term": "logmsg",
            "tf": 3,
            "weight": 0.021898
          },
          {
            "term": "errors",
            "tf": 2,
            "weight": 0.014599
          },
          {
            "term": "sources",
            "tf": 2,
            "weight": 0.014599
          },
          {
            "term": "used",
            "tf": 2,
            "weight": 0.014599
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.014599
          },
          {
            "term": "files",
            "tf": 2,
            "weight": 0.014599
          },
          {
            "term": "don",
            "tf": 2,
            "weight": 0.014599
          }
        ],
        "unique_terms": 76,
        "total_terms": 137
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Configuration Error Handling",
        "blob",
        "com",
        "configuration",
        "error",
        "github",
        "https",
        "qdrant",
        "settings",
        "src",
        "the"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.515,
      "overall": 0.6716666666666667
    }
  },
  {
    "text": "## Special Configuration Modes",
    "metadata": {
      "chunk_id": "a2eee57398e0-0013",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Special Configuration Modes"
      ],
      "heading_text": "Special Configuration Modes",
      "token_count": 4,
      "char_count": 30,
      "start_char": 17859,
      "end_char": 17889,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.194232",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 4,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Special Configuration Modes",
      "chunk_hash": "4745e2daf9181ac4",
      "content_digest": "4745e2daf9181ac4",
      "chunk_length": 30,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "special",
          "configuration",
          "modes"
        ],
        "term_weights": [
          {
            "term": "special",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "modes",
            "tf": 1,
            "weight": 0.333333
          }
        ],
        "unique_terms": 3,
        "total_terms": 3
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Special Configuration Modes",
        "configuration",
        "modes",
        "special"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Recovery Mode  When `storage.recovery_mode` is set to a string value, Qdrant starts in a restricted mode where only collection metadata operations are available. This mode is used for disaster recovery scenarios. - All data operations return the recovery mode error message - Only collection deletion is permitted - Documented at: `https://qdrant.tech/documentation/guides/administration/#recovery-mode`  Sources: [src/main.rs210-215](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L210-L215) [lib/storage/src/types.rs97-101](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/types.rs#L97-L101)",
    "metadata": {
      "chunk_id": "a2eee57398e0-0014",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Recovery Mode"
      ],
      "heading_text": "Recovery Mode",
      "token_count": 155,
      "char_count": 623,
      "start_char": 17891,
      "end_char": 18514,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.519090909090909,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.194983",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 155,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Recovery Mode",
      "chunk_hash": "145c509ad9eccb90",
      "content_digest": "145c509ad9eccb90",
      "chunk_length": 623,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "mode",
          "qdrant",
          "recovery",
          "src",
          "storage",
          "https",
          "only",
          "collection",
          "operations",
          "main",
          "github",
          "com",
          "blob",
          "48203e41",
          "lib",
          "types",
          "when",
          "set",
          "string",
          "value"
        ],
        "term_weights": [
          {
            "term": "mode",
            "tf": 6,
            "weight": 0.071429
          },
          {
            "term": "qdrant",
            "tf": 6,
            "weight": 0.071429
          },
          {
            "term": "recovery",
            "tf": 5,
            "weight": 0.059524
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.047619
          },
          {
            "term": "storage",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "only",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "collection",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "operations",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "main",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "48203e41",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "lib",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "types",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "when",
            "tf": 1,
            "weight": 0.011905
          },
          {
            "term": "set",
            "tf": 1,
            "weight": 0.011905
          },
          {
            "term": "string",
            "tf": 1,
            "weight": 0.011905
          },
          {
            "term": "value",
            "tf": 1,
            "weight": 0.011905
          }
        ],
        "unique_terms": 53,
        "total_terms": 84
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Recovery Mode",
        "collection",
        "https",
        "main",
        "mode",
        "only",
        "operations",
        "qdrant",
        "recovery",
        "src",
        "storage"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.519090909090909,
      "overall": 0.673030303030303
    }
  },
  {
    "text": "### Node Types  The `storage.node_type` configuration determines the node's role in the cluster:  - `Normal`: Receives updates and answers all queries (default) - `Listener`: Receives all updates but does not answer search/read queries (useful for dedicated backup nodes)  The node type affects the default update queue size:  - Normal nodes: 100 entries - Listener nodes: 10,000 entries  Sources: [config/config.yaml57-62](https://github.com/qdrant/qdrant/blob/48203e41/config/config.yaml#L57-L62) [lib/collection/src/operations/shared\\_storage\\_config.rs79-82](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/operations/shared_storage_config.rs#L79-L82)  Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "a2eee57398e0-0015",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Node Types"
      ],
      "heading_text": "Node Types",
      "token_count": 183,
      "char_count": 725,
      "start_char": 18517,
      "end_char": 19242,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5238235294117647,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.196190",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 183,
      "document_id": "a2eee57398e0",
      "document_name": "_qdrant_qdrant_10.1-configuration-system",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "source_filename": "_qdrant_qdrant_10.1-configuration-system.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.1-configuration-system.md",
      "hierarchy_path": "Node Types",
      "chunk_hash": "ed2075f831eb26d8",
      "content_digest": "ed2075f831eb26d8",
      "chunk_length": 725,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "config",
          "the",
          "node",
          "qdrant",
          "storage",
          "nodes",
          "type",
          "normal",
          "receives",
          "updates",
          "all",
          "queries",
          "default",
          "listener",
          "entries",
          "https",
          "github",
          "com",
          "blob",
          "48203e41"
        ],
        "term_weights": [
          {
            "term": "config",
            "tf": 6,
            "weight": 0.059406
          },
          {
            "term": "the",
            "tf": 5,
            "weight": 0.049505
          },
          {
            "term": "node",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "qdrant",
            "tf": 4,
            "weight": 0.039604
          },
          {
            "term": "storage",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "nodes",
            "tf": 3,
            "weight": 0.029703
          },
          {
            "term": "type",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "normal",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "receives",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "updates",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "all",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "queries",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "default",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "listener",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "entries",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.019802
          },
          {
            "term": "48203e41",
            "tf": 2,
            "weight": 0.019802
          }
        ],
        "unique_terms": 62,
        "total_terms": 101
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Node Types",
        "config",
        "node",
        "nodes",
        "normal",
        "qdrant",
        "receives",
        "storage",
        "the",
        "type",
        "updates"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5238235294117647,
      "overall": 0.7079411764705882
    }
  }
]