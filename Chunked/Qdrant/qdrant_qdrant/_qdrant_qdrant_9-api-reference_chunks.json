[
  {
    "text": "## API Architecture Overview  Qdrant exposes multiple API interfaces to support different client needs and deployment scenarios. The system provides both external-facing APIs for client applications and internal APIs for distributed cluster communication. ``` ``` Sources: [docs/redoc/master/openapi.json1-50](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/master/openapi.json#L1-L50) [lib/api/src/grpc/proto/points.proto1-30](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/points.proto#L1-L30) [lib/api/src/grpc/proto/qdrant\\_internal\\_service.proto1-20](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/qdrant_internal_service.proto#L1-L20) [src/tonic/api/points\\_api.rs34-45](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/api/points_api.rs#L34-L45)",
    "metadata": {
      "chunk_id": "17b142e88305-0001",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "filename": "_qdrant_qdrant_9-api-reference.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "API Architecture Overview"
      ],
      "heading_text": "API Architecture Overview",
      "token_count": 224,
      "char_count": 817,
      "start_char": 7396,
      "end_char": 8213,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:47.012197",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 224,
      "document_id": "17b142e88305",
      "document_name": "_qdrant_qdrant_9-api-reference",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "source_filename": "_qdrant_qdrant_9-api-reference.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "hierarchy_path": "API Architecture Overview",
      "chunk_hash": "363e15cdefcad297",
      "content_digest": "363e15cdefcad297",
      "chunk_length": 817,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "api",
          "src",
          "proto",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "lib",
          "grpc",
          "points",
          "internal",
          "client",
          "and",
          "apis",
          "for",
          "docs",
          "redoc",
          "master"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 11,
            "weight": 0.092437
          },
          {
            "term": "api",
            "tf": 10,
            "weight": 0.084034
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.05042
          },
          {
            "term": "proto",
            "tf": 6,
            "weight": 0.05042
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "48203e41",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "lib",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "grpc",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "points",
            "tf": 4,
            "weight": 0.033613
          },
          {
            "term": "internal",
            "tf": 3,
            "weight": 0.02521
          },
          {
            "term": "client",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "apis",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "docs",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "redoc",
            "tf": 2,
            "weight": 0.016807
          },
          {
            "term": "master",
            "tf": 2,
            "weight": 0.016807
          }
        ],
        "unique_terms": 53,
        "total_terms": 119
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "API Architecture Overview",
        "api",
        "blob",
        "com",
        "github",
        "https",
        "lib",
        "proto",
        "qdrant",
        "src"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "overall": 0.6816666666666666
    }
  },
  {
    "text": "## Service Organization  The API is organized into distinct services, each handling specific aspects of vector database operations. Each service is implemented in both REST and gRPC protocols with consistent functionality. ``` ``` Sources: [lib/api/src/grpc/proto/collections\\_service.proto1-30](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/collections_service.proto#L1-L30) [lib/api/src/grpc/proto/points\\_service.proto1-30](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/points_service.proto#L1-L30) [lib/api/src/grpc/proto/snapshots\\_service.proto1-30](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/snapshots_service.proto#L1-L30) [docs/grpc/docs.md116-125](https://github.com/qdrant/qdrant/blob/48203e41/docs/grpc/docs.md#L116-L125)",
    "metadata": {
      "chunk_id": "17b142e88305-0002",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "filename": "_qdrant_qdrant_9-api-reference.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Service Organization"
      ],
      "heading_text": "Service Organization",
      "token_count": 215,
      "char_count": 808,
      "start_char": 8217,
      "end_char": 9025,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5584210526315789,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:47.014826",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 215,
      "document_id": "17b142e88305",
      "document_name": "_qdrant_qdrant_9-api-reference",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "source_filename": "_qdrant_qdrant_9-api-reference.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "hierarchy_path": "Service Organization",
      "chunk_hash": "fbf0553b45d58c46",
      "content_digest": "fbf0553b45d58c46",
      "chunk_length": 808,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "grpc",
          "proto",
          "service",
          "qdrant",
          "api",
          "lib",
          "src",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "docs",
          "proto1",
          "l30",
          "each",
          "collections",
          "points",
          "snapshots",
          "organization"
        ],
        "term_weights": [
          {
            "term": "grpc",
            "tf": 9,
            "weight": 0.077586
          },
          {
            "term": "proto",
            "tf": 9,
            "weight": 0.077586
          },
          {
            "term": "service",
            "tf": 8,
            "weight": 0.068966
          },
          {
            "term": "qdrant",
            "tf": 8,
            "weight": 0.068966
          },
          {
            "term": "api",
            "tf": 7,
            "weight": 0.060345
          },
          {
            "term": "lib",
            "tf": 6,
            "weight": 0.051724
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.051724
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "48203e41",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "docs",
            "tf": 4,
            "weight": 0.034483
          },
          {
            "term": "proto1",
            "tf": 3,
            "weight": 0.025862
          },
          {
            "term": "l30",
            "tf": 3,
            "weight": 0.025862
          },
          {
            "term": "each",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "collections",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "points",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "snapshots",
            "tf": 2,
            "weight": 0.017241
          },
          {
            "term": "organization",
            "tf": 1,
            "weight": 0.008621
          }
        ],
        "unique_terms": 44,
        "total_terms": 116
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Service Organization",
        "api",
        "com",
        "github",
        "grpc",
        "https",
        "lib",
        "proto",
        "qdrant",
        "service",
        "src"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5584210526315789,
      "overall": 0.686140350877193
    }
  },
  {
    "text": "## Request Processing Flow  All API requests follow a consistent processing pattern through the system's layered architecture, with different paths for read and write operations. ``` ``` Sources: [src/tonic/api/points\\_api.rs61-85](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/api/points_api.rs#L61-L85) [src/actix/api/update\\_api.rs31-65](https://github.com/qdrant/qdrant/blob/48203e41/src/actix/api/update_api.rs#L31-L65) [storage/dispatcher.rs](https://github.com/qdrant/qdrant/blob/48203e41/storage/dispatcher.rs) [src/common/strict\\_mode.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/common/strict_mode.rs) [storage/content\\_manager/toc/](https://github.com/qdrant/qdrant/blob/48203e41/storage/content_manager/toc/)",
    "metadata": {
      "chunk_id": "17b142e88305-0003",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "filename": "_qdrant_qdrant_9-api-reference.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Request Processing Flow"
      ],
      "heading_text": "Request Processing Flow",
      "token_count": 215,
      "char_count": 741,
      "start_char": 9029,
      "end_char": 9770,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5718181818181818,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:47.017291",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 215,
      "document_id": "17b142e88305",
      "document_name": "_qdrant_qdrant_9-api-reference",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "source_filename": "_qdrant_qdrant_9-api-reference.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "hierarchy_path": "Request Processing Flow",
      "chunk_hash": "d49b82b6c27e830e",
      "content_digest": "d49b82b6c27e830e",
      "chunk_length": 741,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "api",
          "src",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "storage",
          "processing",
          "tonic",
          "points",
          "actix",
          "update",
          "dispatcher",
          "common",
          "strict",
          "mode",
          "content",
          "manager"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.095238
          },
          {
            "term": "api",
            "tf": 9,
            "weight": 0.085714
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.057143
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.047619
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.047619
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.047619
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.047619
          },
          {
            "term": "48203e41",
            "tf": 5,
            "weight": 0.047619
          },
          {
            "term": "storage",
            "tf": 4,
            "weight": 0.038095
          },
          {
            "term": "processing",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "tonic",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "points",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "actix",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "update",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "dispatcher",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "common",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "strict",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "mode",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "content",
            "tf": 2,
            "weight": 0.019048
          },
          {
            "term": "manager",
            "tf": 2,
            "weight": 0.019048
          }
        ],
        "unique_terms": 48,
        "total_terms": 105
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Request Processing Flow",
        "api",
        "blob",
        "com",
        "github",
        "https",
        "processing",
        "qdrant",
        "src",
        "storage"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5718181818181818,
      "overall": 0.6906060606060606
    }
  },
  {
    "text": "## API Response Structure\n\nAll API responses follow a consistent structure with metadata about request processing, hardware usage, and timing information.",
    "metadata": {
      "chunk_id": "17b142e88305-0004",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "filename": "_qdrant_qdrant_9-api-reference.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "API Response Structure"
      ],
      "heading_text": "API Response Structure",
      "token_count": 25,
      "char_count": 154,
      "start_char": 9774,
      "end_char": 9928,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5614285714285714,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:47.018037",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 25,
      "document_id": "17b142e88305",
      "document_name": "_qdrant_qdrant_9-api-reference",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "source_filename": "_qdrant_qdrant_9-api-reference.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "hierarchy_path": "API Response Structure",
      "chunk_hash": "f6f5d360a3621f52",
      "content_digest": "f6f5d360a3621f52",
      "chunk_length": 154,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "api",
          "structure",
          "response",
          "all",
          "responses",
          "follow",
          "consistent",
          "with",
          "metadata",
          "about",
          "request",
          "processing",
          "hardware",
          "usage",
          "and",
          "timing",
          "information"
        ],
        "term_weights": [
          {
            "term": "api",
            "tf": 2,
            "weight": 0.105263
          },
          {
            "term": "structure",
            "tf": 2,
            "weight": 0.105263
          },
          {
            "term": "response",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "all",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "responses",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "follow",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "consistent",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "metadata",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "about",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "request",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "processing",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "hardware",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "usage",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "timing",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "information",
            "tf": 1,
            "weight": 0.052632
          }
        ],
        "unique_terms": 17,
        "total_terms": 19
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "API Response Structure",
        "about",
        "all",
        "api",
        "consistent",
        "follow",
        "metadata",
        "response",
        "responses",
        "structure",
        "with"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5614285714285714,
      "overall": 0.7538095238095238
    }
  },
  {
    "text": "### Hardware Usage Reporting  The system tracks detailed hardware usage for operations when enabled: ``` ``` Sources: [lib/api/src/grpc/qdrant.rs180-290](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/qdrant.rs#L180-L290) [lib/api/src/grpc/ops.rs5-50](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/ops.rs#L5-L50) [docs/redoc/master/openapi.json276-307](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/master/openapi.json#L276-L307)",
    "metadata": {
      "chunk_id": "17b142e88305-0006",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "filename": "_qdrant_qdrant_9-api-reference.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Hardware Usage Reporting"
      ],
      "heading_text": "Hardware Usage Reporting",
      "token_count": 145,
      "char_count": 476,
      "start_char": 10333,
      "end_char": 10809,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:47.020369",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 145,
      "document_id": "17b142e88305",
      "document_name": "_qdrant_qdrant_9-api-reference",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "source_filename": "_qdrant_qdrant_9-api-reference.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "hierarchy_path": "Hardware Usage Reporting",
      "chunk_hash": "3b4af8956cdd91d2",
      "content_digest": "3b4af8956cdd91d2",
      "chunk_length": 476,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "lib",
          "api",
          "src",
          "grpc",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "hardware",
          "usage",
          "ops",
          "docs",
          "redoc",
          "master",
          "openapi",
          "reporting",
          "the",
          "system"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 8,
            "weight": 0.108108
          },
          {
            "term": "lib",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "api",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "grpc",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "48203e41",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "hardware",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "usage",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "ops",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "docs",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "redoc",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "master",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "openapi",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "reporting",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.013514
          }
        ],
        "unique_terms": 38,
        "total_terms": 74
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Hardware Usage Reporting",
        "api",
        "blob",
        "com",
        "github",
        "grpc",
        "https",
        "lib",
        "qdrant",
        "src"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "overall": 0.6816666666666666
    }
  },
  {
    "text": "### API Key Authentication  The system supports API key-based authentication through HTTP headers:  - **Header**: `api-key` - **Validation**: Keys are validated against configured access rules - **Scope**: Different keys can have different permissions (read-only, read-write, admin)  Sources: [src/actix/auth.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/actix/auth.rs) [src/tonic/auth.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/auth.rs) [storage/rbac/](https://github.com/qdrant/qdrant/blob/48203e41/storage/rbac/)",
    "metadata": {
      "chunk_id": "17b142e88305-0009",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "filename": "_qdrant_qdrant_9-api-reference.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "API Key Authentication"
      ],
      "heading_text": "API Key Authentication",
      "token_count": 146,
      "char_count": 542,
      "start_char": 11719,
      "end_char": 12261,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:47.025786",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 146,
      "document_id": "17b142e88305",
      "document_name": "_qdrant_qdrant_9-api-reference",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "source_filename": "_qdrant_qdrant_9-api-reference.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "hierarchy_path": "API Key Authentication",
      "chunk_hash": "a473edf8b7e69511",
      "content_digest": "a473edf8b7e69511",
      "chunk_length": 542,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "src",
          "auth",
          "api",
          "key",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "authentication",
          "keys",
          "different",
          "read",
          "actix",
          "tonic",
          "storage",
          "rbac",
          "the",
          "system"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 6,
            "weight": 0.081081
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "auth",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "api",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "key",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "https",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "github",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "com",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "blob",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "48203e41",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "authentication",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "keys",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "different",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "read",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "actix",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "tonic",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "storage",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "rbac",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.013514
          }
        ],
        "unique_terms": 41,
        "total_terms": 74
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "API Key Authentication",
        "api",
        "auth",
        "blob",
        "com",
        "github",
        "https",
        "key",
        "qdrant",
        "src"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "overall": 0.715
    }
  },
  {
    "text": "### Validation Implementation  The validation occurs at multiple levels:  1. **Protocol Level**: Protobuf/JSON schema validation 2. **Field Level**: Individual field constraints using `#[validate()]` annotations 3. **Business Logic**: Custom validation functions for complex rules 4. **Strict Mode**: Additional constraints when strict mode is enabled  Sources: [lib/api/src/grpc/qdrant.rs2-50](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/qdrant.rs#L2-L50) [lib/segment/src/types.rs448-503](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/types.rs#L448-L503) [common/validation.rs](https://github.com/qdrant/qdrant/blob/48203e41/common/validation.rs) [src/common/strict\\_mode.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/common/strict_mode.rs)",
    "metadata": {
      "chunk_id": "17b142e88305-0015",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "filename": "_qdrant_qdrant_9-api-reference.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Validation Implementation"
      ],
      "heading_text": "Validation Implementation",
      "token_count": 211,
      "char_count": 788,
      "start_char": 14229,
      "end_char": 15017,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.55875,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:47.039308",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 211,
      "document_id": "17b142e88305",
      "document_name": "_qdrant_qdrant_9-api-reference",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "source_filename": "_qdrant_qdrant_9-api-reference.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "hierarchy_path": "Validation Implementation",
      "chunk_hash": "abdbe38e15e9820c",
      "content_digest": "abdbe38e15e9820c",
      "chunk_length": 788,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "validation",
          "src",
          "strict",
          "mode",
          "lib",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "common",
          "level",
          "field",
          "constraints",
          "api",
          "grpc",
          "segment",
          "types",
          "implementation"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.098039
          },
          {
            "term": "validation",
            "tf": 6,
            "weight": 0.058824
          },
          {
            "term": "src",
            "tf": 6,
            "weight": 0.058824
          },
          {
            "term": "strict",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "mode",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "lib",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "48203e41",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "common",
            "tf": 4,
            "weight": 0.039216
          },
          {
            "term": "level",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "field",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "constraints",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "api",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "grpc",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "segment",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "types",
            "tf": 2,
            "weight": 0.019608
          },
          {
            "term": "implementation",
            "tf": 1,
            "weight": 0.009804
          }
        ],
        "unique_terms": 49,
        "total_terms": 102
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Validation Implementation",
        "blob",
        "com",
        "github",
        "https",
        "lib",
        "mode",
        "qdrant",
        "src",
        "strict",
        "validation"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.55875,
      "overall": 0.6862499999999999
    }
  },
  {
    "text": "## Internal vs External APIs\n\nThe system distinguishes between external client-facing APIs and internal peer-to-peer communication APIs for distributed operations.",
    "metadata": {
      "chunk_id": "17b142e88305-0016",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "filename": "_qdrant_qdrant_9-api-reference.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Internal vs External APIs"
      ],
      "heading_text": "Internal vs External APIs",
      "token_count": 26,
      "char_count": 163,
      "start_char": 15019,
      "end_char": 15182,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.53,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:47.040302",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 26,
      "document_id": "17b142e88305",
      "document_name": "_qdrant_qdrant_9-api-reference",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "source_filename": "_qdrant_qdrant_9-api-reference.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "hierarchy_path": "Internal vs External APIs",
      "chunk_hash": "3ce6b2215789d502",
      "content_digest": "3ce6b2215789d502",
      "chunk_length": 163,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "apis",
          "internal",
          "external",
          "peer",
          "the",
          "system",
          "distinguishes",
          "between",
          "client",
          "facing",
          "and",
          "communication",
          "for",
          "distributed",
          "operations"
        ],
        "term_weights": [
          {
            "term": "apis",
            "tf": 3,
            "weight": 0.15
          },
          {
            "term": "internal",
            "tf": 2,
            "weight": 0.1
          },
          {
            "term": "external",
            "tf": 2,
            "weight": 0.1
          },
          {
            "term": "peer",
            "tf": 2,
            "weight": 0.1
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "distinguishes",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "between",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "client",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "facing",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "communication",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "distributed",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "operations",
            "tf": 1,
            "weight": 0.05
          }
        ],
        "unique_terms": 15,
        "total_terms": 20
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Internal vs External APIs",
        "apis",
        "between",
        "client",
        "distinguishes",
        "external",
        "facing",
        "internal",
        "peer",
        "system",
        "the"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.53,
      "overall": 0.7433333333333333
    }
  }
]