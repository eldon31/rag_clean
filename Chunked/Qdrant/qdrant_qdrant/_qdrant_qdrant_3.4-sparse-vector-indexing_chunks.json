[
  {
    "text": "## Architecture Overview  The sparse vector indexing system is built around the `SparseVectorIndex` class which provides a unified interface for different types of inverted indexes. The system supports both mutable and immutable indexes, with options for RAM-based and memory-mapped storage.",
    "metadata": {
      "chunk_id": "3e0ed177fbcc-0001",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Architecture Overview"
      ],
      "heading_text": "Architecture Overview",
      "token_count": 51,
      "char_count": 291,
      "start_char": 7781,
      "end_char": 8072,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:42.896063",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 51,
      "document_id": "3e0ed177fbcc",
      "document_name": "_qdrant_qdrant_3.4-sparse-vector-indexing",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "hierarchy_path": "Architecture Overview",
      "chunk_hash": "8acbe9dbe1e829ee",
      "content_digest": "8acbe9dbe1e829ee",
      "chunk_length": 291,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "the",
          "system",
          "for",
          "indexes",
          "and",
          "architecture",
          "overview",
          "sparse",
          "vector",
          "indexing",
          "built",
          "around",
          "sparsevectorindex",
          "class",
          "which",
          "provides",
          "unified",
          "interface",
          "different",
          "types"
        ],
        "term_weights": [
          {
            "term": "the",
            "tf": 3,
            "weight": 0.078947
          },
          {
            "term": "system",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "indexes",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.052632
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "overview",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "sparse",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "vector",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "indexing",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "built",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "around",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "sparsevectorindex",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "which",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "unified",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "interface",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "different",
            "tf": 1,
            "weight": 0.026316
          },
          {
            "term": "types",
            "tf": 1,
            "weight": 0.026316
          }
        ],
        "unique_terms": 32,
        "total_terms": 38
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Architecture Overview",
        "and",
        "architecture",
        "for",
        "indexes",
        "indexing",
        "overview",
        "sparse",
        "system",
        "the",
        "vector"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "overall": 0.7508333333333331
    }
  },
  {
    "text": "## Index Types and Storage\n\nThe system supports multiple index implementations optimized for different use cases, from mutable RAM indexes for real-time updates to compressed memory-mapped indexes for large-scale read-only scenarios.",
    "metadata": {
      "chunk_id": "3e0ed177fbcc-0003",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Index Types and Storage"
      ],
      "heading_text": "Index Types and Storage",
      "token_count": 39,
      "char_count": 233,
      "start_char": 8622,
      "end_char": 8855,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5512903225806451,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:42.897254",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 39,
      "document_id": "3e0ed177fbcc",
      "document_name": "_qdrant_qdrant_3.4-sparse-vector-indexing",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "hierarchy_path": "Index Types and Storage",
      "chunk_hash": "b44b50d7c93c7683",
      "content_digest": "b44b50d7c93c7683",
      "chunk_length": 233,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "for",
          "index",
          "indexes",
          "types",
          "and",
          "storage",
          "the",
          "system",
          "supports",
          "multiple",
          "implementations",
          "optimized",
          "different",
          "use",
          "cases",
          "from",
          "mutable",
          "ram",
          "real",
          "time"
        ],
        "term_weights": [
          {
            "term": "for",
            "tf": 3,
            "weight": 0.090909
          },
          {
            "term": "index",
            "tf": 2,
            "weight": 0.060606
          },
          {
            "term": "indexes",
            "tf": 2,
            "weight": 0.060606
          },
          {
            "term": "types",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "storage",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "supports",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "implementations",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "optimized",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "different",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "use",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "cases",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "mutable",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "ram",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "real",
            "tf": 1,
            "weight": 0.030303
          },
          {
            "term": "time",
            "tf": 1,
            "weight": 0.030303
          }
        ],
        "unique_terms": 29,
        "total_terms": 33
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Index Types and Storage",
        "and",
        "for",
        "index",
        "indexes",
        "multiple",
        "storage",
        "supports",
        "system",
        "the",
        "types"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5512903225806451,
      "overall": 0.7504301075268817
    }
  },
  {
    "text": "## Search Process\n\nThe search system uses a `SearchContext` to coordinate queries across multiple posting lists, with sophisticated pruning mechanisms to optimize performance.",
    "metadata": {
      "chunk_id": "3e0ed177fbcc-0006",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Search Process"
      ],
      "heading_text": "Search Process",
      "token_count": 29,
      "char_count": 175,
      "start_char": 10248,
      "end_char": 10423,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5639130434782609,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:42.898988",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 29,
      "document_id": "3e0ed177fbcc",
      "document_name": "_qdrant_qdrant_3.4-sparse-vector-indexing",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "hierarchy_path": "Search Process",
      "chunk_hash": "36a4aa8d0f255490",
      "content_digest": "36a4aa8d0f255490",
      "chunk_length": 175,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "search",
          "process",
          "the",
          "system",
          "uses",
          "searchcontext",
          "coordinate",
          "queries",
          "across",
          "multiple",
          "posting",
          "lists",
          "with",
          "sophisticated",
          "pruning",
          "mechanisms",
          "optimize",
          "performance"
        ],
        "term_weights": [
          {
            "term": "search",
            "tf": 2,
            "weight": 0.105263
          },
          {
            "term": "process",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "uses",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "searchcontext",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "coordinate",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "queries",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "across",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "posting",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "lists",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "sophisticated",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "pruning",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "mechanisms",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "optimize",
            "tf": 1,
            "weight": 0.052632
          },
          {
            "term": "performance",
            "tf": 1,
            "weight": 0.052632
          }
        ],
        "unique_terms": 18,
        "total_terms": 19
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Search Process",
        "across",
        "coordinate",
        "multiple",
        "process",
        "queries",
        "search",
        "searchcontext",
        "system",
        "the",
        "uses"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5639130434782609,
      "overall": 0.7546376811594202
    }
  },
  {
    "text": "### Pruning Mechanism  The search system implements sophisticated pruning to skip posting list elements that cannot contribute to top-k results: ``` ``` Sources: [lib/sparse/src/index/search\\_context.rs360-421](https://github.com/qdrant/qdrant/blob/48203e41/lib/sparse/src/index/search_context.rs#L360-L421)",
    "metadata": {
      "chunk_id": "3e0ed177fbcc-0008",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Pruning Mechanism"
      ],
      "heading_text": "Pruning Mechanism",
      "token_count": 73,
      "char_count": 307,
      "start_char": 10935,
      "end_char": 11242,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:42.900549",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 73,
      "document_id": "3e0ed177fbcc",
      "document_name": "_qdrant_qdrant_3.4-sparse-vector-indexing",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "hierarchy_path": "Pruning Mechanism",
      "chunk_hash": "138e8848a3c805dc",
      "content_digest": "138e8848a3c805dc",
      "chunk_length": 307,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "search",
          "pruning",
          "lib",
          "sparse",
          "src",
          "index",
          "context",
          "qdrant",
          "mechanism",
          "the",
          "system",
          "implements",
          "sophisticated",
          "skip",
          "posting",
          "list",
          "elements",
          "that",
          "cannot",
          "contribute"
        ],
        "term_weights": [
          {
            "term": "search",
            "tf": 3,
            "weight": 0.073171
          },
          {
            "term": "pruning",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "lib",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "sparse",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "index",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "context",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "qdrant",
            "tf": 2,
            "weight": 0.04878
          },
          {
            "term": "mechanism",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "implements",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "sophisticated",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "skip",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "posting",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "list",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "elements",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "that",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "cannot",
            "tf": 1,
            "weight": 0.02439
          },
          {
            "term": "contribute",
            "tf": 1,
            "weight": 0.02439
          }
        ],
        "unique_terms": 32,
        "total_terms": 41
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Pruning Mechanism",
        "context",
        "index",
        "lib",
        "mechanism",
        "pruning",
        "qdrant",
        "search",
        "sparse",
        "src",
        "the"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "overall": 0.7174999999999999
    }
  },
  {
    "text": "## Configuration and Optimization",
    "metadata": {
      "chunk_id": "3e0ed177fbcc-0013",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Configuration and Optimization"
      ],
      "heading_text": "Configuration and Optimization",
      "token_count": 4,
      "char_count": 33,
      "start_char": 12660,
      "end_char": 12693,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "chunking_strategy": "hierarchical_precise_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:42.902341",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 4,
      "document_id": "3e0ed177fbcc",
      "document_name": "_qdrant_qdrant_3.4-sparse-vector-indexing",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "hierarchy_path": "Configuration and Optimization",
      "chunk_hash": "ea3a28180d3263de",
      "content_digest": "ea3a28180d3263de",
      "chunk_length": 33,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "configuration",
          "and",
          "optimization"
        ],
        "term_weights": [
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.333333
          },
          {
            "term": "optimization",
            "tf": 1,
            "weight": 0.333333
          }
        ],
        "unique_terms": 3,
        "total_terms": 3
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Configuration and Optimization",
        "and",
        "configuration",
        "optimization"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.59,
      "overall": 0.7633333333333333
    }
  },
  {
    "text": "### Sparse Index Configuration  The `SparseIndexConfig` controls index behavior and performance characteristics: ``` ```",
    "metadata": {
      "chunk_id": "3e0ed177fbcc-0014",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Sparse Index Configuration"
      ],
      "heading_text": "Sparse Index Configuration",
      "token_count": 20,
      "char_count": 120,
      "start_char": 12695,
      "end_char": 12815,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:42.902681",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 20,
      "document_id": "3e0ed177fbcc",
      "document_name": "_qdrant_qdrant_3.4-sparse-vector-indexing",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "hierarchy_path": "Sparse Index Configuration",
      "chunk_hash": "a590ddf7bc173f4f",
      "content_digest": "a590ddf7bc173f4f",
      "chunk_length": 120,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "index",
          "sparse",
          "configuration",
          "the",
          "sparseindexconfig",
          "controls",
          "behavior",
          "and",
          "performance",
          "characteristics"
        ],
        "term_weights": [
          {
            "term": "index",
            "tf": 2,
            "weight": 0.181818
          },
          {
            "term": "sparse",
            "tf": 1,
            "weight": 0.090909
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.090909
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.090909
          },
          {
            "term": "sparseindexconfig",
            "tf": 1,
            "weight": 0.090909
          },
          {
            "term": "controls",
            "tf": 1,
            "weight": 0.090909
          },
          {
            "term": "behavior",
            "tf": 1,
            "weight": 0.090909
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.090909
          },
          {
            "term": "performance",
            "tf": 1,
            "weight": 0.090909
          },
          {
            "term": "characteristics",
            "tf": 1,
            "weight": 0.090909
          }
        ],
        "unique_terms": 10,
        "total_terms": 11
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Sparse Index Configuration",
        "and",
        "behavior",
        "characteristics",
        "configuration",
        "controls",
        "index",
        "performance",
        "sparse",
        "sparseindexconfig",
        "the"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5471428571428572,
      "overall": 0.7490476190476191
    }
  },
  {
    "text": "### Index Selection Strategy  The system automatically selects between indexed search and plain search based on query cardinality: ``` ``` Sources: [lib/segment/src/index/sparse\\_index/sparse\\_vector\\_index.rs452-481](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/index/sparse_index/sparse_vector_index.rs#L452-L481)  Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "3e0ed177fbcc-0016",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Index Selection Strategy"
      ],
      "heading_text": "Index Selection Strategy",
      "token_count": 93,
      "char_count": 385,
      "start_char": 13751,
      "end_char": 14136,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T16:07:42.904455",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 93,
      "document_id": "3e0ed177fbcc",
      "document_name": "_qdrant_qdrant_3.4-sparse-vector-indexing",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_filename": "_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_3.4-sparse-vector-indexing.md",
      "hierarchy_path": "Index Selection Strategy",
      "chunk_hash": "b0ef53e243b52feb",
      "content_digest": "b0ef53e243b52feb",
      "chunk_length": 385,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1536,
      "matryoshka_dimension": 1536,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "index",
          "sparse",
          "search",
          "lib",
          "segment",
          "src",
          "vector",
          "qdrant",
          "refresh",
          "selection",
          "strategy",
          "the",
          "system",
          "automatically",
          "selects",
          "between",
          "indexed",
          "and",
          "plain",
          "based"
        ],
        "term_weights": [
          {
            "term": "index",
            "tf": 7,
            "weight": 0.132075
          },
          {
            "term": "sparse",
            "tf": 4,
            "weight": 0.075472
          },
          {
            "term": "search",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "lib",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "segment",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "vector",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "qdrant",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "selection",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "strategy",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "automatically",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "selects",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "between",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "indexed",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "plain",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "based",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 37,
        "total_terms": 53
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Index Selection Strategy",
        "index",
        "lib",
        "qdrant",
        "refresh",
        "search",
        "segment",
        "selection",
        "sparse",
        "src",
        "vector"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.56,
      "overall": 0.7200000000000001
    }
  }
]