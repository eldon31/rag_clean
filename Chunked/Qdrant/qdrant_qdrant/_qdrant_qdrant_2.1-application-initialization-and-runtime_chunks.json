[
  {
    "text": "## Entry Point and Command-Line Arguments  The application starts in the `main()` function at [src/main.rs140-645](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L140-L645) The entry point handles:  - Command-line argument parsing using the `Args` struct - Settings initialization from configuration files - Global feature flags setup - Logging infrastructure configuration - Panic hook registration - Core initialization sequence",
    "metadata": {
      "chunk_id": "9731d33ad45a-0001",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Entry Point and Command-Line Arguments"
      ],
      "heading_text": "Entry Point and Command-Line Arguments",
      "token_count": 91,
      "char_count": 442,
      "start_char": 5288,
      "end_char": 5730,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.512,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.901297",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 91,
      "document_id": "9731d33ad45a",
      "document_name": "_qdrant_qdrant_2.1-application-initialization-and-runtime",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "hierarchy_path": "Entry Point and Command-Line Arguments",
      "chunk_hash": "55f9bddfd94ead04",
      "content_digest": "55f9bddfd94ead04",
      "chunk_length": 442,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "the",
          "main",
          "entry",
          "point",
          "command",
          "line",
          "src",
          "qdrant",
          "initialization",
          "configuration",
          "and",
          "arguments",
          "application",
          "starts",
          "function",
          "rs140",
          "645",
          "https",
          "github",
          "com"
        ],
        "term_weights": [
          {
            "term": "the",
            "tf": 4,
            "weight": 0.070175
          },
          {
            "term": "main",
            "tf": 3,
            "weight": 0.052632
          },
          {
            "term": "entry",
            "tf": 2,
            "weight": 0.035088
          },
          {
            "term": "point",
            "tf": 2,
            "weight": 0.035088
          },
          {
            "term": "command",
            "tf": 2,
            "weight": 0.035088
          },
          {
            "term": "line",
            "tf": 2,
            "weight": 0.035088
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.035088
          },
          {
            "term": "qdrant",
            "tf": 2,
            "weight": 0.035088
          },
          {
            "term": "initialization",
            "tf": 2,
            "weight": 0.035088
          },
          {
            "term": "configuration",
            "tf": 2,
            "weight": 0.035088
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.017544
          },
          {
            "term": "arguments",
            "tf": 1,
            "weight": 0.017544
          },
          {
            "term": "application",
            "tf": 1,
            "weight": 0.017544
          },
          {
            "term": "starts",
            "tf": 1,
            "weight": 0.017544
          },
          {
            "term": "function",
            "tf": 1,
            "weight": 0.017544
          },
          {
            "term": "rs140",
            "tf": 1,
            "weight": 0.017544
          },
          {
            "term": "645",
            "tf": 1,
            "weight": 0.017544
          },
          {
            "term": "https",
            "tf": 1,
            "weight": 0.017544
          },
          {
            "term": "github",
            "tf": 1,
            "weight": 0.017544
          },
          {
            "term": "com",
            "tf": 1,
            "weight": 0.017544
          }
        ],
        "unique_terms": 44,
        "total_terms": 57
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Entry Point and Command-Line Arguments",
        "command",
        "configuration",
        "entry",
        "initialization",
        "line",
        "main",
        "point",
        "qdrant",
        "src",
        "the"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.512,
      "overall": 0.7040000000000001
    }
  },
  {
    "text": "### Runtime Creation Details  The three runtimes are created at [src/main.rs309-322](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L309-L322):  1. **Search Runtime** [src/common/helpers.rs20-32](https://github.com/qdrant/qdrant/blob/48203e41/src/common/helpers.rs#L20-L32)     - Thread count: `common::defaults::search_thread_count(max_search_threads)`    - Used for all search and query operations    - Each thread can handle blocking operations  2. **Update Runtime** [src/common/helpers.rs34-50](https://github.com/qdrant/qdrant/blob/48203e41/src/common/helpers.rs#L34-L50)     - Thread count: Configurable via `max_optimization_runtime_threads`    - Used for segment optimization and index building    - Background workers run here  3. **General Purpose Runtime** [src/common/helpers.rs52-63](https://github.com/qdrant/qdrant/blob/48203e41/src/common/helpers.rs#L52-L63)     - Thread count: `max(num_cpus, 2)`    - Used for API request handling, consensus, and general async operations    - Handle to this runtime is stored for use throughout the application  **Sources:** [src/main.rs309-322](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L309-L322) [src/common/helpers.rs20-63](https://github.com/qdrant/qdrant/blob/48203e41/src/common/helpers.rs#L20-L63)",
    "metadata": {
      "chunk_id": "9731d33ad45a-0007",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Runtime Creation Details"
      ],
      "heading_text": "Runtime Creation Details",
      "token_count": 351,
      "char_count": 1287,
      "start_char": 8369,
      "end_char": 9656,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5182032258064516,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.912516",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 351,
      "document_id": "9731d33ad45a",
      "document_name": "_qdrant_qdrant_2.1-application-initialization-and-runtime",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "hierarchy_path": "Runtime Creation Details",
      "chunk_hash": "0eb203b172d95f33",
      "content_digest": "0eb203b172d95f33",
      "chunk_length": 1287,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "qdrant",
          "common",
          "helpers",
          "runtime",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "thread",
          "main",
          "search",
          "count",
          "for",
          "max",
          "used",
          "and",
          "operations",
          "the"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 12,
            "weight": 0.068182
          },
          {
            "term": "qdrant",
            "tf": 12,
            "weight": 0.068182
          },
          {
            "term": "common",
            "tf": 9,
            "weight": 0.051136
          },
          {
            "term": "helpers",
            "tf": 8,
            "weight": 0.045455
          },
          {
            "term": "runtime",
            "tf": 6,
            "weight": 0.034091
          },
          {
            "term": "https",
            "tf": 6,
            "weight": 0.034091
          },
          {
            "term": "github",
            "tf": 6,
            "weight": 0.034091
          },
          {
            "term": "com",
            "tf": 6,
            "weight": 0.034091
          },
          {
            "term": "blob",
            "tf": 6,
            "weight": 0.034091
          },
          {
            "term": "48203e41",
            "tf": 6,
            "weight": 0.034091
          },
          {
            "term": "thread",
            "tf": 5,
            "weight": 0.028409
          },
          {
            "term": "main",
            "tf": 4,
            "weight": 0.022727
          },
          {
            "term": "search",
            "tf": 4,
            "weight": 0.022727
          },
          {
            "term": "count",
            "tf": 4,
            "weight": 0.022727
          },
          {
            "term": "for",
            "tf": 4,
            "weight": 0.022727
          },
          {
            "term": "max",
            "tf": 3,
            "weight": 0.017045
          },
          {
            "term": "used",
            "tf": 3,
            "weight": 0.017045
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.017045
          },
          {
            "term": "operations",
            "tf": 3,
            "weight": 0.017045
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.011364
          }
        ],
        "unique_terms": 73,
        "total_terms": 176
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Runtime Creation Details",
        "blob",
        "com",
        "common",
        "github",
        "helpers",
        "https",
        "qdrant",
        "runtime",
        "src"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5182032258064516,
      "overall": 0.6727344086021505
    }
  },
  {
    "text": "### Distributed Mode  In distributed mode [src/main.rs395-493](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L395-L493):  1. **Consensus State Initialization** [src/main.rs396-403](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L396-L403)     - Creates `ConsensusManager` with persistent state    - Wraps in `ConsensusStateRef` for shared access  2. **Dispatcher Configuration** [src/main.rs405-409](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L405-L409)     - Dispatcher is configured with consensus state    - Routes metadata operations through Raft consensus  3. **Consensus Thread** [src/main.rs432-447](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L432-L447)     - Spawned via `Consensus::run()`    - Runs Raft protocol in dedicated thread    - Processes proposals from `propose_receiver` channel  4. **Internal gRPC Server** [src/main.rs152-168](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L152-L168) in [src/consensus.rs96-170](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L96-L170)     - Started via `init_internal()` in separate thread    - Handles inter-peer Raft messages    - P2P communication on configured port  **Sources:** [src/main.rs395-493](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L395-L493) [src/consensus.rs63-170](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L63-L170)",
    "metadata": {
      "chunk_id": "9731d33ad45a-0011",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Distributed Mode"
      ],
      "heading_text": "Distributed Mode",
      "token_count": 422,
      "char_count": 1416,
      "start_char": 10695,
      "end_char": 12111,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5450782608695652,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.918714",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 422,
      "document_id": "9731d33ad45a",
      "document_name": "_qdrant_qdrant_2.1-application-initialization-and-runtime",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "hierarchy_path": "Distributed Mode",
      "chunk_hash": "c08bd9be63b00ce2",
      "content_digest": "c08bd9be63b00ce2",
      "chunk_length": 1416,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "qdrant",
          "main",
          "consensus",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "state",
          "raft",
          "thread",
          "distributed",
          "mode",
          "rs395",
          "493",
          "l395",
          "l493",
          "with",
          "dispatcher"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 16,
            "weight": 0.086022
          },
          {
            "term": "qdrant",
            "tf": 16,
            "weight": 0.086022
          },
          {
            "term": "main",
            "tf": 12,
            "weight": 0.064516
          },
          {
            "term": "consensus",
            "tf": 9,
            "weight": 0.048387
          },
          {
            "term": "https",
            "tf": 8,
            "weight": 0.043011
          },
          {
            "term": "github",
            "tf": 8,
            "weight": 0.043011
          },
          {
            "term": "com",
            "tf": 8,
            "weight": 0.043011
          },
          {
            "term": "blob",
            "tf": 8,
            "weight": 0.043011
          },
          {
            "term": "48203e41",
            "tf": 8,
            "weight": 0.043011
          },
          {
            "term": "state",
            "tf": 3,
            "weight": 0.016129
          },
          {
            "term": "raft",
            "tf": 3,
            "weight": 0.016129
          },
          {
            "term": "thread",
            "tf": 3,
            "weight": 0.016129
          },
          {
            "term": "distributed",
            "tf": 2,
            "weight": 0.010753
          },
          {
            "term": "mode",
            "tf": 2,
            "weight": 0.010753
          },
          {
            "term": "rs395",
            "tf": 2,
            "weight": 0.010753
          },
          {
            "term": "493",
            "tf": 2,
            "weight": 0.010753
          },
          {
            "term": "l395",
            "tf": 2,
            "weight": 0.010753
          },
          {
            "term": "l493",
            "tf": 2,
            "weight": 0.010753
          },
          {
            "term": "with",
            "tf": 2,
            "weight": 0.010753
          },
          {
            "term": "dispatcher",
            "tf": 2,
            "weight": 0.010753
          }
        ],
        "unique_terms": 83,
        "total_terms": 186
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Distributed Mode",
        "blob",
        "com",
        "consensus",
        "github",
        "https",
        "main",
        "qdrant",
        "src",
        "state"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5450782608695652,
      "overall": 0.6816927536231884
    }
  },
  {
    "text": "### REST API Server (Actix-web)  Started at [src/main.rs549-568](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L549-L568): ``` ``` The `actix::init()` function [src/actix/mod.rs55-205](https://github.com/qdrant/qdrant/blob/48203e41/src/actix/mod.rs#L55-L205):  - Binds to `settings.service.host:http_port` - Configures middleware (compression, CORS, authentication, logging) - Registers all API endpoints - Optionally enables TLS with certificate rotation - Worker count: `max_web_workers(&settings)`  **Key Features:**  - **Authentication:** API key middleware via `Auth` layer - **Compression:** Automatic gzip compression - **Validation:** Request validation using `actix-web-validator` - **TLS:** Optional with certificate TTL rotation [src/actix/certificate\\_helpers.rs1-207](https://github.com/qdrant/qdrant/blob/48203e41/src/actix/certificate_helpers.rs#L1-L207)  **Sources:** [src/main.rs549-568](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L549-L568) [src/actix/mod.rs55-205](https://github.com/qdrant/qdrant/blob/48203e41/src/actix/mod.rs#L55-L205)",
    "metadata": {
      "chunk_id": "9731d33ad45a-0015",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "REST API Server (Actix-web)"
      ],
      "heading_text": "REST API Server (Actix-web)",
      "token_count": 309,
      "char_count": 1086,
      "start_char": 12880,
      "end_char": 13966,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5310561643835616,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.926538",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 309,
      "document_id": "9731d33ad45a",
      "document_name": "_qdrant_qdrant_2.1-application-initialization-and-runtime",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "hierarchy_path": "REST API Server (Actix-web)",
      "chunk_hash": "dbc0a3704d2f7bf7",
      "content_digest": "dbc0a3704d2f7bf7",
      "chunk_length": 1086,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "qdrant",
          "actix",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "main",
          "mod",
          "certificate",
          "api",
          "web",
          "compression",
          "rs549",
          "568",
          "l549",
          "l568",
          "rs55",
          "205"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 10,
            "weight": 0.068027
          },
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.068027
          },
          {
            "term": "actix",
            "tf": 9,
            "weight": 0.061224
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "48203e41",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "main",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "mod",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "certificate",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "api",
            "tf": 3,
            "weight": 0.020408
          },
          {
            "term": "web",
            "tf": 3,
            "weight": 0.020408
          },
          {
            "term": "compression",
            "tf": 3,
            "weight": 0.020408
          },
          {
            "term": "rs549",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "568",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "l549",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "l568",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "rs55",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "205",
            "tf": 2,
            "weight": 0.013605
          }
        ],
        "unique_terms": 69,
        "total_terms": 147
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "REST API Server (Actix-web)",
        "actix",
        "blob",
        "com",
        "github",
        "https",
        "main",
        "mod",
        "qdrant",
        "src"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5310561643835616,
      "overall": 0.7103520547945205
    }
  },
  {
    "text": "### Public gRPC API Server (Tonic)  Started at [src/main.rs574-592](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L574-L592) if `settings.service.grpc_port` is set: ``` ``` The `tonic::init()` function [src/tonic/mod.rs147-253](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/mod.rs#L147-L253):  - Binds to `settings.service.host:grpc_port` - Registers services: `Qdrant`, `Collections`, `Points`, `Snapshots`, `Health` - Configures middleware (logging, telemetry, authentication) - Enables gRPC reflection - Optional TLS configuration  **Services Registered:**  - `QdrantServer` - Health checks and version info - `CollectionsServer` - Collection management - `PointsServer` - Point operations - `SnapshotsServer` - Snapshot operations - `HealthServer` - Standard gRPC health protocol  **Sources:** [src/main.rs574-592](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L574-L592) [src/tonic/mod.rs147-253](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/mod.rs#L147-L253)",
    "metadata": {
      "chunk_id": "9731d33ad45a-0016",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Public gRPC API Server (Tonic)"
      ],
      "heading_text": "Public gRPC API Server (Tonic)",
      "token_count": 291,
      "char_count": 1013,
      "start_char": 13970,
      "end_char": 14983,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.515,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.930605",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 291,
      "document_id": "9731d33ad45a",
      "document_name": "_qdrant_qdrant_2.1-application-initialization-and-runtime",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "hierarchy_path": "Public gRPC API Server (Tonic)",
      "chunk_hash": "ed6a22150cf712a9",
      "content_digest": "ed6a22150cf712a9",
      "chunk_length": 1013,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "qdrant",
          "src",
          "tonic",
          "grpc",
          "main",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "mod",
          "health",
          "rs574",
          "592",
          "l574",
          "l592",
          "settings",
          "service",
          "port",
          "rs147"
        ],
        "term_weights": [
          {
            "term": "qdrant",
            "tf": 9,
            "weight": 0.071429
          },
          {
            "term": "src",
            "tf": 8,
            "weight": 0.063492
          },
          {
            "term": "tonic",
            "tf": 6,
            "weight": 0.047619
          },
          {
            "term": "grpc",
            "tf": 5,
            "weight": 0.039683
          },
          {
            "term": "main",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "https",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "github",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "com",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "blob",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "48203e41",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "mod",
            "tf": 4,
            "weight": 0.031746
          },
          {
            "term": "health",
            "tf": 3,
            "weight": 0.02381
          },
          {
            "term": "rs574",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "592",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "l574",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "l592",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "settings",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "service",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "port",
            "tf": 2,
            "weight": 0.015873
          },
          {
            "term": "rs147",
            "tf": 2,
            "weight": 0.015873
          }
        ],
        "unique_terms": 66,
        "total_terms": 126
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Public gRPC API Server (Tonic)",
        "blob",
        "com",
        "github",
        "grpc",
        "https",
        "main",
        "qdrant",
        "src",
        "tonic"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.515,
      "overall": 0.705
    }
  },
  {
    "text": "### Internal gRPC Server (Distributed Mode Only)  Started within the consensus thread at [src/consensus.rs152-168](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L152-L168): ``` ``` The `init_internal()` function [src/tonic/mod.rs256-360](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/mod.rs#L256-L360):  - Binds to `settings.service.host:p2p.port` - Handles Raft messages between peers - Provides internal APIs for shard transfers and consensus - Mandatory TLS configuration in production clusters  **Internal Services:**  - `RaftServer` - Raft message handling [src/tonic/api/raft\\_api.rs16-150](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/api/raft_api.rs#L16-L150) - `QdrantInternalServer` - Consensus commit tracking - `PointsInternalServer` - Internal point operations - `CollectionsInternalServer` - Internal collection operations - `ShardSnapshotsServer` - Shard snapshot transfers  **Sources:** [src/consensus.rs152-168](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L152-L168) [src/tonic/mod.rs256-360](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/mod.rs#L256-L360)",
    "metadata": {
      "chunk_id": "9731d33ad45a-0017",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "file_extension": ".md",
      "chunk_index": 17,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Internal gRPC Server (Distributed Mode Only)"
      ],
      "heading_text": "Internal gRPC Server (Distributed Mode Only)",
      "token_count": 327,
      "char_count": 1145,
      "start_char": 14987,
      "end_char": 16132,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5102951219512195,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.934187",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 327,
      "document_id": "9731d33ad45a",
      "document_name": "_qdrant_qdrant_2.1-application-initialization-and-runtime",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "hierarchy_path": "Internal gRPC Server (Distributed Mode Only)",
      "chunk_hash": "d8813603b6a73e3e",
      "content_digest": "d8813603b6a73e3e",
      "chunk_length": 1145,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "qdrant",
          "consensus",
          "internal",
          "tonic",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "mod",
          "raft",
          "api",
          "the",
          "rs152",
          "168",
          "l152",
          "l168",
          "rs256",
          "360"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 10,
            "weight": 0.068027
          },
          {
            "term": "qdrant",
            "tf": 10,
            "weight": 0.068027
          },
          {
            "term": "consensus",
            "tf": 7,
            "weight": 0.047619
          },
          {
            "term": "internal",
            "tf": 6,
            "weight": 0.040816
          },
          {
            "term": "tonic",
            "tf": 6,
            "weight": 0.040816
          },
          {
            "term": "https",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "github",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "com",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "blob",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "48203e41",
            "tf": 5,
            "weight": 0.034014
          },
          {
            "term": "mod",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "raft",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "api",
            "tf": 4,
            "weight": 0.027211
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "rs152",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "168",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "l152",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "l168",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "rs256",
            "tf": 2,
            "weight": 0.013605
          },
          {
            "term": "360",
            "tf": 2,
            "weight": 0.013605
          }
        ],
        "unique_terms": 72,
        "total_terms": 147
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Internal gRPC Server (Distributed Mode Only)",
        "blob",
        "com",
        "consensus",
        "github",
        "https",
        "internal",
        "qdrant",
        "src",
        "tonic"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5102951219512195,
      "overall": 0.7034317073170732
    }
  },
  {
    "text": "### Consensus Initialization Flow  The `Consensus::run()` function [src/consensus.rs63-170](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L63-L170) performs:  1. **TLS Configuration** [src/consensus.rs76](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L76-L76)     - Loads TLS client config if `cluster.p2p.enable_tls` is enabled  2. **Consensus Object Creation** [src/consensus.rs82-93](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L82-L93)     - Calls `Consensus::new()` with state, bootstrap peer, URI, config    - Creates bounded tokio channel for backpressure  3. **Bootstrap or Recovery** [src/consensus.rs213-244](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L213-L244)     - New deployment: Bootstrap from peer or initialize as first peer    - Existing deployment: Recover state and potentially update URI  4. **Thread Spawning** [src/consensus.rs96-115](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L96-L115)     - Main consensus thread runs `consensus.start()`    - Sets high thread priority on Linux for better latency    - Error handling reports to `ConsensusStateRef`  5. **Proposal Forwarder** [src/consensus.rs117-139](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L117-L139)     - Separate thread forwards proposals from `std::sync::mpsc` to tokio channel    - Bridges sync and async worlds  6. **Internal gRPC Server** [src/consensus.rs152-168](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L152-L168)     - Spawns thread for internal peer communication    - Receives Raft messages via gRPC and forwards to consensus  **Sources:** [src/consensus.rs63-244](https://github.com/qdrant/qdrant/blob/48203e41/src/consensus.rs#L63-L244)",
    "metadata": {
      "chunk_id": "9731d33ad45a-0020",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "file_extension": ".md",
      "chunk_index": 20,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Consensus Initialization Flow"
      ],
      "heading_text": "Consensus Initialization Flow",
      "token_count": 521,
      "char_count": 1774,
      "start_char": 16489,
      "end_char": 18263,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7282608695652174,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.942859",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 521,
      "document_id": "9731d33ad45a",
      "document_name": "_qdrant_qdrant_2.1-application-initialization-and-runtime",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "hierarchy_path": "Consensus Initialization Flow",
      "chunk_hash": "749299c58c362da0",
      "content_digest": "749299c58c362da0",
      "chunk_length": 1774,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "consensus",
          "src",
          "qdrant",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "thread",
          "peer",
          "tls",
          "bootstrap",
          "for",
          "and",
          "rs63",
          "l63",
          "l76",
          "config",
          "new",
          "state"
        ],
        "term_weights": [
          {
            "term": "consensus",
            "tf": 23,
            "weight": 0.100877
          },
          {
            "term": "src",
            "tf": 16,
            "weight": 0.070175
          },
          {
            "term": "qdrant",
            "tf": 16,
            "weight": 0.070175
          },
          {
            "term": "https",
            "tf": 8,
            "weight": 0.035088
          },
          {
            "term": "github",
            "tf": 8,
            "weight": 0.035088
          },
          {
            "term": "com",
            "tf": 8,
            "weight": 0.035088
          },
          {
            "term": "blob",
            "tf": 8,
            "weight": 0.035088
          },
          {
            "term": "48203e41",
            "tf": 8,
            "weight": 0.035088
          },
          {
            "term": "thread",
            "tf": 5,
            "weight": 0.02193
          },
          {
            "term": "peer",
            "tf": 4,
            "weight": 0.017544
          },
          {
            "term": "tls",
            "tf": 3,
            "weight": 0.013158
          },
          {
            "term": "bootstrap",
            "tf": 3,
            "weight": 0.013158
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.013158
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.013158
          },
          {
            "term": "rs63",
            "tf": 2,
            "weight": 0.008772
          },
          {
            "term": "l63",
            "tf": 2,
            "weight": 0.008772
          },
          {
            "term": "l76",
            "tf": 2,
            "weight": 0.008772
          },
          {
            "term": "config",
            "tf": 2,
            "weight": 0.008772
          },
          {
            "term": "new",
            "tf": 2,
            "weight": 0.008772
          },
          {
            "term": "state",
            "tf": 2,
            "weight": 0.008772
          }
        ],
        "unique_terms": 109,
        "total_terms": 228
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "48203e41",
        "Consensus Initialization Flow",
        "blob",
        "com",
        "consensus",
        "github",
        "https",
        "peer",
        "qdrant",
        "src",
        "thread"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7282608695652174,
      "overall": 0.7427536231884058
    }
  },
  {
    "text": "## Resource Budgets  Before initialization, CPU and I/O budgets are computed for optimization tasks: ``` ``` These budgets control how many CPU cores and parallel I/O operations can be used for segment optimization and index building [src/main.rs325-327](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L325-L327)  **Sources:** [src/main.rs325-327](https://github.com/qdrant/qdrant/blob/48203e41/src/main.rs#L325-L327)",
    "metadata": {
      "chunk_id": "9731d33ad45a-0021",
      "source_file": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "file_extension": ".md",
      "chunk_index": 21,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Resource Budgets"
      ],
      "heading_text": "Resource Budgets",
      "token_count": 112,
      "char_count": 429,
      "start_char": 18265,
      "end_char": 18694,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5130769230769231,
      "chunking_strategy": "hierarchical_precise_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:44.945586",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 112,
      "document_id": "9731d33ad45a",
      "document_name": "_qdrant_qdrant_2.1-application-initialization-and-runtime",
      "source_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_filename": "_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "source_directory": "Docs\\Qdrant\\qdrant_qdrant",
      "relative_path": "Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_2.1-application-initialization-and-runtime.md",
      "hierarchy_path": "Resource Budgets",
      "chunk_hash": "7801004b22813a06",
      "content_digest": "7801004b22813a06",
      "chunk_length": 429,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "src",
          "main",
          "qdrant",
          "budgets",
          "and",
          "cpu",
          "for",
          "optimization",
          "rs325",
          "327",
          "https",
          "github",
          "com",
          "blob",
          "48203e41",
          "l325",
          "l327",
          "resource",
          "before",
          "initialization"
        ],
        "term_weights": [
          {
            "term": "src",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "main",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "qdrant",
            "tf": 4,
            "weight": 0.065574
          },
          {
            "term": "budgets",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "cpu",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "optimization",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "rs325",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "327",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "48203e41",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "l325",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "l327",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "resource",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "before",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "initialization",
            "tf": 1,
            "weight": 0.016393
          }
        ],
        "unique_terms": 36,
        "total_terms": 61
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "327",
        "Resource Budgets",
        "and",
        "budgets",
        "cpu",
        "for",
        "main",
        "optimization",
        "qdrant",
        "rs325",
        "src"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5130769230769231,
      "overall": 0.7043589743589743
    }
  }
]