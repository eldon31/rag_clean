[
  {
    "text": "# Sparse and Hybrid Search  Relevant source files  - [tests/test\\_attention\\_embeddings.py](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_attention_embeddings.py) - [tests/test\\_sparse\\_embeddings.py](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_sparse_embeddings.py)  This page provides a comprehensive guide to implementing sparse embeddings and hybrid search using FastEmbed. While [TextEmbedding](qdrant/fastembed/3.1-textembedding.md) creates dense vector representations, sparse embeddings offer a different approach with unique advantages that complement dense embeddings in search applications.",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0000",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 0,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Sparse and Hybrid Search"
      ],
      "heading_text": "Sparse and Hybrid Search",
      "token_count": 131,
      "char_count": 633,
      "start_char": 2288,
      "end_char": 2921,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5226530612244897,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.568261",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 131,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Sparse and Hybrid Search",
      "chunk_hash": "9de0de69be13cd05",
      "content_digest": "9de0de69be13cd05",
      "chunk_length": 633,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "embeddings",
          "sparse",
          "tests",
          "test",
          "fastembed",
          "search",
          "qdrant",
          "and",
          "hybrid",
          "attention",
          "https",
          "github",
          "com",
          "blob",
          "b785640b",
          "textembedding",
          "dense",
          "relevant",
          "source",
          "files"
        ],
        "term_weights": [
          {
            "term": "embeddings",
            "tf": 7,
            "weight": 0.09589
          },
          {
            "term": "sparse",
            "tf": 5,
            "weight": 0.068493
          },
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.054795
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.054795
          },
          {
            "term": "fastembed",
            "tf": 4,
            "weight": 0.054795
          },
          {
            "term": "search",
            "tf": 3,
            "weight": 0.041096
          },
          {
            "term": "qdrant",
            "tf": 3,
            "weight": 0.041096
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "hybrid",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "attention",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "b785640b",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "textembedding",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "dense",
            "tf": 2,
            "weight": 0.027397
          },
          {
            "term": "relevant",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "source",
            "tf": 1,
            "weight": 0.013699
          },
          {
            "term": "files",
            "tf": 1,
            "weight": 0.013699
          }
        ],
        "unique_terms": 40,
        "total_terms": 73
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Sparse and Hybrid Search",
        "and",
        "attention",
        "embeddings",
        "fastembed",
        "hybrid",
        "qdrant",
        "search",
        "sparse",
        "test",
        "tests"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5226530612244897,
      "overall": 0.7075510204081632
    }
  },
  {
    "text": "## Sparse Embedding Models in FastEmbed  FastEmbed provides several sparse embedding models through the `SparseTextEmbedding` class: ``` ``` Sources: [tests/test\\_sparse\\_embeddings.py6-7](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_sparse_embeddings.py#L6-L7) [tests/test\\_attention\\_embeddings.py6](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_attention_embeddings.py#L6-L6)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0002",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 2,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Sparse Embedding Models in FastEmbed"
      ],
      "heading_text": "Sparse Embedding Models in FastEmbed",
      "token_count": 104,
      "char_count": 409,
      "start_char": 3343,
      "end_char": 3752,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5185714285714286,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.570271",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 104,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Sparse Embedding Models in FastEmbed",
      "chunk_hash": "ed9a779273262e97",
      "content_digest": "ed9a779273262e97",
      "chunk_length": 409,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "sparse",
          "fastembed",
          "tests",
          "test",
          "embeddings",
          "embedding",
          "models",
          "py6",
          "https",
          "github",
          "com",
          "qdrant",
          "blob",
          "b785640b",
          "attention",
          "provides",
          "several",
          "through",
          "the",
          "sparsetextembedding"
        ],
        "term_weights": [
          {
            "term": "sparse",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "fastembed",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "embeddings",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "embedding",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "models",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "py6",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "qdrant",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "b785640b",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "attention",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "several",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "sparsetextembedding",
            "tf": 1,
            "weight": 0.021277
          }
        ],
        "unique_terms": 22,
        "total_terms": 47
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Sparse Embedding Models in FastEmbed",
        "embedding",
        "embeddings",
        "fastembed",
        "github",
        "https",
        "models",
        "py6",
        "sparse",
        "test",
        "tests"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5185714285714286,
      "overall": 0.7061904761904761
    }
  },
  {
    "text": "### Supported Models\n\nFastEmbed supports multiple types of sparse embedding models:\n\n1. **SPLADE Models**: Sparse Lexical and Expansion models (e.g., \"prithivida/Splade\\_PP\\_en\\_v1\")\n2. **BM25**: Classical lexical retrieval algorithm based on term frequency-inverse document frequency\n3. **BM42**: Attention-based sparse embeddings that combine neural and lexical features\n\nEach model produces sparse embeddings with different characteristics suitable for various search tasks.\n\nSources: [tests/test\\_sparse\\_embeddings.py52](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_sparse_embeddings.py#L52-L52) [tests/test\\_attention\\_embeddings.py10](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_attention_embeddings.py#L10-L10)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0003",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Supported Models"
      ],
      "heading_text": "Supported Models",
      "token_count": 171,
      "char_count": 751,
      "start_char": 3756,
      "end_char": 4507,
      "semantic_score": 0.7,
      "structural_score": 0.7,
      "retrieval_quality": 0.55,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.570794",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 171,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Supported Models",
      "chunk_hash": "953fefdeaa321dd8",
      "content_digest": "953fefdeaa321dd8",
      "chunk_length": 751,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "sparse",
          "embeddings",
          "models",
          "tests",
          "test",
          "fastembed",
          "lexical",
          "attention",
          "splade",
          "and",
          "based",
          "frequency",
          "https",
          "github",
          "com",
          "qdrant",
          "blob",
          "b785640b",
          "l52",
          "l10"
        ],
        "term_weights": [
          {
            "term": "sparse",
            "tf": 6,
            "weight": 0.066667
          },
          {
            "term": "embeddings",
            "tf": 6,
            "weight": 0.066667
          },
          {
            "term": "models",
            "tf": 4,
            "weight": 0.044444
          },
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.044444
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.044444
          },
          {
            "term": "fastembed",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "lexical",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "attention",
            "tf": 3,
            "weight": 0.033333
          },
          {
            "term": "splade",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "based",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "frequency",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "qdrant",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "b785640b",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "l52",
            "tf": 2,
            "weight": 0.022222
          },
          {
            "term": "l10",
            "tf": 2,
            "weight": 0.022222
          }
        ],
        "unique_terms": 53,
        "total_terms": 90
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Supported Models",
        "and",
        "attention",
        "embeddings",
        "fastembed",
        "lexical",
        "models",
        "sparse",
        "splade",
        "test",
        "tests"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7,
      "retrieval_quality": 0.55,
      "overall": 0.65
    }
  },
  {
    "text": "### Query vs. Passage Embeddings  For search applications, FastEmbed allows you to generate specialized embeddings for queries and passages: ``` ``` This distinction is important for asymmetric search scenarios where queries and documents may need different processing. Sources: [tests/test\\_sparse\\_embeddings.py84-86](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_sparse_embeddings.py#L84-L86)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0006",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Query vs. Passage Embeddings"
      ],
      "heading_text": "Query vs. Passage Embeddings",
      "token_count": 84,
      "char_count": 410,
      "start_char": 4809,
      "end_char": 5219,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5361538461538461,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.573190",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 84,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Query vs. Passage Embeddings",
      "chunk_hash": "b2b9a872ef37b921",
      "content_digest": "b2b9a872ef37b921",
      "chunk_length": 410,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "embeddings",
          "for",
          "search",
          "fastembed",
          "queries",
          "and",
          "tests",
          "test",
          "sparse",
          "query",
          "passage",
          "applications",
          "allows",
          "you",
          "generate",
          "specialized",
          "passages",
          "this",
          "distinction",
          "important"
        ],
        "term_weights": [
          {
            "term": "embeddings",
            "tf": 4,
            "weight": 0.08
          },
          {
            "term": "for",
            "tf": 3,
            "weight": 0.06
          },
          {
            "term": "search",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "fastembed",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "queries",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "sparse",
            "tf": 2,
            "weight": 0.04
          },
          {
            "term": "query",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "passage",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "applications",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "allows",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "you",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "generate",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "specialized",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "passages",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "this",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "distinction",
            "tf": 1,
            "weight": 0.02
          },
          {
            "term": "important",
            "tf": 1,
            "weight": 0.02
          }
        ],
        "unique_terms": 38,
        "total_terms": 50
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Query vs. Passage Embeddings",
        "and",
        "embeddings",
        "fastembed",
        "for",
        "queries",
        "query",
        "search",
        "sparse",
        "test",
        "tests"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5361538461538461,
      "overall": 0.712051282051282
    }
  },
  {
    "text": "### Language Support and Special Characters  BM25 models support multiple languages and handle special characters effectively: ``` ``` The language parameter affects tokenization and stemming behavior, optimizing for language-specific features. Sources: [tests/test\\_attention\\_embeddings.py104-111](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_attention_embeddings.py#L104-L111) [tests/test\\_attention\\_embeddings.py125-144](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_attention_embeddings.py#L125-L144)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0007",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 7,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Language Support and Special Characters"
      ],
      "heading_text": "Language Support and Special Characters",
      "token_count": 115,
      "char_count": 537,
      "start_char": 5224,
      "end_char": 5761,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5263636363636364,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.574851",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 115,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Language Support and Special Characters",
      "chunk_hash": "827d7b5f41f23a25",
      "content_digest": "827d7b5f41f23a25",
      "chunk_length": 537,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tests",
          "test",
          "attention",
          "embeddings",
          "language",
          "and",
          "support",
          "special",
          "characters",
          "https",
          "github",
          "com",
          "qdrant",
          "fastembed",
          "blob",
          "b785640b",
          "bm25",
          "models",
          "multiple",
          "languages"
        ],
        "term_weights": [
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "attention",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "embeddings",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "language",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "support",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "special",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "characters",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "qdrant",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "fastembed",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "b785640b",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "bm25",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "models",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "languages",
            "tf": 1,
            "weight": 0.014925
          }
        ],
        "unique_terms": 41,
        "total_terms": 67
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Language Support and Special Characters",
        "and",
        "attention",
        "characters",
        "embeddings",
        "https",
        "language",
        "special",
        "support",
        "test",
        "tests"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5263636363636364,
      "overall": 0.7087878787878786
    }
  },
  {
    "text": "## Sparse Embedding Structure  Sparse embeddings in FastEmbed are represented with two components:  1. **Indices**: Integer array indicating which dimensions have non-zero values 2. **Values**: Corresponding importance/weight for each non-zero dimension ``` ``` This format allows for efficient storage and processing of high-dimensional sparse vectors. Sources: [tests/test\\_sparse\\_embeddings.py10-47](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_sparse_embeddings.py#L10-L47)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0008",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Sparse Embedding Structure"
      ],
      "heading_text": "Sparse Embedding Structure",
      "token_count": 105,
      "char_count": 494,
      "start_char": 5766,
      "end_char": 6260,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5580851063829787,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.577385",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 105,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Sparse Embedding Structure",
      "chunk_hash": "2ff37955c9f24b51",
      "content_digest": "2ff37955c9f24b51",
      "chunk_length": 494,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "sparse",
          "embeddings",
          "fastembed",
          "non",
          "zero",
          "values",
          "for",
          "tests",
          "test",
          "embedding",
          "structure",
          "are",
          "represented",
          "with",
          "two",
          "components",
          "indices",
          "integer",
          "array",
          "indicating"
        ],
        "term_weights": [
          {
            "term": "sparse",
            "tf": 5,
            "weight": 0.081967
          },
          {
            "term": "embeddings",
            "tf": 3,
            "weight": 0.04918
          },
          {
            "term": "fastembed",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "non",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "zero",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "values",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.032787
          },
          {
            "term": "embedding",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "structure",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "are",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "represented",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "two",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "components",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "indices",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "integer",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "array",
            "tf": 1,
            "weight": 0.016393
          },
          {
            "term": "indicating",
            "tf": 1,
            "weight": 0.016393
          }
        ],
        "unique_terms": 48,
        "total_terms": 61
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Sparse Embedding Structure",
        "embedding",
        "embeddings",
        "fastembed",
        "for",
        "non",
        "sparse",
        "test",
        "tests",
        "values",
        "zero"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5580851063829787,
      "overall": 0.7193617021276596
    }
  },
  {
    "text": "## Implementing Hybrid Search  Hybrid search combines the strengths of sparse and dense embeddings to improve search quality. Here's how to implement it: ``` ```",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0009",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Implementing Hybrid Search"
      ],
      "heading_text": "Implementing Hybrid Search",
      "token_count": 30,
      "char_count": 161,
      "start_char": 6265,
      "end_char": 6426,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.53,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.578299",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 30,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Implementing Hybrid Search",
      "chunk_hash": "e7e15a9d25e7570d",
      "content_digest": "e7e15a9d25e7570d",
      "chunk_length": 161,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "search",
          "hybrid",
          "implementing",
          "combines",
          "the",
          "strengths",
          "sparse",
          "and",
          "dense",
          "embeddings",
          "improve",
          "quality",
          "here",
          "how",
          "implement"
        ],
        "term_weights": [
          {
            "term": "search",
            "tf": 3,
            "weight": 0.166667
          },
          {
            "term": "hybrid",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "implementing",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "combines",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "strengths",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "sparse",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "dense",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "embeddings",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "improve",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "quality",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "here",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "how",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "implement",
            "tf": 1,
            "weight": 0.055556
          }
        ],
        "unique_terms": 15,
        "total_terms": 18
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Implementing Hybrid Search",
        "and",
        "combines",
        "dense",
        "embeddings",
        "hybrid",
        "implementing",
        "search",
        "sparse",
        "strengths",
        "the"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.53,
      "overall": 0.71
    }
  },
  {
    "text": "### Implementation Steps:  1. Generate both sparse and dense embeddings for your document collection  2. For each query, generate both sparse and dense query embeddings  3. Perform separate searches with each embedding type  4. Combine and re-rank the results using strategies like:     - Score normalization and weighted combination    - Reciprocal rank fusion    - Taking the union of top results from both methods  Sources: [tests/test\\_sparse\\_embeddings.py](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_sparse_embeddings.py) [tests/test\\_attention\\_embeddings.py](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_attention_embeddings.py)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0010",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 10,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Implementation Steps:"
      ],
      "heading_text": "Implementation Steps:",
      "token_count": 147,
      "char_count": 670,
      "start_char": 6429,
      "end_char": 7099,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.7207692307692307,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.578962",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 147,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Implementation Steps:",
      "chunk_hash": "a71f38c5f676852c",
      "content_digest": "a71f38c5f676852c",
      "chunk_length": 670,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "embeddings",
          "sparse",
          "and",
          "tests",
          "test",
          "both",
          "generate",
          "dense",
          "for",
          "each",
          "query",
          "rank",
          "the",
          "results",
          "https",
          "github",
          "com",
          "qdrant",
          "fastembed",
          "blob"
        ],
        "term_weights": [
          {
            "term": "embeddings",
            "tf": 6,
            "weight": 0.071429
          },
          {
            "term": "sparse",
            "tf": 4,
            "weight": 0.047619
          },
          {
            "term": "and",
            "tf": 4,
            "weight": 0.047619
          },
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.047619
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.047619
          },
          {
            "term": "both",
            "tf": 3,
            "weight": 0.035714
          },
          {
            "term": "generate",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "dense",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "for",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "each",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "query",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "rank",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "results",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "qdrant",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "fastembed",
            "tf": 2,
            "weight": 0.02381
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.02381
          }
        ],
        "unique_terms": 49,
        "total_terms": 84
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Implementation Steps:",
        "and",
        "both",
        "dense",
        "each",
        "embeddings",
        "for",
        "generate",
        "sparse",
        "test",
        "tests"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.7207692307692307,
      "overall": 0.7735897435897435
    }
  },
  {
    "text": "## Performance Optimization\n\nFastEmbed provides several performance optimizations for sparse embeddings:",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0011",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Performance Optimization"
      ],
      "heading_text": "Performance Optimization",
      "token_count": 14,
      "char_count": 104,
      "start_char": 7101,
      "end_char": 7205,
      "semantic_score": 0.8,
      "structural_score": 0.7,
      "retrieval_quality": 0.5627272727272727,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.579434",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 14,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Performance Optimization",
      "chunk_hash": "a59fc27325fdd51f",
      "content_digest": "a59fc27325fdd51f",
      "chunk_length": 104,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "performance",
          "optimization",
          "fastembed",
          "provides",
          "several",
          "optimizations",
          "for",
          "sparse",
          "embeddings"
        ],
        "term_weights": [
          {
            "term": "performance",
            "tf": 2,
            "weight": 0.2
          },
          {
            "term": "optimization",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "fastembed",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "several",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "optimizations",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "sparse",
            "tf": 1,
            "weight": 0.1
          },
          {
            "term": "embeddings",
            "tf": 1,
            "weight": 0.1
          }
        ],
        "unique_terms": 9,
        "total_terms": 10
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Performance Optimization",
        "embeddings",
        "fastembed",
        "for",
        "optimization",
        "optimizations",
        "performance",
        "provides",
        "several",
        "sparse"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.7,
      "retrieval_quality": 0.5627272727272727,
      "overall": 0.6875757575757575
    }
  },
  {
    "text": "### Batch Processing  Process multiple documents efficiently: ``` ``` Sources: [tests/test\\_sparse\\_embeddings.py98-102](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_sparse_embeddings.py#L98-L102)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0012",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Batch Processing"
      ],
      "heading_text": "Batch Processing",
      "token_count": 51,
      "char_count": 212,
      "start_char": 7207,
      "end_char": 7419,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5627272727272727,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.580285",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 51,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Batch Processing",
      "chunk_hash": "034677a7ac971a48",
      "content_digest": "034677a7ac971a48",
      "chunk_length": 212,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tests",
          "test",
          "sparse",
          "embeddings",
          "batch",
          "processing",
          "process",
          "multiple",
          "documents",
          "efficiently",
          "sources",
          "py98",
          "102",
          "https",
          "github",
          "com",
          "qdrant",
          "fastembed",
          "blob",
          "b785640b"
        ],
        "term_weights": [
          {
            "term": "tests",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "test",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "sparse",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "embeddings",
            "tf": 2,
            "weight": 0.076923
          },
          {
            "term": "batch",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "processing",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "process",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "documents",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "efficiently",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "py98",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "102",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "https",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "github",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "com",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "qdrant",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "fastembed",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "blob",
            "tf": 1,
            "weight": 0.038462
          },
          {
            "term": "b785640b",
            "tf": 1,
            "weight": 0.038462
          }
        ],
        "unique_terms": 22,
        "total_terms": 26
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Batch Processing",
        "batch",
        "documents",
        "efficiently",
        "embeddings",
        "multiple",
        "process",
        "processing",
        "sparse",
        "test",
        "tests"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5627272727272727,
      "overall": 0.6875757575757575
    }
  },
  {
    "text": "### Parallel Execution  Enable parallel processing to utilize multiple CPU cores: ``` ``` Sources: [tests/test\\_sparse\\_embeddings.py98-121](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_sparse_embeddings.py#L98-L121) [tests/test\\_attention\\_embeddings.py74-95](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_attention_embeddings.py#L74-L95)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0013",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Parallel Execution"
      ],
      "heading_text": "Parallel Execution",
      "token_count": 93,
      "char_count": 370,
      "start_char": 7423,
      "end_char": 7793,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.581354",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 93,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Parallel Execution",
      "chunk_hash": "bd154340883b2cef",
      "content_digest": "bd154340883b2cef",
      "chunk_length": 370,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tests",
          "test",
          "embeddings",
          "parallel",
          "sparse",
          "https",
          "github",
          "com",
          "qdrant",
          "fastembed",
          "blob",
          "b785640b",
          "attention",
          "execution",
          "enable",
          "processing",
          "utilize",
          "multiple",
          "cpu",
          "cores"
        ],
        "term_weights": [
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "embeddings",
            "tf": 4,
            "weight": 0.085106
          },
          {
            "term": "parallel",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "sparse",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "qdrant",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "fastembed",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "b785640b",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "attention",
            "tf": 2,
            "weight": 0.042553
          },
          {
            "term": "execution",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "enable",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "processing",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "utilize",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "cpu",
            "tf": 1,
            "weight": 0.021277
          },
          {
            "term": "cores",
            "tf": 1,
            "weight": 0.021277
          }
        ],
        "unique_terms": 28,
        "total_terms": 47
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Parallel Execution",
        "com",
        "embeddings",
        "fastembed",
        "github",
        "https",
        "parallel",
        "qdrant",
        "sparse",
        "test",
        "tests"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5525,
      "overall": 0.6841666666666667
    }
  },
  {
    "text": "### Lazy Loading  Defer model loading until first use to conserve memory: ``` ``` Sources: [tests/test\\_sparse\\_embeddings.py189-206](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_sparse_embeddings.py#L189-L206) [tests/test\\_attention\\_embeddings.py147-159](https://github.com/qdrant/fastembed/blob/b785640b/tests/test_attention_embeddings.py#L147-L159)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0014",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Lazy Loading"
      ],
      "heading_text": "Lazy Loading",
      "token_count": 95,
      "char_count": 368,
      "start_char": 7797,
      "end_char": 8165,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5547058823529412,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.582434",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 95,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Lazy Loading",
      "chunk_hash": "b03fdee9702b73d9",
      "content_digest": "b03fdee9702b73d9",
      "chunk_length": 368,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "tests",
          "test",
          "embeddings",
          "loading",
          "sparse",
          "https",
          "github",
          "com",
          "qdrant",
          "fastembed",
          "blob",
          "b785640b",
          "attention",
          "lazy",
          "defer",
          "model",
          "until",
          "first",
          "use",
          "conserve"
        ],
        "term_weights": [
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.081633
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.081633
          },
          {
            "term": "embeddings",
            "tf": 4,
            "weight": 0.081633
          },
          {
            "term": "loading",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "sparse",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "qdrant",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "fastembed",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "b785640b",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "attention",
            "tf": 2,
            "weight": 0.040816
          },
          {
            "term": "lazy",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "defer",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "until",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "first",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "use",
            "tf": 1,
            "weight": 0.020408
          },
          {
            "term": "conserve",
            "tf": 1,
            "weight": 0.020408
          }
        ],
        "unique_terms": 30,
        "total_terms": 49
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Lazy Loading",
        "com",
        "embeddings",
        "fastembed",
        "github",
        "https",
        "loading",
        "qdrant",
        "sparse",
        "test",
        "tests"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5547058823529412,
      "overall": 0.6849019607843138
    }
  },
  {
    "text": "## BM25 Configuration\n\nThe BM25 model offers additional configuration options:",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0015",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "BM25 Configuration"
      ],
      "heading_text": "BM25 Configuration",
      "token_count": 14,
      "char_count": 78,
      "start_char": 8169,
      "end_char": 8247,
      "semantic_score": 0.8,
      "structural_score": 0.7,
      "retrieval_quality": 0.53,
      "chunking_strategy": "hierarchical_balanced_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.582774",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 14,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "BM25 Configuration",
      "chunk_hash": "503b9199f606bb80",
      "content_digest": "503b9199f606bb80",
      "chunk_length": 78,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "bm25",
          "configuration",
          "the",
          "model",
          "offers",
          "additional",
          "options"
        ],
        "term_weights": [
          {
            "term": "bm25",
            "tf": 2,
            "weight": 0.222222
          },
          {
            "term": "configuration",
            "tf": 2,
            "weight": 0.222222
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.111111
          },
          {
            "term": "model",
            "tf": 1,
            "weight": 0.111111
          },
          {
            "term": "offers",
            "tf": 1,
            "weight": 0.111111
          },
          {
            "term": "additional",
            "tf": 1,
            "weight": 0.111111
          },
          {
            "term": "options",
            "tf": 1,
            "weight": 0.111111
          }
        ],
        "unique_terms": 7,
        "total_terms": 9
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "BM25 Configuration",
        "additional",
        "bm25",
        "configuration",
        "model",
        "offers",
        "options",
        "the"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.7,
      "retrieval_quality": 0.53,
      "overall": 0.6766666666666667
    }
  },
  {
    "text": "## Summary  Sparse embeddings provide a complementary approach to dense embeddings, capturing lexical and token-level information that can improve search relevance. FastEmbed's `SparseTextEmbedding` class offers a flexible and efficient way to generate these embeddings with various models, including SPLADE, BM25, and BM42. Hybrid search, combining sparse and dense approaches, leverages the strengths of both methods to deliver more comprehensive search results, particularly beneficial for complex search scenarios where both semantic and lexical matching are important. Dismiss  Refresh this wiki  Enter email to refresh",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0017",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 17,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Summary"
      ],
      "heading_text": "Summary",
      "token_count": 109,
      "char_count": 624,
      "start_char": 8583,
      "end_char": 9207,
      "semantic_score": 0.7999999999999999,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5321686746987951,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.585256",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 109,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "Summary",
      "chunk_hash": "99e9dad53bb8b5bc",
      "content_digest": "99e9dad53bb8b5bc",
      "chunk_length": 624,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "and",
          "search",
          "embeddings",
          "sparse",
          "dense",
          "lexical",
          "both",
          "refresh",
          "summary",
          "provide",
          "complementary",
          "approach",
          "capturing",
          "token",
          "level",
          "information",
          "that",
          "can",
          "improve",
          "relevance"
        ],
        "term_weights": [
          {
            "term": "and",
            "tf": 5,
            "weight": 0.065789
          },
          {
            "term": "search",
            "tf": 4,
            "weight": 0.052632
          },
          {
            "term": "embeddings",
            "tf": 3,
            "weight": 0.039474
          },
          {
            "term": "sparse",
            "tf": 2,
            "weight": 0.026316
          },
          {
            "term": "dense",
            "tf": 2,
            "weight": 0.026316
          },
          {
            "term": "lexical",
            "tf": 2,
            "weight": 0.026316
          },
          {
            "term": "both",
            "tf": 2,
            "weight": 0.026316
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.026316
          },
          {
            "term": "summary",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "provide",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "complementary",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "approach",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "capturing",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "token",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "level",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "information",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "that",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "can",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "improve",
            "tf": 1,
            "weight": 0.013158
          },
          {
            "term": "relevance",
            "tf": 1,
            "weight": 0.013158
          }
        ],
        "unique_terms": 62,
        "total_terms": 76
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Summary",
        "and",
        "both",
        "dense",
        "embeddings",
        "lexical",
        "provide",
        "refresh",
        "search",
        "sparse",
        "summary"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.7999999999999999,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5321686746987951,
      "overall": 0.7440562248995982
    }
  },
  {
    "text": "### On this page  - [Sparse and Hybrid Search](#sparse-and-hybrid-search.md) - [Understanding Sparse Embeddings and Hybrid Search](#understanding-sparse-embeddings-and-hybrid-search.md) - [Sparse Embedding Models in FastEmbed](#sparse-embedding-models-in-fastembed.md) - [Supported Models](#supported-models.md) - [Using Sparse Embeddings](#using-sparse-embeddings.md) - [Basic Usage](#basic-usage.md) - [Query vs. Passage Embeddings](#query-vs-passage-embeddings.md) - [Language Support and Special Characters](#language-support-and-special-characters.md) - [Sparse Embedding Structure](#sparse-embedding-structure.md) - [Implementing Hybrid Search](#implementing-hybrid-search.md) - [Implementation Steps:](#implementation-steps.md) - [Performance Optimization](#performance-optimization.md) - [Batch Processing](#batch-processing.md) - [Parallel Execution](#parallel-execution.md) - [Lazy Loading](#lazy-loading.md) - [BM25 Configuration](#bm25-configuration.md) - [Stemming and Stopwords](#stemming-and-stopwords.md) - [Summary](#summary.md)",
    "metadata": {
      "chunk_id": "978d5b07ec2a-0018",
      "source_file": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "file_extension": ".md",
      "chunk_index": 18,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "On this page"
      ],
      "heading_text": "On this page",
      "token_count": 262,
      "char_count": 1045,
      "start_char": 9211,
      "end_char": 10256,
      "semantic_score": 0.6,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.686,
      "chunking_strategy": "hierarchical_balanced_structural",
      "content_type": "code_block",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1024,
      "processing_timestamp": "2025-10-20T18:30:42.587502",
      "model_aware_chunking": true,
      "within_token_limit": true,
      "estimated_tokens": 262,
      "document_id": "978d5b07ec2a",
      "document_name": "_qdrant_fastembed_7.2-sparse-and-hybrid-search",
      "source_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_filename": "_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "source_directory": "Docs\\Qdrant\\qdrant_fastembed",
      "relative_path": "Docs\\Qdrant\\qdrant_fastembed\\_qdrant_fastembed_7.2-sparse-and-hybrid-search.md",
      "hierarchy_path": "On this page",
      "chunk_hash": "7211538efb625826",
      "content_digest": "7211538efb625826",
      "chunk_length": 1045,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant"
      ],
      "target_model": "jina-code-embeddings-1.5b",
      "chunker_version": "v5_unified",
      "chunk_size_tokens": 26214,
      "chunk_overlap_tokens": 2621,
      "chunk_size_chars": 104856,
      "chunk_overlap_chars": 10484,
      "safety_margin": 0.8,
      "model_hf_id": "jinaai/jina-code-embeddings-1.5b",
      "model_max_tokens": 32768,
      "model_vector_dim": 1024,
      "recommended_batch_size": 16,
      "backend": "pytorch",
      "memory_efficient": true,
      "query_prefix": "Encode this code snippet for semantic retrieval: ",
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "sparse",
          "and",
          "hybrid",
          "search",
          "embeddings",
          "embedding",
          "models",
          "understanding",
          "fastembed",
          "supported",
          "using",
          "basic",
          "usage",
          "query",
          "passage",
          "language",
          "support",
          "special",
          "characters",
          "structure"
        ],
        "term_weights": [
          {
            "term": "sparse",
            "tf": 10,
            "weight": 0.096154
          },
          {
            "term": "and",
            "tf": 8,
            "weight": 0.076923
          },
          {
            "term": "hybrid",
            "tf": 6,
            "weight": 0.057692
          },
          {
            "term": "search",
            "tf": 6,
            "weight": 0.057692
          },
          {
            "term": "embeddings",
            "tf": 6,
            "weight": 0.057692
          },
          {
            "term": "embedding",
            "tf": 4,
            "weight": 0.038462
          },
          {
            "term": "models",
            "tf": 4,
            "weight": 0.038462
          },
          {
            "term": "understanding",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "fastembed",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "supported",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "using",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "basic",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "usage",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "query",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "passage",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "language",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "support",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "special",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "characters",
            "tf": 2,
            "weight": 0.019231
          },
          {
            "term": "structure",
            "tf": 2,
            "weight": 0.019231
          }
        ],
        "unique_terms": 38,
        "total_terms": 104
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "On this page",
        "and",
        "embedding",
        "embeddings",
        "fastembed",
        "hybrid",
        "models",
        "search",
        "sparse",
        "supported",
        "understanding"
      ],
      "collection_name": "Qdrant"
    },
    "advanced_scores": {
      "semantic": 0.6,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.686,
      "overall": 0.7286666666666667
    }
  }
]