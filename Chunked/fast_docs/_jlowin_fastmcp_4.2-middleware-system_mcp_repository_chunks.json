[
  {
    "text": "## Core Middleware Architecture\n\nThe middleware system is built around a pipeline pattern where each middleware can inspect, modify, or handle MCP messages before passing control to the next middleware in the chain.",
    "metadata": {
      "chunk_id": "c62448a529a1-0001",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Core Middleware Architecture"
      ],
      "heading_text": "Core Middleware Architecture",
      "token_count": 37,
      "char_count": 215,
      "start_char": 3813,
      "end_char": 4028,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5445454545454546,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.724032",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Core Middleware Architecture",
      "chunk_hash": "7107383bd5b7f256",
      "content_digest": "7107383bd5b7f256",
      "chunk_length": 215,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "the",
          "core",
          "architecture",
          "system",
          "built",
          "around",
          "pipeline",
          "pattern",
          "where",
          "each",
          "can",
          "inspect",
          "modify",
          "handle",
          "mcp",
          "messages",
          "before",
          "passing",
          "control"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 4,
            "weight": 0.148148
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.111111
          },
          {
            "term": "core",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "architecture",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "built",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "around",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "pipeline",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "pattern",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "where",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "each",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "can",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "inspect",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "modify",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "handle",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "mcp",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "messages",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "before",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "passing",
            "tf": 1,
            "weight": 0.037037
          },
          {
            "term": "control",
            "tf": 1,
            "weight": 0.037037
          }
        ],
        "unique_terms": 22,
        "total_terms": 27
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Core Middleware Architecture",
        "architecture",
        "around",
        "built",
        "core",
        "middleware",
        "pattern",
        "pipeline",
        "system",
        "the",
        "where"
      ]
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5445454545454546,
      "overall": 0.7481818181818182
    }
  },
  {
    "text": "### Core Middleware Components\n\n```\n```\n\nSources: [src/fastmcp/server/middleware/middleware.py11-50](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/middleware/middleware.py#L11-L50)\n\nThe `Middleware` base class provides hook methods for different MCP operations. The `MiddlewareContext[T]` carries message data and metadata through the pipeline, while `CallNext[T, R]` represents the continuation of the middleware chain.",
    "metadata": {
      "chunk_id": "c62448a529a1-0003",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 3,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Core Middleware Components"
      ],
      "heading_text": "Core Middleware Components",
      "token_count": 105,
      "char_count": 441,
      "start_char": 4380,
      "end_char": 4821,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5438461538461539,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.724418",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Core Middleware Components",
      "chunk_hash": "b9e7036f0fdefbbd",
      "content_digest": "b9e7036f0fdefbbd",
      "chunk_length": 441,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "the",
          "fastmcp",
          "src",
          "server",
          "core",
          "components",
          "sources",
          "py11",
          "https",
          "github",
          "com",
          "jlowin",
          "blob",
          "66221ed3",
          "l11",
          "l50",
          "base",
          "class",
          "provides"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 7,
            "weight": 0.132075
          },
          {
            "term": "the",
            "tf": 5,
            "weight": 0.09434
          },
          {
            "term": "fastmcp",
            "tf": 3,
            "weight": 0.056604
          },
          {
            "term": "src",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "server",
            "tf": 2,
            "weight": 0.037736
          },
          {
            "term": "core",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "components",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "py11",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "https",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "github",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "com",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "jlowin",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "blob",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "66221ed3",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "l11",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "l50",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "base",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.018868
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.018868
          }
        ],
        "unique_terms": 39,
        "total_terms": 53
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Core Middleware Components",
        "components",
        "core",
        "fastmcp",
        "https",
        "middleware",
        "py11",
        "server",
        "sources",
        "src",
        "the"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5438461538461539,
      "overall": 0.7146153846153845
    }
  },
  {
    "text": "## Built-in Middleware Types\n\nFastMCP includes several production-ready middleware implementations for common server needs.",
    "metadata": {
      "chunk_id": "c62448a529a1-0004",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 4,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Built-in Middleware Types"
      ],
      "heading_text": "Built-in Middleware Types",
      "token_count": 20,
      "char_count": 123,
      "start_char": 4823,
      "end_char": 4946,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5685714285714286,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.724514",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Built-in Middleware Types",
      "chunk_hash": "5eac7b88c71d52d3",
      "content_digest": "5eac7b88c71d52d3",
      "chunk_length": 123,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "built",
          "types",
          "fastmcp",
          "includes",
          "several",
          "production",
          "ready",
          "implementations",
          "for",
          "common",
          "server",
          "needs"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 2,
            "weight": 0.142857
          },
          {
            "term": "built",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "types",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "fastmcp",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "includes",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "several",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "production",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "ready",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "implementations",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "common",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "server",
            "tf": 1,
            "weight": 0.071429
          },
          {
            "term": "needs",
            "tf": 1,
            "weight": 0.071429
          }
        ],
        "unique_terms": 13,
        "total_terms": 14
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Built-in Middleware Types",
        "built",
        "fastmcp",
        "for",
        "implementations",
        "includes",
        "middleware",
        "production",
        "ready",
        "several",
        "types"
      ]
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5685714285714286,
      "overall": 0.7561904761904762
    }
  },
  {
    "text": "### Logging Middleware  The logging system provides two complementary approaches for request monitoring and debugging. ``` ``` Sources: [src/fastmcp/server/middleware/logging.py143-196](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/middleware/logging.py#L143-L196) [src/fastmcp/server/middleware/logging.py198-246](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/middleware/logging.py#L198-L246)  | Middleware                    | Logger Name          | Output Format   | Use Case                     | | ----------------------------- | -------------------- | --------------- | ---------------------------- | | `LoggingMiddleware`           | `fastmcp.requests`   | Key-value pairs | Development, human debugging | | `StructuredLoggingMiddleware` | `fastmcp.structured` | JSON objects    | Production, log aggregation  |  Key features include payload serialization via `default_serializer()` using `pydantic_core.to_json()`, token estimation at approximately 4 characters per token, and configurable payload truncation via `max_payload_length`.",
    "metadata": {
      "chunk_id": "c62448a529a1-0005",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 5,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Logging Middleware"
      ],
      "heading_text": "Logging Middleware",
      "token_count": 231,
      "char_count": 1084,
      "start_char": 4948,
      "end_char": 6032,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5047727272727273,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "table_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.724905",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Logging Middleware",
      "chunk_hash": "212a836e3841fedf",
      "content_digest": "212a836e3841fedf",
      "chunk_length": 1084,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "fastmcp",
          "logging",
          "middleware",
          "src",
          "server",
          "payload",
          "and",
          "debugging",
          "https",
          "github",
          "com",
          "jlowin",
          "blob",
          "66221ed3",
          "key",
          "json",
          "via",
          "token",
          "the",
          "system"
        ],
        "term_weights": [
          {
            "term": "fastmcp",
            "tf": 8,
            "weight": 0.074766
          },
          {
            "term": "logging",
            "tf": 6,
            "weight": 0.056075
          },
          {
            "term": "middleware",
            "tf": 6,
            "weight": 0.056075
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.037383
          },
          {
            "term": "payload",
            "tf": 3,
            "weight": 0.028037
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "debugging",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "jlowin",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "66221ed3",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "key",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "json",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "via",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "token",
            "tf": 2,
            "weight": 0.018692
          },
          {
            "term": "the",
            "tf": 1,
            "weight": 0.009346
          },
          {
            "term": "system",
            "tf": 1,
            "weight": 0.009346
          }
        ],
        "unique_terms": 70,
        "total_terms": 107
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Logging Middleware",
        "and",
        "debugging",
        "fastmcp",
        "github",
        "https",
        "logging",
        "middleware",
        "payload",
        "server",
        "src"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5047727272727273,
      "overall": 0.701590909090909
    }
  },
  {
    "text": "### Timing and Performance Middleware\n\nPerformance monitoring middleware provides request timing and operation-specific measurements.\n\n```\n```\n\nSources: [src/fastmcp/server/middleware/timing.py10-58](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/middleware/timing.py#L10-L58) [src/fastmcp/server/middleware/timing.py60-157](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/middleware/timing.py#L60-L157)\n\nBoth middleware use `time.perf_counter()` for high-precision timing measurements and log results in milliseconds with 2 decimal precision.",
    "metadata": {
      "chunk_id": "c62448a529a1-0006",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 6,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Timing and Performance Middleware"
      ],
      "heading_text": "Timing and Performance Middleware",
      "token_count": 143,
      "char_count": 582,
      "start_char": 6036,
      "end_char": 6618,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5233333333333333,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.725368",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Timing and Performance Middleware",
      "chunk_hash": "bb177611a110a1b6",
      "content_digest": "bb177611a110a1b6",
      "chunk_length": 582,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "timing",
          "middleware",
          "fastmcp",
          "src",
          "server",
          "and",
          "performance",
          "measurements",
          "https",
          "github",
          "com",
          "jlowin",
          "blob",
          "66221ed3",
          "precision",
          "monitoring",
          "provides",
          "request",
          "operation",
          "specific"
        ],
        "term_weights": [
          {
            "term": "timing",
            "tf": 7,
            "weight": 0.094595
          },
          {
            "term": "middleware",
            "tf": 7,
            "weight": 0.094595
          },
          {
            "term": "fastmcp",
            "tf": 6,
            "weight": 0.081081
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.054054
          },
          {
            "term": "and",
            "tf": 3,
            "weight": 0.040541
          },
          {
            "term": "performance",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "measurements",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "jlowin",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "66221ed3",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "precision",
            "tf": 2,
            "weight": 0.027027
          },
          {
            "term": "monitoring",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "provides",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "request",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "operation",
            "tf": 1,
            "weight": 0.013514
          },
          {
            "term": "specific",
            "tf": 1,
            "weight": 0.013514
          }
        ],
        "unique_terms": 40,
        "total_terms": 74
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Timing and Performance Middleware",
        "and",
        "fastmcp",
        "github",
        "https",
        "measurements",
        "middleware",
        "performance",
        "server",
        "src",
        "timing"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5233333333333333,
      "overall": 0.7077777777777777
    }
  },
  {
    "text": "### Rate Limiting Middleware\n\nRate limiting middleware protects servers from abuse using token bucket and sliding window algorithms.\n\n```\n```\n\nSources: [src/fastmcp/server/middleware/rate\\_limiting.py92-168](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/middleware/rate_limiting.py#L92-L168) [src/fastmcp/server/middleware/rate\\_limiting.py170-232](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/middleware/rate_limiting.py#L170-L232)\n\nBoth implementations support per-client rate limiting via `get_client_id` functions and use `asyncio.Lock()` for thread-safe operation.",
    "metadata": {
      "chunk_id": "c62448a529a1-0008",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 8,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Rate Limiting Middleware"
      ],
      "heading_text": "Rate Limiting Middleware",
      "token_count": 157,
      "char_count": 612,
      "start_char": 7333,
      "end_char": 7945,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5347368421052632,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.725995",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Rate Limiting Middleware",
      "chunk_hash": "b5bcf11ec66170f6",
      "content_digest": "b5bcf11ec66170f6",
      "chunk_length": 612,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "rate",
          "limiting",
          "middleware",
          "fastmcp",
          "src",
          "server",
          "and",
          "https",
          "github",
          "com",
          "jlowin",
          "blob",
          "66221ed3",
          "client",
          "protects",
          "servers",
          "from",
          "abuse",
          "using",
          "token"
        ],
        "term_weights": [
          {
            "term": "rate",
            "tf": 7,
            "weight": 0.084337
          },
          {
            "term": "limiting",
            "tf": 7,
            "weight": 0.084337
          },
          {
            "term": "middleware",
            "tf": 6,
            "weight": 0.072289
          },
          {
            "term": "fastmcp",
            "tf": 6,
            "weight": 0.072289
          },
          {
            "term": "src",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.048193
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "jlowin",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "66221ed3",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "client",
            "tf": 2,
            "weight": 0.024096
          },
          {
            "term": "protects",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "servers",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "from",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "abuse",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "using",
            "tf": 1,
            "weight": 0.012048
          },
          {
            "term": "token",
            "tf": 1,
            "weight": 0.012048
          }
        ],
        "unique_terms": 47,
        "total_terms": 83
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Rate Limiting Middleware",
        "and",
        "com",
        "fastmcp",
        "github",
        "https",
        "limiting",
        "middleware",
        "rate",
        "server",
        "src"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5347368421052632,
      "overall": 0.711578947368421
    }
  },
  {
    "text": "## Custom Middleware Development\n\nCreating custom middleware involves extending the `Middleware` base class and implementing the appropriate hook methods.",
    "metadata": {
      "chunk_id": "c62448a529a1-0009",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 9,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Custom Middleware Development"
      ],
      "heading_text": "Custom Middleware Development",
      "token_count": 23,
      "char_count": 154,
      "start_char": 7947,
      "end_char": 8101,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5426315789473684,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.726087",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Custom Middleware Development",
      "chunk_hash": "e068843976901985",
      "content_digest": "e068843976901985",
      "chunk_length": 154,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "custom",
          "the",
          "development",
          "creating",
          "involves",
          "extending",
          "base",
          "class",
          "and",
          "implementing",
          "appropriate",
          "hook",
          "methods"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 3,
            "weight": 0.166667
          },
          {
            "term": "custom",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.111111
          },
          {
            "term": "development",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "creating",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "involves",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "extending",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "base",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "class",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "implementing",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "appropriate",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "hook",
            "tf": 1,
            "weight": 0.055556
          },
          {
            "term": "methods",
            "tf": 1,
            "weight": 0.055556
          }
        ],
        "unique_terms": 14,
        "total_terms": 18
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Custom Middleware Development",
        "and",
        "base",
        "class",
        "creating",
        "custom",
        "development",
        "extending",
        "involves",
        "middleware",
        "the"
      ]
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5426315789473684,
      "overall": 0.7475438596491228
    }
  },
  {
    "text": "### Custom Middleware Example Pattern\n\n```\n```\n\nSources: [tests/server/middleware/test\\_logging.py110-141](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/middleware/test_logging.py#L110-L141) [tests/server/middleware/test\\_timing.py47-70](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/middleware/test_timing.py#L47-L70)\n\nCustom middleware should call `await call_next(context)` to continue the pipeline and can modify the context or result before/after the call.",
    "metadata": {
      "chunk_id": "c62448a529a1-0011",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 11,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Custom Middleware Example Pattern"
      ],
      "heading_text": "Custom Middleware Example Pattern",
      "token_count": 123,
      "char_count": 491,
      "start_char": 9169,
      "end_char": 9660,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.726982",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Custom Middleware Example Pattern",
      "chunk_hash": "87e41572b950c0e9",
      "content_digest": "87e41572b950c0e9",
      "chunk_length": 491,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "tests",
          "server",
          "test",
          "call",
          "the",
          "custom",
          "logging",
          "https",
          "github",
          "com",
          "jlowin",
          "fastmcp",
          "blob",
          "66221ed3",
          "timing",
          "context",
          "example",
          "pattern",
          "sources"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 6,
            "weight": 0.089552
          },
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.059701
          },
          {
            "term": "call",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.044776
          },
          {
            "term": "custom",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "logging",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "jlowin",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "66221ed3",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "timing",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "context",
            "tf": 2,
            "weight": 0.029851
          },
          {
            "term": "example",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "pattern",
            "tf": 1,
            "weight": 0.014925
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.014925
          }
        ],
        "unique_terms": 38,
        "total_terms": 67
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Custom Middleware Example Pattern",
        "call",
        "custom",
        "github",
        "https",
        "logging",
        "middleware",
        "server",
        "test",
        "tests",
        "the"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.54,
      "overall": 0.7133333333333333
    }
  },
  {
    "text": "## Integration with FastMCP Server\n\nMiddleware integration occurs through the `FastMCP.add_middleware()` method, which builds the middleware pipeline in registration order.",
    "metadata": {
      "chunk_id": "c62448a529a1-0012",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 12,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Integration with FastMCP Server"
      ],
      "heading_text": "Integration with FastMCP Server",
      "token_count": 32,
      "char_count": 172,
      "start_char": 9662,
      "end_char": 9834,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.727093",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Integration with FastMCP Server",
      "chunk_hash": "3dee09e2588c1ddb",
      "content_digest": "3dee09e2588c1ddb",
      "chunk_length": 172,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "integration",
          "fastmcp",
          "the",
          "with",
          "server",
          "occurs",
          "through",
          "add",
          "method",
          "which",
          "builds",
          "pipeline",
          "registration",
          "order"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 3,
            "weight": 0.15
          },
          {
            "term": "integration",
            "tf": 2,
            "weight": 0.1
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.1
          },
          {
            "term": "the",
            "tf": 2,
            "weight": 0.1
          },
          {
            "term": "with",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "server",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "occurs",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "through",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "add",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "method",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "which",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "builds",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "pipeline",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "registration",
            "tf": 1,
            "weight": 0.05
          },
          {
            "term": "order",
            "tf": 1,
            "weight": 0.05
          }
        ],
        "unique_terms": 15,
        "total_terms": 20
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Integration with FastMCP Server",
        "add",
        "fastmcp",
        "integration",
        "method",
        "middleware",
        "occurs",
        "server",
        "the",
        "through",
        "with"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.545,
      "overall": 0.715
    }
  },
  {
    "text": "### Middleware Registration and Execution\n\n```\n```\n\nSources: [tests/server/middleware/test\\_logging.py543-575](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/middleware/test_logging.py#L543-L575) [tests/server/middleware/test\\_timing.py192-224](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/middleware/test_timing.py#L192-L224)\n\nMiddleware executes in the order registered, forming a chain where each middleware can inspect, modify, or terminate request processing. The system supports both synchronous and asynchronous middleware operations through the `CallNext` continuation pattern.",
    "metadata": {
      "chunk_id": "c62448a529a1-0013",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 13,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Middleware Registration and Execution"
      ],
      "heading_text": "Middleware Registration and Execution",
      "token_count": 137,
      "char_count": 615,
      "start_char": 9836,
      "end_char": 10451,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5411627906976745,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.727360",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Middleware Registration and Execution",
      "chunk_hash": "998c89a2dd56c96e",
      "content_digest": "998c89a2dd56c96e",
      "chunk_length": 615,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "tests",
          "server",
          "test",
          "the",
          "and",
          "logging",
          "https",
          "github",
          "com",
          "jlowin",
          "fastmcp",
          "blob",
          "66221ed3",
          "timing",
          "registration",
          "execution",
          "sources",
          "py543",
          "575"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 8,
            "weight": 0.103896
          },
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.051948
          },
          {
            "term": "server",
            "tf": 4,
            "weight": 0.051948
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.051948
          },
          {
            "term": "the",
            "tf": 3,
            "weight": 0.038961
          },
          {
            "term": "and",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "logging",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "jlowin",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "66221ed3",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "timing",
            "tf": 2,
            "weight": 0.025974
          },
          {
            "term": "registration",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "execution",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "py543",
            "tf": 1,
            "weight": 0.012987
          },
          {
            "term": "575",
            "tf": 1,
            "weight": 0.012987
          }
        ],
        "unique_terms": 49,
        "total_terms": 77
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Middleware Registration and Execution",
        "and",
        "com",
        "github",
        "https",
        "logging",
        "middleware",
        "server",
        "test",
        "tests",
        "the"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5411627906976745,
      "overall": 0.7137209302325581
    }
  },
  {
    "text": "## Middleware Configuration Patterns\n\nProduction deployments typically combine multiple middleware types for comprehensive server monitoring and protection.",
    "metadata": {
      "chunk_id": "c62448a529a1-0014",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 14,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Middleware Configuration Patterns"
      ],
      "heading_text": "Middleware Configuration Patterns",
      "token_count": 19,
      "char_count": 156,
      "start_char": 10453,
      "end_char": 10609,
      "semantic_score": 0.8,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.5723529411764706,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.727453",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Middleware Configuration Patterns",
      "chunk_hash": "6840aaccd61b2d18",
      "content_digest": "6840aaccd61b2d18",
      "chunk_length": 156,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "configuration",
          "patterns",
          "production",
          "deployments",
          "typically",
          "combine",
          "multiple",
          "types",
          "for",
          "comprehensive",
          "server",
          "monitoring",
          "and",
          "protection"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 2,
            "weight": 0.125
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "patterns",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "production",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "deployments",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "typically",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "combine",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "multiple",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "types",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "for",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "comprehensive",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "server",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "monitoring",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "and",
            "tf": 1,
            "weight": 0.0625
          },
          {
            "term": "protection",
            "tf": 1,
            "weight": 0.0625
          }
        ],
        "unique_terms": 15,
        "total_terms": 16
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Middleware Configuration Patterns",
        "combine",
        "configuration",
        "deployments",
        "for",
        "middleware",
        "multiple",
        "patterns",
        "production",
        "types",
        "typically"
      ]
    },
    "advanced_scores": {
      "semantic": 0.8,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.5723529411764706,
      "overall": 0.7574509803921569
    }
  },
  {
    "text": "### Common Middleware Stack Configuration\n\n```\n```\n\nSources: [tests/server/middleware/test\\_error\\_handling.py589-624](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/middleware/test_error_handling.py#L589-L624) [tests/server/middleware/test\\_logging.py710-744](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/middleware/test_logging.py#L710-L744)\n\nThis ordering ensures that rate limiting occurs first to protect server resources, followed by comprehensive monitoring and error handling capabilities. The middleware system's flexibility allows for custom combinations based on specific deployment requirements.\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh",
    "metadata": {
      "chunk_id": "c62448a529a1-0015",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 15,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "Common Middleware Stack Configuration"
      ],
      "heading_text": "Common Middleware Stack Configuration",
      "token_count": 146,
      "char_count": 689,
      "start_char": 10611,
      "end_char": 11300,
      "semantic_score": 0.7,
      "structural_score": 0.7,
      "retrieval_quality": 0.5605882352941176,
      "chunking_strategy": "hybrid_adaptive_semchunk",
      "content_type": "prose_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.727751",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "Common Middleware Stack Configuration",
      "chunk_hash": "5bbccdc3450598f8",
      "content_digest": "5bbccdc3450598f8",
      "chunk_length": 689,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "server",
          "tests",
          "test",
          "error",
          "handling",
          "https",
          "github",
          "com",
          "jlowin",
          "fastmcp",
          "blob",
          "66221ed3",
          "logging",
          "this",
          "refresh",
          "common",
          "stack",
          "configuration",
          "sources"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 6,
            "weight": 0.069767
          },
          {
            "term": "server",
            "tf": 5,
            "weight": 0.05814
          },
          {
            "term": "tests",
            "tf": 4,
            "weight": 0.046512
          },
          {
            "term": "test",
            "tf": 4,
            "weight": 0.046512
          },
          {
            "term": "error",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "handling",
            "tf": 3,
            "weight": 0.034884
          },
          {
            "term": "https",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "github",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "com",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "jlowin",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "fastmcp",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "blob",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "66221ed3",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "logging",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "this",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "refresh",
            "tf": 2,
            "weight": 0.023256
          },
          {
            "term": "common",
            "tf": 1,
            "weight": 0.011628
          },
          {
            "term": "stack",
            "tf": 1,
            "weight": 0.011628
          },
          {
            "term": "configuration",
            "tf": 1,
            "weight": 0.011628
          },
          {
            "term": "sources",
            "tf": 1,
            "weight": 0.011628
          }
        ],
        "unique_terms": 57,
        "total_terms": 86
      },
      "modal_hint": "code",
      "content_flags": {
        "has_code_block": true,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "Common Middleware Stack Configuration",
        "com",
        "error",
        "github",
        "handling",
        "https",
        "jlowin",
        "middleware",
        "server",
        "test",
        "tests"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.7,
      "retrieval_quality": 0.5605882352941176,
      "overall": 0.6535294117647058
    }
  },
  {
    "text": "### On this page  - [Middleware System](#middleware-system.md) - [Core Middleware Architecture](#core-middleware-architecture.md) - [Middleware Pipeline Flow](#middleware-pipeline-flow.md) - [Core Middleware Components](#core-middleware-components.md) - [Built-in Middleware Types](#built-in-middleware-types.md) - [Logging Middleware](#logging-middleware.md) - [Timing and Performance Middleware](#timing-and-performance-middleware.md) - [Error Handling and Retry Middleware](#error-handling-and-retry-middleware.md) - [Rate Limiting Middleware](#rate-limiting-middleware.md) - [Custom Middleware Development](#custom-middleware-development.md) - [Middleware Hook Methods](#middleware-hook-methods.md) - [Custom Middleware Example Pattern](#custom-middleware-example-pattern.md) - [Integration with FastMCP Server](#integration-with-fastmcp-server.md) - [Middleware Registration and Execution](#middleware-registration-and-execution.md) - [Middleware Configuration Patterns](#middleware-configuration-patterns.md) - [Common Middleware Stack Configuration](#common-middleware-stack-configuration.md)",
    "metadata": {
      "chunk_id": "c62448a529a1-0016",
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "file_extension": ".md",
      "chunk_index": 16,
      "document_level": 1,
      "parent_chunk_id": null,
      "child_chunk_ids": [],
      "section_path": [
        "On this page"
      ],
      "heading_text": "On this page",
      "token_count": 234,
      "char_count": 1099,
      "start_char": 11302,
      "end_char": 12401,
      "semantic_score": 0.7,
      "structural_score": 0.8999999999999999,
      "retrieval_quality": 0.674931506849315,
      "chunking_strategy": "hybrid_adaptive_structural",
      "content_type": "list_section",
      "embedding_model": "jina-code-embeddings-1.5b",
      "embedding_dimension": 1536,
      "processing_timestamp": "2025-10-20T07:48:18.728126",
      "document_id": "c62448a529a1",
      "document_name": "_jlowin_fastmcp_4.2-middleware-system",
      "source_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "source_filename": "_jlowin_fastmcp_4.2-middleware-system.md",
      "source_directory": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp",
      "relative_path": "Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_4.2-middleware-system.md",
      "hierarchy_path": "On this page",
      "chunk_hash": "671ed794cea5e349",
      "content_digest": "671ed794cea5e349",
      "chunk_length": 1099,
      "payload_version": "1.3",
      "collection_hints": [
        "qdrant_ecosystem"
      ],
      "sparse_features": {
        "version": "1.0",
        "weighting": "tf-normalized",
        "top_terms": [
          "middleware",
          "and",
          "core",
          "custom",
          "configuration",
          "system",
          "architecture",
          "pipeline",
          "flow",
          "components",
          "built",
          "types",
          "logging",
          "timing",
          "performance",
          "error",
          "handling",
          "retry",
          "rate",
          "limiting"
        ],
        "term_weights": [
          {
            "term": "middleware",
            "tf": 30,
            "weight": 0.277778
          },
          {
            "term": "and",
            "tf": 6,
            "weight": 0.055556
          },
          {
            "term": "core",
            "tf": 4,
            "weight": 0.037037
          },
          {
            "term": "custom",
            "tf": 4,
            "weight": 0.037037
          },
          {
            "term": "configuration",
            "tf": 4,
            "weight": 0.037037
          },
          {
            "term": "system",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "architecture",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "pipeline",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "flow",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "components",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "built",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "types",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "logging",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "timing",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "performance",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "error",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "handling",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "retry",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "rate",
            "tf": 2,
            "weight": 0.018519
          },
          {
            "term": "limiting",
            "tf": 2,
            "weight": 0.018519
          }
        ],
        "unique_terms": 36,
        "total_terms": 108
      },
      "modal_hint": "prose",
      "content_flags": {
        "has_code_block": false,
        "has_table": false,
        "has_list": false,
        "has_json": false,
        "has_formula": false
      },
      "search_keywords": [
        "On this page",
        "and",
        "architecture",
        "components",
        "configuration",
        "core",
        "custom",
        "flow",
        "middleware",
        "pipeline",
        "system"
      ]
    },
    "advanced_scores": {
      "semantic": 0.7,
      "structural": 0.8999999999999999,
      "retrieval_quality": 0.674931506849315,
      "overall": 0.758310502283105
    }
  }
]