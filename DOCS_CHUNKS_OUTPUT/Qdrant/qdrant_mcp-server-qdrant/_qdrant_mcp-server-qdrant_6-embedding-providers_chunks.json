[
  {
    "text": "Embedding Providers | qdrant/mcp-server-qdrant | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[qdrant/mcp-server-qdrant](https://github.com/qdrant/mcp-server-qdrant \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 20 April 2025 ([a3ab0b](https://github.com/qdrant/mcp-server-qdrant/commits/a3ab0b96))\n\n- [Overview](qdrant/mcp-server-qdrant/1-overview.md)\n- [Architecture](qdrant/mcp-server-qdrant/2-architecture.md)\n- [Core Components](qdrant/mcp-server-qdrant/2.1-core-components.md)\n- [Embedding System](qdrant/mcp-server-qdrant/2.2-embedding-system.md)\n- [Configuration System](qdrant/mcp-server-qdrant/2.3-configuration-system.md)\n- [Installation & Deployment](qdrant/mcp-server-qdrant/3-installation-and-deployment.md)\n- [Configuration Options](qdrant/mcp-server-qdrant/3.1-configuration-options.md)\n- [Client Integration](qdrant/mcp-server-qdrant/3.2-client-integration.md)\n- [API Reference](qdrant/mcp-server-qdrant/4-api-reference.md)\n- [qdrant-store Tool](qdrant/mcp-server-qdrant/4.1-qdrant-store-tool.md)\n- [qdrant-find Tool](qdrant/mcp-server-qdrant/4.2-qdrant-find-tool.md)\n- [QdrantConnector Reference](qdrant/mcp-server-qdrant/5-qdrantconnector-reference.md)\n- [Embedding Providers](qdrant/mcp-server-qdrant/6-embedding-providers.md)\n- [Development Guide](qdrant/mcp-server-qdrant/7-development-guide.md)\n\nMenu\n\n# Embedding Providers\n\nRelevant source files\n\n- [src/mcp\\_server\\_qdrant/embeddings/base.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/base.py)\n- [src/mcp\\_server\\_qdrant/embeddings/factory.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/factory.py)\n- [src/mcp\\_server\\_qdrant/embeddings/fastembed.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py)\n- [tests/test\\_fastembed\\_integration.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/tests/test_fastembed_integration.py)\n\n## Purpose and Scope\n\nThis document details the embedding system within the mcp-server-qdrant repository, which is responsible for converting text into vector representations (embeddings) for semantic search operations. It covers the embedding provider interface, available implementations, configuration options, and extension points. For information about the overall system architecture, see [Architecture](qdrant/mcp-server-qdrant/2-architecture.md).\n\n## Overview\n\nEmbedding providers are fundamental components in the mcp-server-qdrant system that transform natural language text into high-dimensional vector representations. These vectors capture semantic meaning, enabling similarity-based search operations in the Qdrant vector database.\n\n```\n```\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/base.py1-27](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/base.py#L1-L27) [src/mcp\\_server\\_qdrant/embeddings/fastembed.py1-52](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L1-L52)\n\n## Architecture\n\nThe embedding system follows a simple yet extensible architecture based on the Provider pattern. It consists of an abstract interface that all concrete embedding providers must implement, with a factory method to instantiate the appropriate provider based on configuration.\n\n```\n```",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_6-embedding-providers.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 950,
      "character_count": 3477,
      "created_at": "2025-10-16T17:42:30.703410",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_mcp-server-qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "Qdrant\\qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_6-embedding-providers.md",
      "collection_context": "Qdrant/qdrant_mcp-server-qdrant"
    }
  },
  {
    "text": "Sources: [src/mcp\\_server\\_qdrant/embeddings/base.py1-27](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/base.py#L1-L27) [src/mcp\\_server\\_qdrant/embeddings/fastembed.py1-52](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L1-L52) [src/mcp\\_server\\_qdrant/embeddings/factory.py1-18](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/factory.py#L1-L18)\n\n## EmbeddingProvider Interface\n\nThe `EmbeddingProvider` abstract base class defines the contract that all embedding providers must implement:\n\n| Method                                  | Description                                                | Return Type         |\n| --------------------------------------- | ---------------------------------------------------------- | ------------------- |\n| `embed_documents(documents: List[str])` | Converts multiple text documents into vector embeddings    | `List[List[float]]` |\n| `embed_query(query: str)`               | Converts a single query text into a vector embedding       | `List[float]`       |\n| `get_vector_name()`                     | Returns the name identifier for the vector field in Qdrant | `str`               |\n| `get_vector_size()`                     | Returns the dimensionality of the embedding vectors        | `int`               |\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/base.py5-26](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/base.py#L5-L26)\n\n## Current Implementation: FastEmbedProvider\n\nThe system currently includes one implementation based on the FastEmbed library, which wraps various sentence transformer models.\n\n### Implementation Details\n\nThe `FastEmbedProvider` uses the FastEmbed library to generate embeddings:\n\n```\n```\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/fastembed.py10-52](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L10-L52)\n\n### Key Features\n\n1. **Async Operation**: Although FastEmbed operates synchronously, the provider wraps operations in `run_in_executor` to maintain the async interface.\n\n2. **Vector Naming Convention**: The provider generates standardized vector names based on the model used (e.g., `fast-minilm-l6-v2`).\n\n3. **Automatic Dimension Detection**: Retrieves the correct vector dimension from the model description.\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/fastembed.py20-51](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L20-L51) [tests/test\\_fastembed\\_integration.py56-64](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/tests/test_fastembed_integration.py#L56-L64)\n\n## Configuring Embedding Providers\n\nThe embedding provider is configured through environment variables:\n\n| Environment Variable | Description                                                        | Default                                  |\n| -------------------- | ------------------------------------------------------------------ | ---------------------------------------- |\n| EMBEDDING\\_PROVIDER  | The type of embedding provider to use (currently only \"fastembed\") | \"fastembed\"                              |\n| EMBEDDING\\_MODEL     | The model name to use for embedding generation                     | \"sentence-transformers/all-MiniLM-L6-v2\" |\n\nExample configuration:\n\n```\nEMBEDDING_PROVIDER=fastembed\nEMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2\n```\n\nThe configuration flow works as follows:\n\n```\n```\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/factory.py6-17](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/factory.py#L6-L17)\n\n## Available Models\n\nThe FastEmbedProvider supports several models from the FastEmbed library:",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_6-embedding-providers.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 896,
      "character_count": 3860,
      "created_at": "2025-10-16T17:42:30.710342",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_mcp-server-qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "Qdrant\\qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_6-embedding-providers.md",
      "collection_context": "Qdrant/qdrant_mcp-server-qdrant"
    }
  },
  {
    "text": "| Model Name                                      | Dimensions | Use Case                                        |\n| ----------------------------------------------- | ---------- | ----------------------------------------------- |\n| sentence-transformers/all-MiniLM-L6-v2          | 384        | General purpose, balanced performance (default) |\n| sentence-transformers/all-mpnet-base-v2         | 768        | Higher quality, larger model                    |\n| sentence-transformers/multi-qa-MiniLM-L6-cos-v1 | 384        | Optimized for question-answering                |\n| intfloat/e5-small                               | 384        | Efficient general-purpose model                 |\n| intfloat/e5-base                                | 768        | Higher quality general-purpose model            |\n\nSources: [tests/test\\_fastembed\\_integration.py12-15](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/tests/test_fastembed_integration.py#L12-L15) [src/mcp\\_server\\_qdrant/embeddings/fastembed.py16-18](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L16-L18)\n\n## Integration Testing\n\nThe embedding system includes integration tests that verify:\n\n1. Proper initialization with a model\n2. Consistent embedding generation for documents\n3. Consistent embedding generation for queries\n4. Vector dimensionality and stability\n5. Proper vector naming convention\n\nThese tests ensure the embedding providers function correctly when integrated with actual models.\n\nSources: [tests/test\\_fastembed\\_integration.py8-63](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/tests/test_fastembed_integration.py#L8-L63)\n\n## Extending with Custom Providers\n\nTo implement a custom embedding provider:\n\n1. Create a new class that inherits from `EmbeddingProvider`\n2. Implement all required methods\n3. Update the `create_embedding_provider` factory function to support your new provider type\n4. Add a new value to the `EmbeddingProviderType` enum\n\n```\n```\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/factory.py6-17](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/factory.py#L6-L17) [src/mcp\\_server\\_qdrant/embeddings/base.py5-26](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/base.py#L5-L26)\n\n## System Integration\n\nThe embedding provider is used by the following system components:\n\n1. **QdrantMCPServer**: Uses the provider to embed queries and documents for the MCP tools\n2. **QdrantConnector**: Uses the provider to configure vector properties in Qdrant collections\n\nThis integration enables seamless translation between natural language and vector space for both storing and retrieving information.\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [Embedding Providers](#embedding-providers.md)\n- [Purpose and Scope](#purpose-and-scope.md)\n- [Overview](#overview.md)\n- [Architecture](#architecture.md)\n- [EmbeddingProvider Interface](#embeddingprovider-interface.md)\n- [Current Implementation: FastEmbedProvider](#current-implementation-fastembedprovider.md)\n- [Implementation Details](#implementation-details.md)\n- [Key Features](#key-features.md)\n- [Configuring Embedding Providers](#configuring-embedding-providers.md)\n- [Available Models](#available-models.md)\n- [Integration Testing](#integration-testing.md)\n- [Extending with Custom Providers](#extending-with-custom-providers.md)\n- [System Integration](#system-integration.md)",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_6-embedding-providers.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 798,
      "character_count": 3511,
      "created_at": "2025-10-16T17:42:30.714721",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_mcp-server-qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "Qdrant\\qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_6-embedding-providers.md",
      "collection_context": "Qdrant/qdrant_mcp-server-qdrant"
    }
  }
]