[
  {
    "text": "API Reference | qdrant/qdrant | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[qdrant/qdrant](https://github.com/qdrant/qdrant \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 4 October 2025 ([48203e](https://github.com/qdrant/qdrant/commits/48203e41))\n\n- [Introduction to Qdrant](qdrant/qdrant/1-introduction-to-qdrant.md)\n- [Key Concepts and Terminology](qdrant/qdrant/1.1-key-concepts-and-terminology.md)\n- [System Architecture](qdrant/qdrant/2-system-architecture.md)\n- [Application Initialization and Runtime](qdrant/qdrant/2.1-application-initialization-and-runtime.md)\n- [Collections and Table of Content](qdrant/qdrant/2.2-collections-and-table-of-content.md)\n- [Shards and Replica Sets](qdrant/qdrant/2.3-shards-and-replica-sets.md)\n- [Local Shard Architecture](qdrant/qdrant/2.4-local-shard-architecture.md)\n- [Segment Lifecycle and Construction](qdrant/qdrant/2.5-segment-lifecycle-and-construction.md)\n- [Vector Storage and Indexing](qdrant/qdrant/3-vector-storage-and-indexing.md)\n- [Vector Storage Formats](qdrant/qdrant/3.1-vector-storage-formats.md)\n- [HNSW Index Implementation](qdrant/qdrant/3.2-hnsw-index-implementation.md)\n- [Vector Quantization](qdrant/qdrant/3.3-vector-quantization.md)\n- [Sparse Vector Indexing](qdrant/qdrant/3.4-sparse-vector-indexing.md)\n- [Payload Indexing and Filtering](qdrant/qdrant/4-payload-indexing-and-filtering.md)\n- [Field Index Types](qdrant/qdrant/4.1-field-index-types.md)\n- [Index Selection and Storage Backends](qdrant/qdrant/4.2-index-selection-and-storage-backends.md)\n- [Search and Query Processing](qdrant/qdrant/5-search-and-query-processing.md)\n- [Query Request Flow](qdrant/qdrant/5.1-query-request-flow.md)\n- [Filtering and Scoring](qdrant/qdrant/5.2-filtering-and-scoring.md)\n- [Data Updates and Consistency](qdrant/qdrant/6-data-updates-and-consistency.md)\n- [Update Processing Pipeline](qdrant/qdrant/6.1-update-processing-pipeline.md)\n- [Write Consistency and Replication](qdrant/qdrant/6.2-write-consistency-and-replication.md)\n- [Distributed System Features](qdrant/qdrant/7-distributed-system-features.md)\n- [Raft Consensus Protocol](qdrant/qdrant/7.1-raft-consensus-protocol.md)\n- [Shard Transfers and Resharding](qdrant/qdrant/7.2-shard-transfers-and-resharding.md)\n- [Snapshots and Recovery](qdrant/qdrant/8-snapshots-and-recovery.md)\n- [API Reference](qdrant/qdrant/9-api-reference.md)\n- [REST API Endpoints](qdrant/qdrant/9.1-rest-api-endpoints.md)\n- [gRPC API Services](qdrant/qdrant/9.2-grpc-api-services.md)\n- [Data Types and Conversions](qdrant/qdrant/9.3-data-types-and-conversions.md)\n- [Configuration and Deployment](qdrant/qdrant/10-configuration-and-deployment.md)\n- [Configuration System](qdrant/qdrant/10.1-configuration-system.md)\n- [Docker Deployment](qdrant/qdrant/10.2-docker-deployment.md)\n- [Building and CI/CD](qdrant/qdrant/10.3-building-and-cicd.md)\n- [Development Guide](qdrant/qdrant/11-development-guide.md)\n\nMenu\n\n# API Reference\n\nRelevant source files",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 948,
      "character_count": 3076,
      "created_at": "2025-10-16T17:42:32.058504",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "- [Cargo.lock](https://github.com/qdrant/qdrant/blob/48203e41/Cargo.lock)\n- [Cargo.toml](https://github.com/qdrant/qdrant/blob/48203e41/Cargo.toml)\n- [docs/grpc/docs.md](https://github.com/qdrant/qdrant/blob/48203e41/docs/grpc/docs.md)\n- [docs/redoc/default\\_version.js](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/default_version.js)\n- [docs/redoc/index.html](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/index.html)\n- [docs/redoc/master/openapi.json](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/master/openapi.json)\n- [docs/redoc/v0.10.3/openapi.json](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/v0.10.3/openapi.json)\n- [docs/redoc/v0.10.4/openapi.json](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/v0.10.4/openapi.json)\n- [docs/redoc/v0.10.5/openapi.json](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/v0.10.5/openapi.json)\n- [docs/redoc/v1.10.x/openapi.json](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/v1.10.x/openapi.json)\n- [docs/redoc/v1.11.x/openapi.json](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/v1.11.x/openapi.json)\n- [docs/redoc/v1.13.x/openapi.json](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/v1.13.x/openapi.json)\n- [docs/redoc/v1.15.x/openapi.json](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/v1.15.x/openapi.json)\n- [lib/api/Cargo.toml](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/Cargo.toml)\n- [lib/api/src/grpc/conversions.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/conversions.rs)\n- [lib/api/src/grpc/proto/collections.proto](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/collections.proto)\n- [lib/api/src/grpc/proto/points.proto](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/points.proto)\n- [lib/api/src/grpc/qdrant.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/qdrant.rs)\n- [lib/collection/Cargo.toml](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/Cargo.toml)\n- [lib/collection/src/config.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/config.rs)\n- [lib/collection/src/operations/config\\_diff.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/operations/config_diff.rs)\n- [lib/collection/src/operations/conversions.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/operations/conversions.rs)\n- [lib/collection/src/operations/types.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/operations/types.rs)\n- [lib/collection/src/optimizers\\_builder.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/collection/src/optimizers_builder.rs)\n- [lib/common/common/src/defaults.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/common/common/src/defaults.rs)\n- [lib/common/dataset/Cargo.toml](https://github.com/qdrant/qdrant/blob/48203e41/lib/common/dataset/Cargo.toml)\n- [lib/common/issues/Cargo.toml](https://github.com/qdrant/qdrant/blob/48203e41/lib/common/issues/Cargo.toml)\n- [lib/segment/Cargo.toml](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/Cargo.toml)\n- [lib/segment/src/types.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/types.rs)\n- [lib/sparse/Cargo.toml](https://github.com/qdrant/qdrant/blob/48203e41/lib/sparse/Cargo.toml)\n- [lib/storage/Cargo.toml](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/Cargo.toml)\n- [lib/storage/src/content\\_manager/collection\\_meta\\_ops.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/content_manager/collection_meta_ops.rs)\n- [lib/storage/src/content\\_manager/conversions.rs](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/content_manager/conversions.rs)\n- [tools/missed\\_cherry\\_picks.sh](https://github.com/qdrant/qdrant/blob/48203e41/tools/missed_cherry_picks.sh)",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 1225,
      "character_count": 3864,
      "created_at": "2025-10-16T17:42:32.059537",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "This document provides a comprehensive overview of Qdrant's API interfaces, covering both REST and gRPC protocols. It describes the architectural structure, service organization, and common patterns used across all API endpoints. For detailed endpoint documentation, see [REST API](qdrant/qdrant/7.1-raft-consensus-protocol.md) for HTTP interface specifics and [gRPC API](qdrant/qdrant/7.2-shard-transfers-and-resharding.md) for gRPC service details.\n\n## API Architecture Overview\n\nQdrant exposes multiple API interfaces to support different client needs and deployment scenarios. The system provides both external-facing APIs for client applications and internal APIs for distributed cluster communication.\n\n```\n```\n\nSources: [docs/redoc/master/openapi.json1-50](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/master/openapi.json#L1-L50) [lib/api/src/grpc/proto/points.proto1-30](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/points.proto#L1-L30) [lib/api/src/grpc/proto/qdrant\\_internal\\_service.proto1-20](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/qdrant_internal_service.proto#L1-L20) [src/tonic/api/points\\_api.rs34-45](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/api/points_api.rs#L34-L45)\n\n## Service Organization\n\nThe API is organized into distinct services, each handling specific aspects of vector database operations. Each service is implemented in both REST and gRPC protocols with consistent functionality.\n\n```\n```\n\nSources: [lib/api/src/grpc/proto/collections\\_service.proto1-30](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/collections_service.proto#L1-L30) [lib/api/src/grpc/proto/points\\_service.proto1-30](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/points_service.proto#L1-L30) [lib/api/src/grpc/proto/snapshots\\_service.proto1-30](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/snapshots_service.proto#L1-L30) [docs/grpc/docs.md116-125](https://github.com/qdrant/qdrant/blob/48203e41/docs/grpc/docs.md#L116-L125)\n\n## Request Processing Flow\n\nAll API requests follow a consistent processing pattern through the system's layered architecture, with different paths for read and write operations.\n\n```\n```\n\nSources: [src/tonic/api/points\\_api.rs61-85](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/api/points_api.rs#L61-L85) [src/actix/api/update\\_api.rs31-65](https://github.com/qdrant/qdrant/blob/48203e41/src/actix/api/update_api.rs#L31-L65) [storage/dispatcher.rs](https://github.com/qdrant/qdrant/blob/48203e41/storage/dispatcher.rs) [src/common/strict\\_mode.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/common/strict_mode.rs) [storage/content\\_manager/toc/](https://github.com/qdrant/qdrant/blob/48203e41/storage/content_manager/toc/)\n\n## API Response Structure\n\nAll API responses follow a consistent structure with metadata about request processing, hardware usage, and timing information.\n\n### Standard Response Format\n\n| Field    | Type   | Description                           |\n| -------- | ------ | ------------------------------------- |\n| `result` | Object | The actual response data              |\n| `status` | String | Operation status (\"ok\" or error)      |\n| `time`   | Number | Processing time in seconds            |\n| `usage`  | Object | Optional hardware and inference usage |\n\n### Hardware Usage Reporting\n\nThe system tracks detailed hardware usage for operations when enabled:\n\n```\n```\n\nSources: [lib/api/src/grpc/qdrant.rs180-290](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/qdrant.rs#L180-L290) [lib/api/src/grpc/ops.rs5-50](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/ops.rs#L5-L50) [docs/redoc/master/openapi.json276-307](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/master/openapi.json#L276-L307)\n\n## Authentication and Authorization",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 1022,
      "character_count": 3904,
      "created_at": "2025-10-16T17:42:32.065692",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "The API supports multiple authentication mechanisms and role-based access control for securing operations.\n\n### Access Control Implementation\n\n| Component        | Purpose                           | Location                                                                              |\n| ---------------- | --------------------------------- | ------------------------------------------------------------------------------------- |\n| `ActixAccess`    | REST API authentication extractor | [src/actix/auth.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/actix/auth.rs) |\n| `rbac::Access`   | Role-based access control         | [storage/rbac/](https://github.com/qdrant/qdrant/blob/48203e41/storage/rbac/)         |\n| `extract_access` | gRPC authentication extractor     | [src/tonic/auth.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/auth.rs) |\n\n### API Key Authentication\n\nThe system supports API key-based authentication through HTTP headers:\n\n- **Header**: `api-key`\n- **Validation**: Keys are validated against configured access rules\n- **Scope**: Different keys can have different permissions (read-only, read-write, admin)\n\nSources: [src/actix/auth.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/actix/auth.rs) [src/tonic/auth.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/auth.rs) [storage/rbac/](https://github.com/qdrant/qdrant/blob/48203e41/storage/rbac/)\n\n## Error Handling\n\nThe API provides consistent error handling across both REST and gRPC interfaces with detailed error information.\n\n### Error Response Structure\n\n```\n```\n\n### Status Code Mapping\n\n| Internal Error      | REST HTTP Code            | gRPC Code           |\n| ------------------- | ------------------------- | ------------------- |\n| `BadInput`          | 400 Bad Request           | `InvalidArgument`   |\n| `NotFound`          | 404 Not Found             | `NotFound`          |\n| `ServiceError`      | 500 Internal Server Error | `Internal`          |\n| `Timeout`           | 408 Request Timeout       | `DeadlineExceeded`  |\n| `RateLimitExceeded` | 429 Too Many Requests     | `ResourceExhausted` |\n| `Forbidden`         | 403 Forbidden             | `PermissionDenied`  |\n\nSources: [lib/storage/src/content\\_manager/conversions.rs21-61](https://github.com/qdrant/qdrant/blob/48203e41/lib/storage/src/content_manager/conversions.rs#L21-L61) [docs/redoc/master/openapi.json40-60](https://github.com/qdrant/qdrant/blob/48203e41/docs/redoc/master/openapi.json#L40-L60)\n\n## Request Validation\n\nAll API requests undergo validation using the `validator` crate with custom validation rules specific to vector database operations.\n\n### Validation Patterns\n\n| Field Type        | Validation Rules               | Example                                    |\n| ----------------- | ------------------------------ | ------------------------------------------ |\n| Collection Names  | Length 1-255, valid characters | `validate_collection_name_legacy`          |\n| Vector Dimensions | Range 1-65536                  | `#[validate(range(min = 1, max = 65536))]` |\n| Search Limits     | Minimum 1                      | `#[validate(range(min = 1))]`              |\n| HNSW Parameters   | `ef_construct >= 4`            | `#[validate(range(min = 4))]`              |\n| Quantization      | `quantile` 0.5-1.0             | `#[validate(range(min = 0.5, max = 1.0))]` |\n\n### Validation Implementation\n\nThe validation occurs at multiple levels:\n\n1. **Protocol Level**: Protobuf/JSON schema validation\n2. **Field Level**: Individual field constraints using `#[validate()]` annotations\n3. **Business Logic**: Custom validation functions for complex rules\n4. **Strict Mode**: Additional constraints when strict mode is enabled\n\nSources: [lib/api/src/grpc/qdrant.rs2-50](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/qdrant.rs#L2-L50) [lib/segment/src/types.rs448-503](https://github.com/qdrant/qdrant/blob/48203e41/lib/segment/src/types.rs#L448-L503) [common/validation.rs](https://github.com/qdrant/qdrant/blob/48203e41/common/validation.rs) [src/common/strict\\_mode.rs](https://github.com/qdrant/qdrant/blob/48203e41/src/common/strict_mode.rs)\n\n## Internal vs External APIs\n\nThe system distinguishes between external client-facing APIs and internal peer-to-peer communication APIs for distributed operations.\n\n### External APIs",
    "metadata": {
      "chunk_id": 3,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 1006,
      "character_count": 4351,
      "created_at": "2025-10-16T17:42:32.073321",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 3,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "- **Purpose**: Client application integration\n- **Authentication**: API key or token-based\n- **Rate Limiting**: Configurable per-client limits\n- **Protocols**: REST HTTP/JSON and gRPC\n\n### Internal APIs\n\n- **Purpose**: Cluster node communication\n- **Authentication**: Full access assumed (`FULL_ACCESS`)\n- **Services**: `PointsInternal`, `QdrantInternal`\n- **Usage**: Shard operations, consensus, replication\n\n| Service       | Port    | Purpose            | Access Level  |\n| ------------- | ------- | ------------------ | ------------- |\n| REST API      | 6333    | Client operations  | Authenticated |\n| gRPC API      | 6334    | Client operations  | Authenticated |\n| Internal gRPC | Various | Peer communication | Internal      |\n| Health Checks | Same    | Kubernetes probes  | Public        |\n\nSources: [src/tonic/api/points\\_internal\\_api.rs40-55](https://github.com/qdrant/qdrant/blob/48203e41/src/tonic/api/points_internal_api.rs#L40-L55) [lib/api/src/grpc/proto/points\\_internal\\_service.proto1-30](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/points_internal_service.proto#L1-L30) [lib/api/src/grpc/proto/qdrant\\_internal\\_service.proto1-20](https://github.com/qdrant/qdrant/blob/48203e41/lib/api/src/grpc/proto/qdrant_internal_service.proto#L1-L20)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [API Reference](#api-reference.md)\n- [API Architecture Overview](#api-architecture-overview.md)\n- [Service Organization](#service-organization.md)\n- [Request Processing Flow](#request-processing-flow.md)\n- [API Response Structure](#api-response-structure.md)\n- [Standard Response Format](#standard-response-format.md)\n- [Hardware Usage Reporting](#hardware-usage-reporting.md)\n- [Authentication and Authorization](#authentication-and-authorization.md)\n- [Access Control Implementation](#access-control-implementation.md)\n- [API Key Authentication](#api-key-authentication.md)\n- [Error Handling](#error-handling.md)\n- [Error Response Structure](#error-response-structure.md)\n- [Status Code Mapping](#status-code-mapping.md)\n- [Request Validation](#request-validation.md)\n- [Validation Patterns](#validation-patterns.md)\n- [Validation Implementation](#validation-implementation.md)\n- [Internal vs External APIs](#internal-vs-external-apis.md)\n- [External APIs](#external-apis.md)\n- [Internal APIs](#internal-apis.md)",
    "metadata": {
      "chunk_id": 4,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 576,
      "character_count": 2374,
      "created_at": "2025-10-16T17:42:32.074876",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 4,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_9-api-reference.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  }
]