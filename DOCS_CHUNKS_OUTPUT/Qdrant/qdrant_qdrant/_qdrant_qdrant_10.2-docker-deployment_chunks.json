[
  {
    "text": "Docker Deployment | qdrant/qdrant | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[qdrant/qdrant](https://github.com/qdrant/qdrant \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 4 October 2025 ([48203e](https://github.com/qdrant/qdrant/commits/48203e41))\n\n- [Introduction to Qdrant](qdrant/qdrant/1-introduction-to-qdrant.md)\n- [Key Concepts and Terminology](qdrant/qdrant/1.1-key-concepts-and-terminology.md)\n- [System Architecture](qdrant/qdrant/2-system-architecture.md)\n- [Application Initialization and Runtime](qdrant/qdrant/2.1-application-initialization-and-runtime.md)\n- [Collections and Table of Content](qdrant/qdrant/2.2-collections-and-table-of-content.md)\n- [Shards and Replica Sets](qdrant/qdrant/2.3-shards-and-replica-sets.md)\n- [Local Shard Architecture](qdrant/qdrant/2.4-local-shard-architecture.md)\n- [Segment Lifecycle and Construction](qdrant/qdrant/2.5-segment-lifecycle-and-construction.md)\n- [Vector Storage and Indexing](qdrant/qdrant/3-vector-storage-and-indexing.md)\n- [Vector Storage Formats](qdrant/qdrant/3.1-vector-storage-formats.md)\n- [HNSW Index Implementation](qdrant/qdrant/3.2-hnsw-index-implementation.md)\n- [Vector Quantization](qdrant/qdrant/3.3-vector-quantization.md)\n- [Sparse Vector Indexing](qdrant/qdrant/3.4-sparse-vector-indexing.md)\n- [Payload Indexing and Filtering](qdrant/qdrant/4-payload-indexing-and-filtering.md)\n- [Field Index Types](qdrant/qdrant/4.1-field-index-types.md)\n- [Index Selection and Storage Backends](qdrant/qdrant/4.2-index-selection-and-storage-backends.md)\n- [Search and Query Processing](qdrant/qdrant/5-search-and-query-processing.md)\n- [Query Request Flow](qdrant/qdrant/5.1-query-request-flow.md)\n- [Filtering and Scoring](qdrant/qdrant/5.2-filtering-and-scoring.md)\n- [Data Updates and Consistency](qdrant/qdrant/6-data-updates-and-consistency.md)\n- [Update Processing Pipeline](qdrant/qdrant/6.1-update-processing-pipeline.md)\n- [Write Consistency and Replication](qdrant/qdrant/6.2-write-consistency-and-replication.md)\n- [Distributed System Features](qdrant/qdrant/7-distributed-system-features.md)\n- [Raft Consensus Protocol](qdrant/qdrant/7.1-raft-consensus-protocol.md)\n- [Shard Transfers and Resharding](qdrant/qdrant/7.2-shard-transfers-and-resharding.md)\n- [Snapshots and Recovery](qdrant/qdrant/8-snapshots-and-recovery.md)\n- [API Reference](qdrant/qdrant/9-api-reference.md)\n- [REST API Endpoints](qdrant/qdrant/9.1-rest-api-endpoints.md)\n- [gRPC API Services](qdrant/qdrant/9.2-grpc-api-services.md)\n- [Data Types and Conversions](qdrant/qdrant/9.3-data-types-and-conversions.md)\n- [Configuration and Deployment](qdrant/qdrant/10-configuration-and-deployment.md)\n- [Configuration System](qdrant/qdrant/10.1-configuration-system.md)\n- [Docker Deployment](qdrant/qdrant/10.2-docker-deployment.md)\n- [Building and CI/CD](qdrant/qdrant/10.3-building-and-cicd.md)\n- [Development Guide](qdrant/qdrant/11-development-guide.md)\n\nMenu\n\n# Docker Deployment\n\nRelevant source files",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 949,
      "character_count": 3084,
      "created_at": "2025-10-16T17:42:30.967252",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "- [.config/nextest.toml](https://github.com/qdrant/qdrant/blob/48203e41/.config/nextest.toml)\n- [.github/ISSUE\\_TEMPLATE/flaky\\_test.md](https://github.com/qdrant/qdrant/blob/48203e41/.github/ISSUE_TEMPLATE/flaky_test.md)\n- [.github/workflows/coverage.yml](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/coverage.yml)\n- [.github/workflows/docker-image.yml](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml)\n- [.github/workflows/integration-tests.yml](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/integration-tests.yml)\n- [.github/workflows/release-artifacts.yml](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/release-artifacts.yml)\n- [.github/workflows/rust-gpu.yml](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/rust-gpu.yml)\n- [.github/workflows/rust-lint.yml](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/rust-lint.yml)\n- [.github/workflows/rust.yml](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/rust.yml)\n- [.github/workflows/storage-compat.yml](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/storage-compat.yml)\n- [Dockerfile](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile)\n- [config/deb.yaml](https://github.com/qdrant/qdrant/blob/48203e41/config/deb.yaml)\n- [tests/integration-tests.sh](https://github.com/qdrant/qdrant/blob/48203e41/tests/integration-tests.sh)\n- [tools/sync-web-ui.sh](https://github.com/qdrant/qdrant/blob/48203e41/tools/sync-web-ui.sh)\n\nThis page describes the Docker build system, image variants, build configuration, and deployment workflows for Qdrant. It covers the multi-stage Dockerfile architecture, build arguments, image variants (CPU/GPU), cross-compilation support, and CI/CD integration.\n\nFor information about configuration options that can be set via environment variables, see [Configuration System](qdrant/qdrant/10.1-configuration-system.md). For details on the CI/CD workflows and build artifacts, see [Building and CI/CD](qdrant/qdrant/10.3-building-and-cicd.md).\n\n---\n\n## Multi-Stage Build Architecture\n\nThe Dockerfile implements a multi-stage build process optimized for Docker layer caching and cross-platform compilation. The build consists of three primary stages and conditional GPU-specific base images.\n\n```\n```\n\n**Sources:** [Dockerfile1-231](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L1-L231)\n\n### Planner Stage\n\nThe planner stage uses `cargo-chef` to analyze dependencies and generate a recipe file. This enables Docker to cache dependency builds separately from application code.\n\n```\n```\n\n**Sources:** [Dockerfile22-25](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L22-L25)\n\n### Builder Stage\n\nThe builder stage performs the actual compilation with support for cross-compilation, custom linkers, and multiple build profiles. It consists of several distinct phases:\n\n1. **Dependency Installation** - System packages and Rust components\n2. **Mold Linker Setup** - Fast linker for reduced build times\n3. **Cross-compilation Setup** - Platform-specific toolchains via `xx`\n4. **Web UI Download** - Static assets from qdrant-web-ui repository\n5. **Dependency Compilation** - Using cargo-chef recipe\n6. **Application Compilation** - Final Qdrant binary\n7. **SBOM Generation** - Software Bill of Materials\n\n```\n```\n\n**Sources:** [Dockerfile28-122](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L28-L122)\n\n---\n\n## Build Arguments and Configuration\n\nThe Dockerfile accepts multiple build arguments that control compilation behavior, features, and target architecture.",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 948,
      "character_count": 3637,
      "created_at": "2025-10-16T17:42:30.974522",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "| Argument         | Default       | Purpose                    | Usage                                 |\n| ---------------- | ------------- | -------------------------- | ------------------------------------- |\n| `BUILDPLATFORM`  | `linux/amd64` | Host platform for build    | Set by Docker buildx                  |\n| `TARGETPLATFORM` | `linux/amd64` | Target platform for binary | Set by Docker buildx                  |\n| `PROFILE`        | `release`     | Cargo build profile        | `release`, `dev`, or `ci`             |\n| `FEATURES`       | (none)        | Cargo feature flags        | Comma-separated list                  |\n| `RUSTFLAGS`      | (none)        | Custom Rust compiler flags | E.g., `--cfg tokio_unstable`          |\n| `LINKER`         | `mold`        | Linker to use              | `mold`, `lld`, or empty               |\n| `GPU`            | (none)        | GPU support variant        | `nvidia` or `amd`                     |\n| `GIT_COMMIT_ID`  | (none)        | Git commit hash            | Embedded in binary                    |\n| `USER_ID`        | `0`           | Runtime user ID            | `0` for root, `1000` for unprivileged |\n| `PACKAGES`       | (none)        | Additional apt packages    | E.g., `gdb lldb`                      |\n| `SOURCES`        | (none)        | Include source code        | Any non-empty value                   |\n\n### Build Profile Selection\n\nThe `PROFILE` argument determines the optimization level and debug information:\n\n```\n```\n\n**Sources:** [Dockerfile76-77](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L76-L77)\n\n### Feature Flag Configuration\n\nFeatures are enabled via the `FEATURES` argument and combined with mandatory features:\n\n```\n```\n\nThe build always includes the `stacktrace` feature for better error diagnostics.\n\n**Sources:** [Dockerfile79-104](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L79-L104) [Dockerfile113-118](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L113-L118)\n\n### Linker Configuration\n\nThe build supports multiple linkers for optimization:\n\n```\n```\n\nThe linker is set via `RUSTFLAGS` during compilation:\n\n```\nRUSTFLAGS=\"${LINKER:+-C link-arg=-fuse-ld=}$LINKER $RUSTFLAGS\"\n```\n\n**Sources:** [Dockerfile85-86](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L85-L86) [Dockerfile101-104](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L101-L104) [Dockerfile113-116](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L113-L116)\n\n---\n\n## Image Variants\n\nQdrant provides multiple Docker image variants to support different hardware and security requirements.\n\n```\n```\n\n### CPU Variant (Default)\n\nThe default image uses `debian:13-slim` as the base, minimizing image size while providing necessary runtime libraries.\n\n**Base Image:** `debian:13-slim`\n\n**Installed Packages:**\n\n- `ca-certificates` - SSL/TLS certificates\n- `tzdata` - Timezone data\n- `libunwind8` - Stack unwinding support\n\n**Image Name Pattern:** `qdrant/qdrant:{version}`\n\n**Sources:** [Dockerfile126-128](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L126-L128)\n\n### GPU NVIDIA Variant\n\nFor NVIDIA GPU acceleration, the image uses `nvidia/opengl:1.2-glvnd-devel-ubuntu22.04` as the base.\n\n**Base Image:** `nvidia/opengl:1.2-glvnd-devel-ubuntu22.04`\n\n**Environment Variables:**\n\n- `NVIDIA_DRIVER_CAPABILITIES=compute,graphics,utility` - Enables compute and graphics capabilities\n- `DEBIAN_FRONTEND=noninteractive` - Non-interactive apt-get\n\n**Additional Files:**\n\n- `/etc/vulkan/icd.d/nvidia_icd.json` - Vulkan ICD loader configuration\n\n**Installed GPU Packages:**\n\n- `libvulkan1`, `libvulkan-dev` - Vulkan runtime and development files\n- `vulkan-tools` - Vulkan utilities\n\n**Image Name Pattern:** `qdrant/qdrant:{version}-gpu-nvidia`",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 992,
      "character_count": 3773,
      "created_at": "2025-10-16T17:42:30.988651",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "**Sources:** [Dockerfile130-140](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L130-L140) [Dockerfile152-161](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L152-L161)\n\n### GPU AMD Variant\n\nFor AMD GPU acceleration, the image uses `rocm/dev-ubuntu-22.04` as the base.\n\n**Base Image:** `rocm/dev-ubuntu-22.04`\n\n**Environment Variables:**\n\n- `DEBIAN_FRONTEND=noninteractive` - Non-interactive apt-get\n\n**Installed GPU Packages:**\n\n- Same Vulkan packages as NVIDIA variant\n\n**Image Name Pattern:** `qdrant/qdrant:{version}-gpu-amd`\n\n**Sources:** [Dockerfile142-148](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L142-L148) [Dockerfile152-161](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L152-L161)\n\n### Unprivileged Variant\n\nSecurity-hardened variant that runs as a non-root user with UID 1000.\n\n**Build Configuration:**\n\n```\n```\n\n**Runtime User:** `qdrant:qdrant` (UID/GID 1000)\n\n**Pre-created Directories:**\n\n- `/qdrant/storage` - Data storage directory\n- `/qdrant/snapshots` - Snapshot directory\n\n**Image Name Pattern:** `qdrant/qdrant:{version}-unprivileged`\n\n**Sources:** [Dockerfile198-215](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L198-L215) [.github/workflows/docker-image.yml64-79](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L64-L79)\n\n---\n\n## Cross-Platform Compilation\n\nThe Docker build system supports multi-platform builds using Docker Buildx and the `xx` cross-compilation toolkit.\n\n```\n```\n\n### Platform-Specific Toolchain Setup\n\nThe build uses `xx-apt-get` to install platform-specific development dependencies:\n\n```\n```\n\nThis installs cross-compilation toolchains for the target platform specified by `TARGETPLATFORM`.\n\n**Sources:** [Dockerfile71-74](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L71-L74)\n\n### Cross-Compilation Wrapper\n\nThe `xx-cargo` wrapper automatically configures Cargo for cross-compilation:\n\n```\n```\n\nThe `PKG_CONFIG` workaround addresses a bug in `xx-cargo` for crates using `pkg-config`.\n\n**Sources:** [Dockerfile96-104](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L96-L104) [Dockerfile109-118](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L109-L118)\n\n### Mold Linker Platform Support\n\nThe Mold linker is installed with platform-specific binaries:\n\n```\n```\n\n**Supported Platforms:**\n\n- `x86_64-linux` (amd64)\n- `aarch64-linux` (arm64)\n\n**Sources:** [Dockerfile52-66](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L52-L66)\n\n---\n\n## Layer Caching Strategy\n\nThe build implements cargo-chef for efficient Docker layer caching, significantly reducing rebuild times when only application code changes.\n\n```\n```\n\n### Recipe Generation\n\nThe planner analyzes `Cargo.toml` and `Cargo.lock` files to generate a dependency recipe:\n\n```\n```\n\n**Sources:** [Dockerfile22-25](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L22-L25)\n\n### Dependency Cooking\n\nThe builder uses the recipe to compile dependencies before copying application code:\n\n```\n```\n\nThis layer is cached and only invalidated when dependencies change.\n\n**Sources:** [Dockerfile96-104](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L96-L104)\n\n### Application Build\n\nAfter dependencies are built, application code is copied and compiled:\n\n```\n```\n\nOnly this layer needs rebuilding when application code changes.\n\n**Sources:** [Dockerfile106-118](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L106-L118)\n\n---\n\n## Web UI Integration\n\nThe Docker build includes the Qdrant web UI by downloading the latest release from the qdrant-web-ui repository.\n\n```\n```\n\n### Download Process\n\nThe `sync-web-ui.sh` script fetches the latest web UI bundle:\n\n```\n```",
    "metadata": {
      "chunk_id": 3,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 1019,
      "character_count": 3727,
      "created_at": "2025-10-16T17:42:31.006609",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 3,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "**Sources:** [tools/sync-web-ui.sh1-27](https://github.com/qdrant/qdrant/blob/48203e41/tools/sync-web-ui.sh#L1-L27)\n\n### Build Integration\n\nThe Dockerfile invokes the sync script during the builder stage:\n\n```\n```\n\n**Sources:** [Dockerfile92-94](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L92-L94)\n\n### Runtime Deployment\n\nStatic files are copied to the final image:\n\n```\n```\n\nThe web UI is served at the root path `/` on the HTTP API port (6333).\n\n**Sources:** [Dockerfile211](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L211-L211)\n\n---\n\n## Runtime Configuration\n\nThe final Docker image exposes standard ports, sets environment variables, and defines the entrypoint for container execution.\n\n### Exposed Ports\n\n| Port | Protocol  | Purpose                           |\n| ---- | --------- | --------------------------------- |\n| 6333 | HTTP/gRPC | REST API and gRPC API             |\n| 6334 | gRPC      | Internal gRPC (P2P communication) |\n\n**Sources:** [Dockerfile220-221](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L220-L221)\n\n### Environment Variables\n\n| Variable   | Default      | Purpose            |\n| ---------- | ------------ | ------------------ |\n| `TZ`       | `Etc/UTC`    | Container timezone |\n| `RUN_MODE` | `production` | Runtime mode       |\n\nAdditional configuration can be set via `QDRANT__*` environment variables (see [Configuration System](qdrant/qdrant/10.1-configuration-system.md)).\n\n**Sources:** [Dockerfile217-218](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L217-L218)\n\n### File System Layout\n\n```\n/qdrant/\n├── qdrant              # Binary executable\n├── qdrant.spdx.json    # Software Bill of Materials\n├── config/             # Configuration files\n├── static/             # Web UI static files\n├── entrypoint.sh       # Container entrypoint\n├── storage/            # Data directory (volume mount)\n└── snapshots/          # Snapshot directory (volume mount)\n```\n\n**Sources:** [Dockerfile196-213](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L196-L213)\n\n### Entrypoint Script\n\nThe container executes via `entrypoint.sh`:\n\n```\n```\n\nThis script is located at [tools/entrypoint.sh](https://github.com/qdrant/qdrant/blob/48203e41/tools/entrypoint.sh) and handles initialization before starting the Qdrant process.\n\n**Sources:** [Dockerfile210](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L210-L210) [Dockerfile230](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L230-L230)\n\n### User Configuration\n\nThe image supports two user modes:\n\n**Root Mode (USER\\_ID=0, default):**\n\n- Runs as root user\n- No pre-created directories\n- Maximum flexibility for volume mounting\n\n**Unprivileged Mode (USER\\_ID=1000):**\n\n- Runs as `qdrant:qdrant` user (UID/GID 1000)\n- Pre-created `storage` and `snapshots` directories\n- Enhanced security posture\n\n**Sources:** [Dockerfile198-215](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L198-L215)\n\n---\n\n## CI/CD Integration\n\nQdrant's Docker images are built and deployed through GitHub Actions workflows that handle multi-platform builds, tagging strategies, and image signing.\n\n```\n```\n\n### Multi-Platform Build Configuration\n\nThe CPU build targets multiple platforms using Docker Buildx:\n\n```\n```\n\nGPU builds are limited to `linux/amd64` due to GPU driver compatibility.\n\n**Sources:** [.github/workflows/docker-image.yml38-62](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L38-L62) [.github/workflows/docker-image.yml108-148](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L108-L148)\n\n### Tag Generation Strategy\n\nFor a release tag like `v1.2.3`, the workflow generates multiple tags:",
    "metadata": {
      "chunk_id": 4,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 996,
      "character_count": 3714,
      "created_at": "2025-10-16T17:42:31.018844",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 4,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "| Tag Pattern   | Example                | Purpose       |\n| ------------- | ---------------------- | ------------- |\n| Full version  | `qdrant/qdrant:v1.2.3` | Exact release |\n| Minor version | `qdrant/qdrant:1.2`    | Latest patch  |\n| Major version | `qdrant/qdrant:1`      | Latest minor  |\n| Latest        | `qdrant/qdrant:latest` | Latest stable |\n\n**Version Extraction:**\n\n```\n```\n\n**Sources:** [.github/workflows/docker-image.yml26-37](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L26-L37) [.github/workflows/docker-image.yml95-106](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L95-L106)\n\n### Image Registries\n\nImages are pushed to two registries:\n\n1. **Docker Hub:** `qdrant/qdrant:{tag}`\n2. **GitHub Packages:** `docker.pkg.github.com/qdrant/qdrant/qdrant:{tag}`\n\n**Sources:** [.github/workflows/docker-image.yml44-59](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L44-L59) [.github/workflows/docker-image.yml113-128](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L113-L128)\n\n### Image Signing with Cosign\n\nAll published images are signed using Sigstore Cosign with keyless OIDC signing:\n\n```\n```\n\nThis enables verification of image authenticity without managing signing keys.\n\n**Sources:** [.github/workflows/docker-image.yml61-62](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L61-L62) [.github/workflows/docker-image.yml130-131](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L130-L131)\n\n### SBOM Generation\n\nSoftware Bill of Materials (SBOM) is generated during build:\n\n```\n```\n\nThe SBOM is included in the final image at `/qdrant/qdrant.spdx.json` and also embedded in the image metadata:\n\n```\n```\n\n**Sources:** [Dockerfile120-121](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L120-L121) [Dockerfile208](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L208-L208) [.github/workflows/docker-image.yml56](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/docker-image.yml#L56-L56)\n\n### Testing Integration\n\nDocker builds are tested in CI through multiple workflows:\n\n**Consensus Testing:**\n\n```\n```\n\n**E2E Testing:**\n\n```\n```\n\n**Sources:** [.github/workflows/integration-tests.yml101-117](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/integration-tests.yml#L101-L117) [.github/workflows/integration-tests.yml238-265](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/integration-tests.yml#L238-L265)\n\n### Cache Strategy\n\nGitHub Actions cache is used to speed up builds:\n\n```\n```\n\nThis creates separate cache scopes per branch while allowing fallback to base branch cache.\n\n**Sources:** [.github/workflows/integration-tests.yml108-111](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/integration-tests.yml#L108-L111)\n\n---\n\n## Development and Debugging Support\n\nThe Docker build supports optional features for debugging and development workflows.\n\n### Source Code Inclusion\n\nSource files can be included in the image for debugging:\n\n```\n```\n\nThis copies the following directories:\n\n- `/qdrant/src` - Application source\n- `/qdrant/lib` - Library source\n- `/usr/local/cargo/registry/src` - Crate sources\n- `/usr/local/cargo/git/checkouts` - Git dependencies\n\nThe conditional copy uses parameter expansion to work around Dockerfile limitations:\n\n```\n```\n\n**Sources:** [Dockerfile172-194](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L172-L194)\n\n### Debug Tools Installation\n\nAdditional debugging packages can be installed:\n\n```\n```\n\nThese packages are installed in the final image alongside base dependencies.",
    "metadata": {
      "chunk_id": 5,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 993,
      "character_count": 3735,
      "created_at": "2025-10-16T17:42:31.032201",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 5,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  },
  {
    "text": "**Sources:** [Dockerfile163-170](https://github.com/qdrant/qdrant/blob/48203e41/Dockerfile#L163-L170)\n\n### Build Profile for CI\n\nThe `ci` build profile balances build time and binary size for CI environments:\n\n```\n```\n\nThis profile is defined in `.cargo/config.toml` and used by integration tests.\n\n**Sources:** [.github/workflows/integration-tests.yml114](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/integration-tests.yml#L114-L114) [.github/workflows/integration-tests.yml259](https://github.com/qdrant/qdrant/blob/48203e41/.github/workflows/integration-tests.yml#L259-L259)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [Docker Deployment](#docker-deployment.md)\n- [Multi-Stage Build Architecture](#multi-stage-build-architecture.md)\n- [Planner Stage](#planner-stage.md)\n- [Builder Stage](#builder-stage.md)\n- [Build Arguments and Configuration](#build-arguments-and-configuration.md)\n- [Build Profile Selection](#build-profile-selection.md)\n- [Feature Flag Configuration](#feature-flag-configuration.md)\n- [Linker Configuration](#linker-configuration.md)\n- [Image Variants](#image-variants.md)\n- [CPU Variant (Default)](#cpu-variant-default.md)\n- [GPU NVIDIA Variant](#gpu-nvidia-variant.md)\n- [GPU AMD Variant](#gpu-amd-variant.md)\n- [Unprivileged Variant](#unprivileged-variant.md)\n- [Cross-Platform Compilation](#cross-platform-compilation.md)\n- [Platform-Specific Toolchain Setup](#platform-specific-toolchain-setup.md)\n- [Cross-Compilation Wrapper](#cross-compilation-wrapper.md)\n- [Mold Linker Platform Support](#mold-linker-platform-support.md)\n- [Layer Caching Strategy](#layer-caching-strategy.md)\n- [Recipe Generation](#recipe-generation.md)\n- [Dependency Cooking](#dependency-cooking.md)\n- [Application Build](#application-build.md)\n- [Web UI Integration](#web-ui-integration.md)\n- [Download Process](#download-process.md)\n- [Build Integration](#build-integration.md)\n- [Runtime Deployment](#runtime-deployment.md)\n- [Runtime Configuration](#runtime-configuration.md)\n- [Exposed Ports](#exposed-ports.md)\n- [Environment Variables](#environment-variables.md)\n- [File System Layout](#file-system-layout.md)\n- [Entrypoint Script](#entrypoint-script.md)\n- [User Configuration](#user-configuration.md)\n- [CI/CD Integration](#cicd-integration.md)\n- [Multi-Platform Build Configuration](#multi-platform-build-configuration.md)\n- [Tag Generation Strategy](#tag-generation-strategy.md)\n- [Image Registries](#image-registries.md)\n- [Image Signing with Cosign](#image-signing-with-cosign.md)\n- [SBOM Generation](#sbom-generation.md)\n- [Testing Integration](#testing-integration.md)\n- [Cache Strategy](#cache-strategy.md)\n- [Development and Debugging Support](#development-and-debugging-support.md)\n- [Source Code Inclusion](#source-code-inclusion.md)\n- [Debug Tools Installation](#debug-tools-installation.md)\n- [Build Profile for CI](#build-profile-for-ci.md)",
    "metadata": {
      "chunk_id": 6,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "input_type": "qdrant",
      "chunking_strategy": "platform_documentation",
      "token_count": 740,
      "character_count": 2912,
      "created_at": "2025-10-16T17:42:31.033463",
      "parent_context": null,
      "semantic_type": "qdrant",
      "collection_name": "Qdrant",
      "subfolder_name": "qdrant_qdrant",
      "collection_strategy": "platform_documentation",
      "chunk_index_in_file": 6,
      "file_relative_path": "Qdrant\\qdrant_qdrant\\_qdrant_qdrant_10.2-docker-deployment.md",
      "collection_context": "Qdrant/qdrant_qdrant"
    }
  }
]