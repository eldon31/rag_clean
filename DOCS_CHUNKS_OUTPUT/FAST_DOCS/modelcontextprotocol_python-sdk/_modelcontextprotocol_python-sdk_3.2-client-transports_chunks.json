[
  {
    "text": "Client Transports | modelcontextprotocol/python-sdk | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[modelcontextprotocol/python-sdk](https://github.com/modelcontextprotocol/python-sdk \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 27 September 2025 ([146d7e](https://github.com/modelcontextprotocol/python-sdk/commits/146d7efb))\n\n- [Overview](modelcontextprotocol/python-sdk/1-overview.md)\n- [Installation & Dependencies](modelcontextprotocol/python-sdk/1.1-installation-and-dependencies.md)\n- [Key Concepts](modelcontextprotocol/python-sdk/1.2-key-concepts.md)\n- [FastMCP Server Framework](modelcontextprotocol/python-sdk/2-fastmcp-server-framework.md)\n- [FastMCP Server Architecture](modelcontextprotocol/python-sdk/2.1-fastmcp-server-architecture.md)\n- [Tool Management](modelcontextprotocol/python-sdk/2.2-tool-management.md)\n- [Resource & Prompt Management](modelcontextprotocol/python-sdk/2.3-resource-and-prompt-management.md)\n- [Function Introspection & Structured Output](modelcontextprotocol/python-sdk/2.4-function-introspection-and-structured-output.md)\n- [Client Framework](modelcontextprotocol/python-sdk/3-client-framework.md)\n- [ClientSession Core](modelcontextprotocol/python-sdk/3.1-clientsession-core.md)\n- [Client Transports](modelcontextprotocol/python-sdk/3.2-client-transports.md)\n- [Client Authentication](modelcontextprotocol/python-sdk/3.3-client-authentication.md)\n- [Protocol & Message System](modelcontextprotocol/python-sdk/4-protocol-and-message-system.md)\n- [Protocol Types & JSON-RPC](modelcontextprotocol/python-sdk/4.1-protocol-types-and-json-rpc.md)\n- [Session Management](modelcontextprotocol/python-sdk/4.2-session-management.md)\n- [Context & Progress Reporting](modelcontextprotocol/python-sdk/4.3-context-and-progress-reporting.md)\n- [Transport Layer](modelcontextprotocol/python-sdk/5-transport-layer.md)\n- [StreamableHTTP Transport](modelcontextprotocol/python-sdk/5.1-streamablehttp-transport.md)\n- [Server-Sent Events (SSE) Transport](modelcontextprotocol/python-sdk/5.2-server-sent-events-\\(sse\\)-transport.md)\n- [STDIO Transport](modelcontextprotocol/python-sdk/5.3-stdio-transport.md)\n- [Transport Security](modelcontextprotocol/python-sdk/5.4-transport-security.md)\n- [Low-Level Server Implementation](modelcontextprotocol/python-sdk/6-low-level-server-implementation.md)\n- [Low-Level Server Architecture](modelcontextprotocol/python-sdk/6.1-low-level-server-architecture.md)\n- [ServerSession Implementation](modelcontextprotocol/python-sdk/6.2-serversession-implementation.md)\n- [Authentication & Security](modelcontextprotocol/python-sdk/7-authentication-and-security.md)\n- [OAuth 2.0 System](modelcontextprotocol/python-sdk/7.1-oauth-2.0-system.md)\n- [Development Tools & CLI](modelcontextprotocol/python-sdk/8-development-tools-and-cli.md)\n- [MCP CLI Commands](modelcontextprotocol/python-sdk/8.1-mcp-cli-commands.md)\n- [Development Environment](modelcontextprotocol/python-sdk/8.2-development-environment.md)\n- [Claude Desktop Integration](modelcontextprotocol/python-sdk/8.3-claude-desktop-integration.md)\n- [Examples & Tutorials](modelcontextprotocol/python-sdk/9-examples-and-tutorials.md)\n- [Server Examples](modelcontextprotocol/python-sdk/9.1-server-examples.md)\n- [Client Examples](modelcontextprotocol/python-sdk/9.2-client-examples.md)\n\nMenu\n\n# Client Transports\n\nRelevant source files",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 835,
      "character_count": 3471,
      "created_at": "2025-10-16T17:42:19.366411",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "modelcontextprotocol_python-sdk",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "collection_context": "FAST_DOCS/modelcontextprotocol_python-sdk"
    }
  },
  {
    "text": "- [src/mcp/client/sse.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py)\n- [src/mcp/client/stdio/\\_\\_init\\_\\_.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py)\n- [src/mcp/client/streamable\\_http.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py)\n- [tests/client/test\\_notification\\_response.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/client/test_notification_response.py)\n- [tests/client/test\\_stdio.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/client/test_stdio.py)\n- [tests/issues/test\\_1027\\_win\\_unreachable\\_cleanup.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/issues/test_1027_win_unreachable_cleanup.py)\n- [tests/shared/test\\_win32\\_utils.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/shared/test_win32_utils.py)\n\nThis document covers the client-side transport implementations in the MCP Python SDK that enable communication between MCP clients and servers. Client transports handle the low-level protocol communication, message serialization, and connection management for different communication channels.\n\nFor information about the high-level `ClientSession` that uses these transports, see [ClientSession Core](modelcontextprotocol/python-sdk/3.1-clientsession-core.md). For server-side transport implementations, see the Transport Layer sections [StreamableHTTP Transport](modelcontextprotocol/python-sdk/5.1-streamablehttp-transport.md), [Server-Sent Events (SSE) Transport](modelcontextprotocol/python-sdk/5.2-server-sent-events-\\(sse\\)-transport.md), and [STDIO Transport](modelcontextprotocol/python-sdk/5.3-stdio-transport.md).\n\n## Transport Architecture Overview\n\nThe MCP client framework provides three primary transport implementations, each designed for different deployment scenarios and communication patterns.\n\n```\n```\n\nSources: [src/mcp/client/streamable\\_http.py1-514](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L1-L514) [src/mcp/client/sse.py1-145](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L1-L145) [src/mcp/client/stdio/\\_\\_init\\_\\_.py1-279](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L1-L279)\n\n## StreamableHTTP Transport\n\nThe `StreamableHTTPTransport` is the most sophisticated client transport, supporting bidirectional HTTP communication with session management, resumption capabilities, and both JSON and Server-Sent Events responses.\n\n### Core Components\n\nThe transport consists of the main `StreamableHTTPTransport` class and the `streamablehttp_client` async context manager:\n\n| Component                 | Purpose                   | Location                                                                                                                                                  |\n| ------------------------- | ------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `StreamableHTTPTransport` | Core transport logic      | [src/mcp/client/streamable\\_http.py74-442](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L74-L442)   |\n| `streamablehttp_client`   | Client context manager    | [src/mcp/client/streamable\\_http.py445-514](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L445-L514) |\n| `RequestContext`          | Request operation context | [src/mcp/client/streamable\\_http.py62-72](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L62-L72)     |\n\n### Message Flow Architecture\n\n```\n```\n\nSources: [src/mcp/client/streamable\\_http.py366-422](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L366-L422) [src/mcp/client/streamable\\_http.py192-219](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L192-L219) [src/mcp/client/streamable\\_http.py254-295](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L254-L295)\n\n### Session Management\n\nThe StreamableHTTP transport implements sophisticated session management with resumption support:",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 1022,
      "character_count": 4542,
      "created_at": "2025-10-16T17:42:19.373476",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "modelcontextprotocol_python-sdk",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "collection_context": "FAST_DOCS/modelcontextprotocol_python-sdk"
    }
  },
  {
    "text": "- **Session ID Extraction**: Automatically extracts session IDs from response headers [src/mcp/client/streamable\\_http.py126-135](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L126-L135)\n- **Protocol Version Negotiation**: Parses and stores protocol version from initialization responses [src/mcp/client/streamable\\_http.py136-150](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L136-L150)\n- **Request Header Preparation**: Adds session ID and protocol version to subsequent requests [src/mcp/client/streamable\\_http.py109-117](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L109-L117)\n- **Session Termination**: Sends DELETE requests to clean up server resources [src/mcp/client/streamable\\_http.py423-438](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L423-L438)\n\n### Resumption Capabilities\n\nThe transport supports resumption of interrupted sessions using resumption tokens:\n\n```\n```\n\nSources: [src/mcp/client/streamable\\_http.py220-253](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L220-L253) [src/mcp/client/streamable\\_http.py151-191](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L151-L191)\n\n## SSE Transport\n\nThe `sse_client` provides a simpler transport focused on real-time communication using Server-Sent Events for server-to-client messages and HTTP POST for client-to-server messages.\n\n### Architecture\n\n```\n```\n\nSources: [src/mcp/client/sse.py24-145](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L24-L145) [src/mcp/client/sse.py68-113](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L68-L113) [src/mcp/client/sse.py114-133](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L114-L133)\n\n### Endpoint Discovery\n\nThe SSE transport implements a discovery mechanism where the server provides the POST endpoint URL via SSE events:\n\n1. **Initial Connection**: Client connects to SSE endpoint via GET request [src/mcp/client/sse.py60-67](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L60-L67)\n2. **Endpoint Event**: Server sends `endpoint` event with POST URL [src/mcp/client/sse.py75-92](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L75-L92)\n3. **Security Validation**: Client validates endpoint origin matches connection origin [src/mcp/client/sse.py79-90](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L79-L90)\n4. **Post Writer Activation**: POST writer task starts with discovered endpoint [src/mcp/client/sse.py134-136](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L134-L136)\n\n## STDIO Transport\n\nThe `stdio_client` manages communication with MCP servers running as separate processes, using standard input/output streams for JSON-RPC message exchange.\n\n### Process Lifecycle\n\n```\n```\n\nSources: [src/mcp/client/stdio/\\_\\_init\\_\\_.py106-217](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L106-L217) [src/mcp/client/stdio/\\_\\_init\\_\\_.py235-279](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L235-L279) [src/mcp/client/stdio/\\_\\_init\\_\\_.py139-165](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L139-L165)\n\n### Platform-Specific Process Management\n\nThe STDIO transport implements platform-specific process creation and termination:",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 972,
      "character_count": 3798,
      "created_at": "2025-10-16T17:42:19.379503",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "modelcontextprotocol_python-sdk",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "collection_context": "FAST_DOCS/modelcontextprotocol_python-sdk"
    }
  },
  {
    "text": "| Platform | Process Creation                            | Termination Strategy                       |\n| -------- | ------------------------------------------- | ------------------------------------------ |\n| Unix     | `start_new_session=True` for process groups | `os.killpg()` for atomic group termination |\n| Windows  | Job Objects via `create_windows_process`    | Job Object termination for child cleanup   |\n\nSources: [src/mcp/client/stdio/\\_\\_init\\_\\_.py235-260](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L235-L260) [src/mcp/client/stdio/\\_\\_init\\_\\_.py262-279](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L262-L279)\n\n### Message Processing\n\nThe transport handles JSON-RPC message processing with robust error handling:\n\n- **Line-based Parsing**: Buffers input and splits on newlines [src/mcp/client/stdio/\\_\\_init\\_\\_.py144-153](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L144-L153)\n- **JSON Validation**: Validates each line as JSON-RPC message [src/mcp/client/stdio/\\_\\_init\\_\\_.py154-162](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L154-L162)\n- **Encoding Support**: Configurable text encoding and error handling [src/mcp/client/stdio/\\_\\_init\\_\\_.py89-103](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L89-L103)\n\n## Transport Selection and Usage Patterns\n\n### Transport Comparison\n\n| Transport      | Use Case                                | Pros                                     | Cons                          |\n| -------------- | --------------------------------------- | ---------------------------------------- | ----------------------------- |\n| StreamableHTTP | Web services, production deployments    | Session management, resumption, scalable | Complex, requires HTTP server |\n| SSE            | Real-time applications, event-driven    | Simple, real-time events                 | Limited to web contexts       |\n| STDIO          | CLI tools, development, local processes | Direct process control, simple setup     | Process management complexity |\n\n### Integration with ClientSession\n\nAll client transports follow the same interface pattern for integration with `ClientSession`:\n\n```\n```\n\nSources: [src/mcp/client/streamable\\_http.py453-459](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L453-L459) [src/mcp/client/sse.py45-49](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L45-L49) [src/mcp/client/stdio/\\_\\_init\\_\\_.py111-115](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L111-L115)\n\n## Error Handling and Resilience\n\n### Connection Error Patterns\n\nEach transport implements specific error handling strategies:\n\n- **StreamableHTTP**: HTTP status code handling, session termination on 404, resumption error recovery [src/mcp/client/streamable\\_http.py266-277](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L266-L277)\n- **SSE**: Connection error recovery, origin validation errors [src/mcp/client/sse.py108-110](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L108-L110)\n- **STDIO**: Process creation failures, graceful shutdown with timeout escalation [src/mcp/client/stdio/\\_\\_init\\_\\_.py191-217](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L191-L217)\n\n### Timeout Management\n\nTransport-specific timeout configurations:\n\n| Transport      | Timeout Type        | Default   | Configuration                 |\n| -------------- | ------------------- | --------- | ----------------------------- |\n| StreamableHTTP | HTTP operations     | 30s       | `timeout` parameter           |\n| StreamableHTTP | SSE read            | 5 minutes | `sse_read_timeout` parameter  |\n| SSE            | HTTP operations     | 5s        | `timeout` parameter           |\n| SSE            | SSE read            | 5 minutes | `sse_read_timeout` parameter  |\n| STDIO          | Process termination | 2s        | `PROCESS_TERMINATION_TIMEOUT` |",
    "metadata": {
      "chunk_id": 3,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 997,
      "character_count": 4311,
      "created_at": "2025-10-16T17:42:19.386028",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "modelcontextprotocol_python-sdk",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 3,
      "file_relative_path": "FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "collection_context": "FAST_DOCS/modelcontextprotocol_python-sdk"
    }
  },
  {
    "text": "Sources: [src/mcp/client/streamable\\_http.py77-100](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/streamable_http.py#L77-L100) [src/mcp/client/sse.py27-28](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/sse.py#L27-L28) [src/mcp/client/stdio/\\_\\_init\\_\\_.py47-48](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L47-L48)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [Client Transports](#client-transports.md)\n- [Transport Architecture Overview](#transport-architecture-overview.md)\n- [StreamableHTTP Transport](#streamablehttp-transport.md)\n- [Core Components](#core-components.md)\n- [Message Flow Architecture](#message-flow-architecture.md)\n- [Session Management](#session-management.md)\n- [Resumption Capabilities](#resumption-capabilities.md)\n- [SSE Transport](#sse-transport.md)\n- [Architecture](#architecture.md)\n- [Endpoint Discovery](#endpoint-discovery.md)\n- [STDIO Transport](#stdio-transport.md)\n- [Process Lifecycle](#process-lifecycle.md)\n- [Platform-Specific Process Management](#platform-specific-process-management.md)\n- [Message Processing](#message-processing.md)\n- [Transport Selection and Usage Patterns](#transport-selection-and-usage-patterns.md)\n- [Transport Comparison](#transport-comparison.md)\n- [Integration with ClientSession](#integration-with-clientsession.md)\n- [Error Handling and Resilience](#error-handling-and-resilience.md)\n- [Connection Error Patterns](#connection-error-patterns.md)\n- [Timeout Management](#timeout-management.md)",
    "metadata": {
      "chunk_id": 4,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 407,
      "character_count": 1611,
      "created_at": "2025-10-16T17:42:19.386771",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "modelcontextprotocol_python-sdk",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 4,
      "file_relative_path": "FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_3.2-client-transports.md",
      "collection_context": "FAST_DOCS/modelcontextprotocol_python-sdk"
    }
  }
]