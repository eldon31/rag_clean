[
  {
    "text": "STDIO Transport | modelcontextprotocol/python-sdk | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[modelcontextprotocol/python-sdk](https://github.com/modelcontextprotocol/python-sdk \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 27 September 2025 ([146d7e](https://github.com/modelcontextprotocol/python-sdk/commits/146d7efb))\n\n- [Overview](modelcontextprotocol/python-sdk/1-overview.md)\n- [Installation & Dependencies](modelcontextprotocol/python-sdk/1.1-installation-and-dependencies.md)\n- [Key Concepts](modelcontextprotocol/python-sdk/1.2-key-concepts.md)\n- [FastMCP Server Framework](modelcontextprotocol/python-sdk/2-fastmcp-server-framework.md)\n- [FastMCP Server Architecture](modelcontextprotocol/python-sdk/2.1-fastmcp-server-architecture.md)\n- [Tool Management](modelcontextprotocol/python-sdk/2.2-tool-management.md)\n- [Resource & Prompt Management](modelcontextprotocol/python-sdk/2.3-resource-and-prompt-management.md)\n- [Function Introspection & Structured Output](modelcontextprotocol/python-sdk/2.4-function-introspection-and-structured-output.md)\n- [Client Framework](modelcontextprotocol/python-sdk/3-client-framework.md)\n- [ClientSession Core](modelcontextprotocol/python-sdk/3.1-clientsession-core.md)\n- [Client Transports](modelcontextprotocol/python-sdk/3.2-client-transports.md)\n- [Client Authentication](modelcontextprotocol/python-sdk/3.3-client-authentication.md)\n- [Protocol & Message System](modelcontextprotocol/python-sdk/4-protocol-and-message-system.md)\n- [Protocol Types & JSON-RPC](modelcontextprotocol/python-sdk/4.1-protocol-types-and-json-rpc.md)\n- [Session Management](modelcontextprotocol/python-sdk/4.2-session-management.md)\n- [Context & Progress Reporting](modelcontextprotocol/python-sdk/4.3-context-and-progress-reporting.md)\n- [Transport Layer](modelcontextprotocol/python-sdk/5-transport-layer.md)\n- [StreamableHTTP Transport](modelcontextprotocol/python-sdk/5.1-streamablehttp-transport.md)\n- [Server-Sent Events (SSE) Transport](modelcontextprotocol/python-sdk/5.2-server-sent-events-\\(sse\\)-transport.md)\n- [STDIO Transport](modelcontextprotocol/python-sdk/5.3-stdio-transport.md)\n- [Transport Security](modelcontextprotocol/python-sdk/5.4-transport-security.md)\n- [Low-Level Server Implementation](modelcontextprotocol/python-sdk/6-low-level-server-implementation.md)\n- [Low-Level Server Architecture](modelcontextprotocol/python-sdk/6.1-low-level-server-architecture.md)\n- [ServerSession Implementation](modelcontextprotocol/python-sdk/6.2-serversession-implementation.md)\n- [Authentication & Security](modelcontextprotocol/python-sdk/7-authentication-and-security.md)\n- [OAuth 2.0 System](modelcontextprotocol/python-sdk/7.1-oauth-2.0-system.md)\n- [Development Tools & CLI](modelcontextprotocol/python-sdk/8-development-tools-and-cli.md)\n- [MCP CLI Commands](modelcontextprotocol/python-sdk/8.1-mcp-cli-commands.md)\n- [Development Environment](modelcontextprotocol/python-sdk/8.2-development-environment.md)\n- [Claude Desktop Integration](modelcontextprotocol/python-sdk/8.3-claude-desktop-integration.md)\n- [Examples & Tutorials](modelcontextprotocol/python-sdk/9-examples-and-tutorials.md)\n- [Server Examples](modelcontextprotocol/python-sdk/9.1-server-examples.md)\n- [Client Examples](modelcontextprotocol/python-sdk/9.2-client-examples.md)\n\nMenu\n\n# STDIO Transport\n\nRelevant source files",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5.3-stdio-transport.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 835,
      "character_count": 3467,
      "created_at": "2025-10-16T17:42:19.568136",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "modelcontextprotocol_python-sdk",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5.3-stdio-transport.md",
      "collection_context": "FAST_DOCS/modelcontextprotocol_python-sdk"
    }
  },
  {
    "text": "- [examples/servers/simple-prompt/mcp\\_simple\\_prompt/server.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/examples/servers/simple-prompt/mcp_simple_prompt/server.py)\n- [examples/servers/simple-resource/mcp\\_simple\\_resource/server.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/examples/servers/simple-resource/mcp_simple_resource/server.py)\n- [examples/servers/simple-tool/mcp\\_simple\\_tool/server.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/examples/servers/simple-tool/mcp_simple_tool/server.py)\n- [src/mcp/client/stdio/\\_\\_init\\_\\_.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py)\n- [tests/client/test\\_stdio.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/client/test_stdio.py)\n- [tests/issues/test\\_1027\\_win\\_unreachable\\_cleanup.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/issues/test_1027_win_unreachable_cleanup.py)\n- [tests/shared/test\\_win32\\_utils.py](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/shared/test_win32_utils.py)\n\nThe STDIO Transport enables MCP clients to communicate with servers by spawning processes and using standard input/output streams for message exchange. This transport is particularly useful for local development, CLI tools, and scenarios where servers are distributed as standalone executables. For HTTP-based transports, see [StreamableHTTP Transport](modelcontextprotocol/python-sdk/5.1-streamablehttp-transport.md) and [SSE Transport](modelcontextprotocol/python-sdk/5.2-server-sent-events-\\(sse\\)-transport.md).\n\n## Configuration\n\nThe STDIO transport is configured using the `StdioServerParameters` class, which defines how the server process should be spawned and managed.\n\n### StdioServerParameters\n\nThe configuration model provides comprehensive control over process execution:\n\n```\n```\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py72-103](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L72-L103)\n\nThe `env` parameter controls environment variable inheritance. When `None`, the system uses `get_default_environment()` which provides a secure subset of environment variables filtered for safety.\n\n### Default Environment Security\n\nThe transport implements security measures for environment variable inheritance:\n\n```\n```\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py51-69](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L51-L69) [src/mcp/client/stdio/\\_\\_init\\_\\_.py27-45](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L27-L45)\n\n## Connection Management\n\n### stdio\\_client Context Manager\n\nThe `stdio_client` function provides the primary interface for establishing STDIO connections. It returns read and write streams for JSON-RPC message exchange:\n\n```\n```\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py105-216](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L105-L216)\n\n### Message Processing\n\nThe transport handles JSON-RPC message serialization automatically:\n\n```\n```\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py139-179](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L139-L179)\n\n## Process Management\n\n### Cross-Platform Process Creation\n\nThe transport provides platform-specific process creation to ensure reliable child process management:\n\n```\n```\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py234-258](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L234-L258) [src/mcp/client/stdio/\\_\\_init\\_\\_.py218-232](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L218-L232)\n\n### Process Tree Termination\n\nThe transport implements comprehensive child process cleanup using platform-specific mechanisms:\n\n```\n```",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5.3-stdio-transport.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 981,
      "character_count": 4052,
      "created_at": "2025-10-16T17:42:19.578177",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "modelcontextprotocol_python-sdk",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5.3-stdio-transport.md",
      "collection_context": "FAST_DOCS/modelcontextprotocol_python-sdk"
    }
  },
  {
    "text": "**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py261-277](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L261-L277)\n\n## Shutdown and Cleanup\n\n### MCP-Compliant Shutdown Sequence\n\nThe transport implements the MCP specification's stdio shutdown sequence for graceful server termination:\n\n```\n```\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py190-215](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L190-L215)\n\n### Timeout Configuration\n\nThe transport uses configurable timeouts for process termination:\n\n- **`PROCESS_TERMINATION_TIMEOUT`**: 2.0 seconds for graceful exit after stdin closure\n- Escalation to SIGTERM if graceful exit fails\n- Final SIGKILL if SIGTERM is ignored\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py47-48](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L47-L48)\n\n## Platform Considerations\n\n### Windows-Specific Handling\n\nWindows requires special handling for executable resolution and process management:\n\n```\n```\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py228-232](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L228-L232) [src/mcp/client/stdio/\\_\\_init\\_\\_.py16-22](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L16-L22)\n\n### Unix Process Groups\n\nUnix systems use process groups for reliable child process management:\n\n- **Session Creation**: `start_new_session=True` creates new process group\n- **Atomic Termination**: `os.killpg()` terminates entire process group\n- **Signal Escalation**: SIGTERM → SIGKILL escalation for unresponsive processes\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py250-256](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L250-L256)\n\n## Error Handling and Edge Cases\n\n### Connection Failures\n\nThe transport handles various failure scenarios:\n\n```\n```\n\n**Sources:** [src/mcp/client/stdio/\\_\\_init\\_\\_.py131-137](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L131-L137) [src/mcp/client/stdio/\\_\\_init\\_\\_.py154-161](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L154-L161)\n\n### Child Process Cleanup\n\nThe transport includes comprehensive tests for child process scenarios:\n\n- **Basic Parent-Child**: Single child process termination\n- **Nested Trees**: Multi-level process hierarchies (parent → child → grandchild)\n- **Race Conditions**: Parent exits during cleanup sequence\n- **Signal Handling**: Processes that ignore specific signals\n\n**Sources:** [tests/client/test\\_stdio.py226-521](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/client/test_stdio.py#L226-L521)\n\n## Integration Examples\n\n### Basic Usage\n\n```\n```\n\n### Custom Environment\n\n```\n```\n\n**Sources:** [tests/client/test\\_stdio.py37-81](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/tests/client/test_stdio.py#L37-L81) [src/mcp/client/stdio/\\_\\_init\\_\\_.py127-128](https://github.com/modelcontextprotocol/python-sdk/blob/146d7efb/src/mcp/client/stdio/__init__.py#L127-L128)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5.3-stdio-transport.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 868,
      "character_count": 3333,
      "created_at": "2025-10-16T17:42:19.587575",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "modelcontextprotocol_python-sdk",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5.3-stdio-transport.md",
      "collection_context": "FAST_DOCS/modelcontextprotocol_python-sdk"
    }
  },
  {
    "text": "- [STDIO Transport](#stdio-transport.md)\n- [Configuration](#configuration.md)\n- [StdioServerParameters](#stdioserverparameters.md)\n- [Default Environment Security](#default-environment-security.md)\n- [Connection Management](#connection-management.md)\n- [stdio\\_client Context Manager](#stdio_client-context-manager.md)\n- [Message Processing](#message-processing.md)\n- [Process Management](#process-management.md)\n- [Cross-Platform Process Creation](#cross-platform-process-creation.md)\n- [Process Tree Termination](#process-tree-termination.md)\n- [Shutdown and Cleanup](#shutdown-and-cleanup.md)\n- [MCP-Compliant Shutdown Sequence](#mcp-compliant-shutdown-sequence.md)\n- [Timeout Configuration](#timeout-configuration.md)\n- [Platform Considerations](#platform-considerations.md)\n- [Windows-Specific Handling](#windows-specific-handling.md)\n- [Unix Process Groups](#unix-process-groups.md)\n- [Error Handling and Edge Cases](#error-handling-and-edge-cases.md)\n- [Connection Failures](#connection-failures.md)\n- [Child Process Cleanup](#child-process-cleanup.md)\n- [Integration Examples](#integration-examples.md)\n- [Basic Usage](#basic-usage.md)\n- [Custom Environment](#custom-environment.md)",
    "metadata": {
      "chunk_id": 3,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5.3-stdio-transport.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 283,
      "character_count": 1190,
      "created_at": "2025-10-16T17:42:19.587733",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "modelcontextprotocol_python-sdk",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 3,
      "file_relative_path": "FAST_DOCS\\modelcontextprotocol_python-sdk\\_modelcontextprotocol_python-sdk_5.3-stdio-transport.md",
      "collection_context": "FAST_DOCS/modelcontextprotocol_python-sdk"
    }
  }
]