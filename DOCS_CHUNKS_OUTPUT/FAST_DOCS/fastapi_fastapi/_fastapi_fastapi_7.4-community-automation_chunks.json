[
  {
    "text": "Community Automation | fastapi/fastapi | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[fastapi/fastapi](https://github.com/fastapi/fastapi \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 5 September 2025 ([3e2dbf](https://github.com/fastapi/fastapi/commits/3e2dbf91))\n\n- [FastAPI Overview](fastapi/fastapi/1-fastapi-overview.md)\n- [Core Architecture](fastapi/fastapi/2-core-architecture.md)\n- [Application and Routing System](fastapi/fastapi/2.1-application-and-routing-system.md)\n- [Dependency Injection](fastapi/fastapi/2.2-dependency-injection.md)\n- [Parameter Validation and Handling](fastapi/fastapi/2.3-parameter-validation-and-handling.md)\n- [Response Handling](fastapi/fastapi/2.4-response-handling.md)\n- [Security Components](fastapi/fastapi/2.5-security-components.md)\n- [Settings Management](fastapi/fastapi/2.6-settings-management.md)\n- [Error Handling](fastapi/fastapi/2.7-error-handling.md)\n- [API Documentation System](fastapi/fastapi/3-api-documentation-system.md)\n- [OpenAPI Schema Generation](fastapi/fastapi/3.1-openapi-schema-generation.md)\n- [Customizing API Documentation UI](fastapi/fastapi/3.2-customizing-api-documentation-ui.md)\n- [Advanced Features](fastapi/fastapi/4-advanced-features.md)\n- [Asynchronous Support](fastapi/fastapi/4.1-asynchronous-support.md)\n- [Database Integration](fastapi/fastapi/4.2-database-integration.md)\n- [Background Tasks](fastapi/fastapi/4.3-background-tasks.md)\n- [Deployment and Production Considerations](fastapi/fastapi/4.4-deployment-and-production-considerations.md)\n- [Testing Infrastructure](fastapi/fastapi/5-testing-infrastructure.md)\n- [Test Framework and Tools](fastapi/fastapi/5.1-test-framework-and-tools.md)\n- [Code Quality and Pre-commit](fastapi/fastapi/5.2-code-quality-and-pre-commit.md)\n- [Project Infrastructure](fastapi/fastapi/6-project-infrastructure.md)\n- [Documentation System](fastapi/fastapi/6.1-documentation-system.md)\n- [CI/CD Pipeline](fastapi/fastapi/6.2-cicd-pipeline.md)\n- [Development Workflow](fastapi/fastapi/6.3-development-workflow.md)\n- [Community Ecosystem](fastapi/fastapi/7-community-ecosystem.md)\n- [Contributors and Experts Management](fastapi/fastapi/7.1-contributors-and-experts-management.md)\n- [Translation Management](fastapi/fastapi/7.2-translation-management.md)\n- [External Resources and Sponsorship](fastapi/fastapi/7.3-external-resources-and-sponsorship.md)\n- [Community Automation](fastapi/fastapi/7.4-community-automation.md)\n\nMenu\n\n# Community Automation\n\nRelevant source files",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_7.4-community-automation.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 688,
      "character_count": 2615,
      "created_at": "2025-10-16T17:42:18.678354",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "fastapi_fastapi",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_7.4-community-automation.md",
      "collection_context": "FAST_DOCS/fastapi_fastapi"
    }
  },
  {
    "text": "- [.github/workflows/build-docs.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/build-docs.yml)\n- [.github/workflows/contributors.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/contributors.yml)\n- [.github/workflows/deploy-docs.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/deploy-docs.yml)\n- [.github/workflows/issue-manager.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/issue-manager.yml)\n- [.github/workflows/label-approved.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/label-approved.yml)\n- [.github/workflows/latest-changes.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/latest-changes.yml)\n- [.github/workflows/notify-translations.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/notify-translations.yml)\n- [.github/workflows/people.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/people.yml)\n- [.github/workflows/publish.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/publish.yml)\n- [.github/workflows/smokeshow.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/smokeshow.yml)\n- [.github/workflows/sponsors.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/sponsors.yml)\n- [.github/workflows/test-redistribute.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/test-redistribute.yml)\n- [.github/workflows/test.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/test.yml)\n- [.github/workflows/topic-repos.yml](https://github.com/fastapi/fastapi/blob/3e2dbf91/.github/workflows/topic-repos.yml)\n- [scripts/deploy\\_docs\\_status.py](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py)\n- [scripts/notify\\_translations.py](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py)\n- [scripts/sponsors.py](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/sponsors.py)\n\nThis document covers the automated systems that manage community interactions and notifications within the FastAPI project. These systems handle notifications for documentation deployments, translation reviews, and other community-driven activities through GitHub integrations.\n\nFor information about contributor tracking and expert identification, see [Contributors and Experts Management](fastapi/fastapi/7.1-contributors-and-experts-management.md). For details about the translation workflow itself, see [Translation Management](fastapi/fastapi/7.2-translation-management.md).\n\n## Overview\n\nThe FastAPI project uses two primary automation scripts to manage community notifications:\n\n| System                                 | Purpose                                            | Trigger                            |\n| -------------------------------------- | -------------------------------------------------- | ---------------------------------- |\n| Documentation Deployment Notifications | Notify PRs about documentation preview deployments | GitHub Actions workflow completion |\n| Translation Community Notifications    | Notify language communities about translation PRs  | PR label changes                   |\n\n## Documentation Deployment Notifications\n\nThe `deploy_docs_status` system automatically updates pull requests with documentation preview links and deployment status information when documentation changes are detected.\n\n### Core Functionality\n\nThe system operates through the `Settings` class which configures GitHub repository access and deployment parameters:\n\n```\n```\n\n### Status Management\n\nThe system creates different commit statuses based on deployment state:\n\n- **Pending**: When deployment is in progress [scripts/deploy\\_docs\\_status.py50-57](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py#L50-L57)\n- **Success (No Changes)**: When no documentation files were modified [scripts/deploy\\_docs\\_status.py40-48](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py#L40-L48)\n- **Success (Deployed)**: When documentation is successfully deployed [scripts/deploy\\_docs\\_status.py58-63](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py#L58-L63)\n\n### Link Generation Process\n\nThe system processes documentation files to generate preview links using regex matching:",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_7.4-community-automation.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 1001,
      "character_count": 4410,
      "created_at": "2025-10-16T17:42:18.683959",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "fastapi_fastapi",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_7.4-community-automation.md",
      "collection_context": "FAST_DOCS/fastapi_fastapi"
    }
  },
  {
    "text": "1. Identifies files matching pattern `docs/([^/]+)/docs/(.*)` [scripts/deploy\\_docs\\_status.py71-74](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py#L71-L74)\n2. Converts file paths to URL paths by handling `index.md` and `.md` extensions [scripts/deploy\\_docs\\_status.py76-84](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py#L76-L84)\n3. Generates `LinkData` objects containing preview, previous, and English reference links [scripts/deploy\\_docs\\_status.py85-91](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py#L85-L91)\n\n**Sources:** [scripts/deploy\\_docs\\_status.py1-126](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py#L1-L126)\n\n## Translation Community Notifications\n\nThe `notify_translations` system manages notifications to language-specific discussion threads when translation pull requests are opened, reviewed, or completed.\n\n### System Architecture\n\n```\n```\n\n### Label-Based Workflow\n\nThe system uses specific GitHub labels to trigger notifications:\n\n| Label             | Purpose                         | Action                        |\n| ----------------- | ------------------------------- | ----------------------------- |\n| `awaiting-review` | PR needs translation review     | Create notification comment   |\n| `lang-all`        | Marks PR as translation-related | Required for processing       |\n| `lang-{code}`     | Identifies target language      | Maps to discussion thread     |\n| `approved-1`      | Translation is approved         | Update notification to \"done\" |\n\n### GraphQL Queries and Mutations\n\nThe system uses four main GraphQL operations:\n\n1. **Discussion Discovery**: `all_discussions_query` finds translation discussions [scripts/notify\\_translations.py21-41](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L21-L41)\n2. **Comment Retrieval**: `translation_discussion_query` gets existing comments [scripts/notify\\_translations.py43-60](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L43-L60)\n3. **Comment Creation**: `add_comment_mutation` creates new notifications [scripts/notify\\_translations.py62-72](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L62-L72)\n4. **Comment Updates**: `update_comment_mutation` marks translations as complete [scripts/notify\\_translations.py74-84](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L74-L84)\n\n### Message Templates\n\nThe system uses two message templates:\n\n- **New Translation**: `new_translation_message` announces new PRs requiring review [scripts/notify\\_translations.py361](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L361-L361)\n- **Completed Translation**: `done_translation_message` marks translations as finished [scripts/notify\\_translations.py362](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L362-L362)\n\n### Race Condition Prevention\n\nTo avoid multiple simultaneous notifications, the system includes a randomized delay:\n\n```\n```\n\nThis prevents race conditions when multiple labels are applied simultaneously [scripts/notify\\_translations.py329-334](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L329-L334)\n\n**Sources:** [scripts/notify\\_translations.py1-433](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L1-L433)\n\n## Integration with GitHub Actions\n\nBoth automation systems integrate with GitHub Actions workflows through environment variables and event data:\n\n### Common Configuration Pattern\n\nBoth scripts use `BaseSettings` from Pydantic for configuration management:\n\n- `github_repository`: Target repository identifier\n- `github_token`: Authentication token for API access\n- Event-specific parameters (commit SHA, PR number, etc.)\n\n### Event Processing\n\nThe `notify_translations` system processes GitHub webhook events:",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_7.4-community-automation.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 921,
      "character_count": 4007,
      "created_at": "2025-10-16T17:42:18.692331",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "fastapi_fastapi",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_7.4-community-automation.md",
      "collection_context": "FAST_DOCS/fastapi_fastapi"
    }
  },
  {
    "text": "1. Reads event data from `github_event_path` [scripts/notify\\_translations.py315-320](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L315-L320)\n2. Extracts PR number from event or settings [scripts/notify\\_translations.py322-326](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L322-L326)\n3. Processes PR labels to determine language scope [scripts/notify\\_translations.py336-347](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L336-L347)\n\n### Error Handling and Logging\n\nBoth systems implement comprehensive error handling:\n\n- HTTP response validation [scripts/notify\\_translations.py224-229](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L224-L229)\n- GraphQL error checking [scripts/notify\\_translations.py231-236](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L231-L236)\n- Missing resource handling [scripts/deploy\\_docs\\_status.py34-36](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py#L34-L36)\n\n**Sources:** [scripts/deploy\\_docs\\_status.py9-16](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/deploy_docs_status.py#L9-L16) [scripts/notify\\_translations.py178-188](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L178-L188)\n\n## Community Discussion Integration\n\nThe translation notification system specifically targets the \"Questions: Translations\" discussion category using the category ID `DIC_kwDOCZduT84CT5P9` [scripts/notify\\_translations.py19](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L19-L19) This integration enables:\n\n- Automatic discovery of language-specific discussion threads\n- Targeted notifications to relevant community members\n- Persistent comment tracking to avoid duplicate notifications\n- Status updates when translations are completed\n\nThe system maintains a mapping between language codes and discussion threads, allowing precise targeting of notifications to the appropriate community groups [scripts/notify\\_translations.py350-358](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L350-L358)\n\n**Sources:** [scripts/notify\\_translations.py18-20](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L18-L20) [scripts/notify\\_translations.py349-373](https://github.com/fastapi/fastapi/blob/3e2dbf91/scripts/notify_translations.py#L349-L373)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [Community Automation](#community-automation.md)\n- [Overview](#overview.md)\n- [Documentation Deployment Notifications](#documentation-deployment-notifications.md)\n- [Core Functionality](#core-functionality.md)\n- [Status Management](#status-management.md)\n- [Link Generation Process](#link-generation-process.md)\n- [Translation Community Notifications](#translation-community-notifications.md)\n- [System Architecture](#system-architecture.md)\n- [Label-Based Workflow](#label-based-workflow.md)\n- [GraphQL Queries and Mutations](#graphql-queries-and-mutations.md)\n- [Message Templates](#message-templates.md)\n- [Race Condition Prevention](#race-condition-prevention.md)\n- [Integration with GitHub Actions](#integration-with-github-actions.md)\n- [Common Configuration Pattern](#common-configuration-pattern.md)\n- [Event Processing](#event-processing.md)\n- [Error Handling and Logging](#error-handling-and-logging.md)\n- [Community Discussion Integration](#community-discussion-integration.md)",
    "metadata": {
      "chunk_id": 3,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_7.4-community-automation.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 858,
      "character_count": 3563,
      "created_at": "2025-10-16T17:42:18.696254",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "fastapi_fastapi",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 3,
      "file_relative_path": "FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_7.4-community-automation.md",
      "collection_context": "FAST_DOCS/fastapi_fastapi"
    }
  }
]