[
  {
    "text": "Database Integration | fastapi/fastapi | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[fastapi/fastapi](https://github.com/fastapi/fastapi \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 5 September 2025 ([3e2dbf](https://github.com/fastapi/fastapi/commits/3e2dbf91))\n\n- [FastAPI Overview](fastapi/fastapi/1-fastapi-overview.md)\n- [Core Architecture](fastapi/fastapi/2-core-architecture.md)\n- [Application and Routing System](fastapi/fastapi/2.1-application-and-routing-system.md)\n- [Dependency Injection](fastapi/fastapi/2.2-dependency-injection.md)\n- [Parameter Validation and Handling](fastapi/fastapi/2.3-parameter-validation-and-handling.md)\n- [Response Handling](fastapi/fastapi/2.4-response-handling.md)\n- [Security Components](fastapi/fastapi/2.5-security-components.md)\n- [Settings Management](fastapi/fastapi/2.6-settings-management.md)\n- [Error Handling](fastapi/fastapi/2.7-error-handling.md)\n- [API Documentation System](fastapi/fastapi/3-api-documentation-system.md)\n- [OpenAPI Schema Generation](fastapi/fastapi/3.1-openapi-schema-generation.md)\n- [Customizing API Documentation UI](fastapi/fastapi/3.2-customizing-api-documentation-ui.md)\n- [Advanced Features](fastapi/fastapi/4-advanced-features.md)\n- [Asynchronous Support](fastapi/fastapi/4.1-asynchronous-support.md)\n- [Database Integration](fastapi/fastapi/4.2-database-integration.md)\n- [Background Tasks](fastapi/fastapi/4.3-background-tasks.md)\n- [Deployment and Production Considerations](fastapi/fastapi/4.4-deployment-and-production-considerations.md)\n- [Testing Infrastructure](fastapi/fastapi/5-testing-infrastructure.md)\n- [Test Framework and Tools](fastapi/fastapi/5.1-test-framework-and-tools.md)\n- [Code Quality and Pre-commit](fastapi/fastapi/5.2-code-quality-and-pre-commit.md)\n- [Project Infrastructure](fastapi/fastapi/6-project-infrastructure.md)\n- [Documentation System](fastapi/fastapi/6.1-documentation-system.md)\n- [CI/CD Pipeline](fastapi/fastapi/6.2-cicd-pipeline.md)\n- [Development Workflow](fastapi/fastapi/6.3-development-workflow.md)\n- [Community Ecosystem](fastapi/fastapi/7-community-ecosystem.md)\n- [Contributors and Experts Management](fastapi/fastapi/7.1-contributors-and-experts-management.md)\n- [Translation Management](fastapi/fastapi/7.2-translation-management.md)\n- [External Resources and Sponsorship](fastapi/fastapi/7.3-external-resources-and-sponsorship.md)\n- [Community Automation](fastapi/fastapi/7.4-community-automation.md)\n\nMenu\n\n# Database Integration\n\nRelevant source files",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 688,
      "character_count": 2615,
      "created_at": "2025-10-16T17:42:18.339915",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "fastapi_fastapi",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "collection_context": "FAST_DOCS/fastapi_fastapi"
    }
  },
  {
    "text": "- [docs/en/docs/tutorial/background-tasks.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/background-tasks.md)\n- [docs/en/docs/tutorial/extra-data-types.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/extra-data-types.md)\n- [docs/en/docs/tutorial/handling-errors.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/handling-errors.md)\n- [docs/en/docs/tutorial/security/first-steps.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/security/first-steps.md)\n- [docs/en/docs/tutorial/security/oauth2-jwt.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/security/oauth2-jwt.md)\n- [docs/en/docs/tutorial/security/simple-oauth2.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/security/simple-oauth2.md)\n- [docs/en/docs/tutorial/sql-databases.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md)\n- [docs/ja/docs/tutorial/security/oauth2-jwt.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/ja/docs/tutorial/security/oauth2-jwt.md)\n- [docs/pt/docs/tutorial/cookie-param-models.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/pt/docs/tutorial/cookie-param-models.md)\n- [docs/zh/docs/tutorial/sql-databases.md](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/zh/docs/tutorial/sql-databases.md)\n\nThis document covers FastAPI's database integration capabilities, focusing primarily on SQLModel as the recommended approach for SQL database integration. It includes session management, model patterns, CRUD operations, and security considerations for database-backed applications.\n\nFor background task integration with databases, see [Background Tasks](fastapi/fastapi/4.3-background-tasks.md). For general error handling patterns including database errors, see [Error Handling](fastapi/fastapi/2.7-error-handling.md).\n\n## Overview\n\nFastAPI provides flexible database integration through SQLModel, which combines SQLAlchemy's database capabilities with Pydantic's validation features. The integration supports both simple single-model approaches and sophisticated multi-model patterns for production applications.\n\n## Database Integration Architecture\n\n```\n```\n\n**Database Integration Flow in FastAPI**\n\nThis architecture shows how FastAPI integrates with databases through SQLModel, which serves as an abstraction layer over SQLAlchemy while providing Pydantic validation capabilities.\n\nSources: [docs/en/docs/tutorial/sql-databases.md1-358](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L1-L358)\n\n## SQLModel Foundation\n\nSQLModel serves as the primary database integration tool, combining SQLAlchemy's ORM capabilities with Pydantic's data validation. The framework distinguishes between table models and data models.\n\n### Model Types\n\n```\n```\n\n**SQLModel Model Hierarchy**\n\nTable models represent actual database tables with `table=True`, while data models handle API serialization and validation without direct database mapping.\n\nSources: [docs/en/docs/tutorial/sql-databases.md182-187](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L182-L187)\n\n## Engine and Session Management\n\n### Engine Configuration\n\nThe database engine manages connections to the database. FastAPI applications typically create a single engine instance shared across the application.\n\n```\n```\n\n**Engine and Session Creation Flow**\n\nThe engine configuration includes thread safety settings for SQLite and connection pooling for production databases.\n\nSources: [docs/en/docs/tutorial/sql-databases.md74-84](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L74-L84)\n\n### Session Dependency Pattern\n\nFastAPI uses dependency injection to provide database sessions to path operations:\n\n```\n```\n\n**Session Dependency Lifecycle**\n\nEach request receives its own session instance through the dependency injection system, ensuring proper transaction isolation.\n\nSources: [docs/en/docs/tutorial/sql-databases.md92-100](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L92-L100)\n\n## Model Patterns\n\n### Single Model Approach\n\nThe simplest pattern uses one model class for both database representation and API serialization:\n\n- Direct model usage in path operations\n- Simple CRUD operations\n- Minimal security separation",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 979,
      "character_count": 4450,
      "created_at": "2025-10-16T17:42:18.351734",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "fastapi_fastapi",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "collection_context": "FAST_DOCS/fastapi_fastapi"
    }
  },
  {
    "text": "Sources: [docs/en/docs/tutorial/sql-databases.md48-167](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L48-L167)\n\n### Multiple Model Approach\n\nProduction applications typically use separate models for different purposes:\n\n```\n```\n\n**Multi-Model Pattern Structure**\n\nThis pattern provides security by controlling which fields are exposed in different contexts while avoiding code duplication through inheritance.\n\nSources: [docs/en/docs/tutorial/sql-databases.md180-283](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L180-L283)\n\n## CRUD Operations\n\n### Create Operations\n\nCreate operations receive data models and convert them to table models:\n\n```\n```\n\n**Create Operation Flow**\n\nThe create flow demonstrates the conversion from input data model to table model and back to response data model.\n\nSources: [docs/en/docs/tutorial/sql-databases.md281-291](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L281-L291)\n\n### Read Operations\n\nRead operations use SQLModel's `select()` function with session execution:\n\n- List operations with pagination support\n- Single item retrieval by ID\n- Automatic conversion to response models\n\nSources: [docs/en/docs/tutorial/sql-databases.md130-140](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L130-L140) [docs/en/docs/tutorial/sql-databases.md303-316](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L303-L316)\n\n### Update Operations\n\nUpdate operations use partial data models with `exclude_unset=True`:\n\n```\n```\n\n**Update Operation Pattern**\n\nThe update pattern ensures only explicitly provided fields are modified, avoiding accidental overwrites of unspecified fields.\n\nSources: [docs/en/docs/tutorial/sql-databases.md315-326](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L315-L326)\n\n### Delete Operations\n\nDelete operations retrieve the entity, verify existence, and remove it from the session:\n\nSources: [docs/en/docs/tutorial/sql-databases.md325-334](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L325-L334)\n\n## Security Considerations\n\n### Field Exposure Control\n\nThe multiple model pattern provides security by controlling field visibility:\n\n- `secret_name` fields excluded from public responses\n- `id` fields prevented from client input during creation\n- Response models ensure consistent data contracts\n\nSources: [docs/en/docs/tutorial/sql-databases.md168-180](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L168-L180)\n\n### Database Initialization\n\nTable creation typically occurs during application startup rather than on-demand:\n\n```\n```\n\n**Database Initialization Patterns**\n\nDevelopment uses automatic table creation while production relies on migration scripts for controlled schema changes.\n\nSources: [docs/en/docs/tutorial/sql-databases.md102-116](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L102-L116)\n\n## Error Handling Integration\n\nDatabase operations integrate with FastAPI's error handling through `HTTPException`:\n\n- 404 errors for missing entities\n- Validation errors for invalid data\n- Database constraint violations\n\nFor comprehensive error handling patterns, see [Error Handling](fastapi/fastapi/2.7-error-handling.md).\n\nSources: [docs/en/docs/tutorial/handling-errors.md22-43](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/handling-errors.md#L22-L43)\n\n## Production Considerations\n\n### Database Selection\n\nSQLModel supports multiple database backends through SQLAlchemy:\n\n- SQLite for development and simple deployments\n- PostgreSQL for production applications\n- MySQL, Oracle, SQL Server for enterprise environments\n\nSources: [docs/en/docs/tutorial/sql-databases.md15-26](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L15-L26)\n\n### Migration Management\n\nProduction deployments require proper migration handling:\n\n- Alembic integration for schema changes\n- Version control for database schemas\n- Automated deployment pipelines\n\nSources: [docs/en/docs/tutorial/sql-databases.md110-116](https://github.com/fastapi/fastapi/blob/3e2dbf91/docs/en/docs/tutorial/sql-databases.md#L110-L116)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 987,
      "character_count": 4456,
      "created_at": "2025-10-16T17:42:18.366671",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "fastapi_fastapi",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "collection_context": "FAST_DOCS/fastapi_fastapi"
    }
  },
  {
    "text": "- [Database Integration](#database-integration.md)\n- [Overview](#overview.md)\n- [Database Integration Architecture](#database-integration-architecture.md)\n- [SQLModel Foundation](#sqlmodel-foundation.md)\n- [Model Types](#model-types.md)\n- [Engine and Session Management](#engine-and-session-management.md)\n- [Engine Configuration](#engine-configuration.md)\n- [Session Dependency Pattern](#session-dependency-pattern.md)\n- [Model Patterns](#model-patterns.md)\n- [Single Model Approach](#single-model-approach.md)\n- [Multiple Model Approach](#multiple-model-approach.md)\n- [CRUD Operations](#crud-operations.md)\n- [Create Operations](#create-operations.md)\n- [Read Operations](#read-operations.md)\n- [Update Operations](#update-operations.md)\n- [Delete Operations](#delete-operations.md)\n- [Security Considerations](#security-considerations.md)\n- [Field Exposure Control](#field-exposure-control.md)\n- [Database Initialization](#database-initialization.md)\n- [Error Handling Integration](#error-handling-integration.md)\n- [Production Considerations](#production-considerations.md)\n- [Database Selection](#database-selection.md)\n- [Migration Management](#migration-management.md)",
    "metadata": {
      "chunk_id": 3,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 273,
      "character_count": 1176,
      "created_at": "2025-10-16T17:42:18.366827",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "fastapi_fastapi",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 3,
      "file_relative_path": "FAST_DOCS\\fastapi_fastapi\\_fastapi_fastapi_4.2-database-integration.md",
      "collection_context": "FAST_DOCS/fastapi_fastapi"
    }
  }
]