[
  {
    "text": "Server Composition and Proxying | jlowin/fastmcp | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[jlowin/fastmcp](https://github.com/jlowin/fastmcp \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 30 September 2025 ([66221e](https://github.com/jlowin/fastmcp/commits/66221ed3))\n\n- [FastMCP Overview](jlowin/fastmcp/1-fastmcp-overview.md)\n- [Installation and Setup](jlowin/fastmcp/1.1-installation-and-setup.md)\n- [FastMCP Server Core](jlowin/fastmcp/2-fastmcp-server-core.md)\n- [Component System Architecture](jlowin/fastmcp/2.1-component-system-architecture.md)\n- [Context System and Dependencies](jlowin/fastmcp/2.2-context-system-and-dependencies.md)\n- [Server Composition and Proxying](jlowin/fastmcp/2.3-server-composition-and-proxying.md)\n- [FastMCP Client System](jlowin/fastmcp/3-fastmcp-client-system.md)\n- [Transport Mechanisms](jlowin/fastmcp/3.1-transport-mechanisms.md)\n- [Client Authentication](jlowin/fastmcp/3.2-client-authentication.md)\n- [HTTP Server and Deployment](jlowin/fastmcp/4-http-server-and-deployment.md)\n- [Authentication and Security](jlowin/fastmcp/4.1-authentication-and-security.md)\n- [Middleware System](jlowin/fastmcp/4.2-middleware-system.md)\n- [Command Line Interface](jlowin/fastmcp/5-command-line-interface.md)\n- [OpenAPI Integration](jlowin/fastmcp/6-openapi-integration.md)\n- [Configuration Management](jlowin/fastmcp/7-configuration-management.md)\n- [Testing and Development Framework](jlowin/fastmcp/8-testing-and-development-framework.md)\n- [Project Infrastructure](jlowin/fastmcp/9-project-infrastructure.md)\n- [Documentation and Updates](jlowin/fastmcp/10-documentation-and-updates.md)\n\nMenu\n\n# Server Composition and Proxying\n\nRelevant source files\n\n- [src/fastmcp/\\_\\_init\\_\\_.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/__init__.py)\n- [src/fastmcp/client/client.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/client.py)\n- [src/fastmcp/client/transports.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/client/transports.py)\n- [src/fastmcp/mcp\\_config.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/mcp_config.py)\n- [src/fastmcp/server/proxy.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/proxy.py)\n- [src/fastmcp/server/server.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py)\n- [src/fastmcp/settings.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/settings.py)\n- [src/fastmcp/utilities/mcp\\_config.py](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/utilities/mcp_config.py)\n- [tests/client/test\\_client.py](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/client/test_client.py)\n- [tests/client/test\\_stdio.py](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/client/test_stdio.py)\n- [tests/server/test\\_import\\_server.py](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_import_server.py)\n- [tests/server/test\\_mount.py](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_mount.py)\n- [tests/server/test\\_server.py](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_server.py)\n\nServer composition and proxying enables FastMCP servers to combine functionality from multiple other servers, either through live delegation (mounting) or static copying (importing). This system allows complex applications to be built by composing smaller, focused servers while maintaining clean separation of concerns.",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_2.3-server-composition-and-proxying.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 1022,
      "character_count": 3588,
      "created_at": "2025-10-16T17:42:18.866479",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "jlowin_fastmcp",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_2.3-server-composition-and-proxying.md",
      "collection_context": "FAST_DOCS/jlowin_fastmcp"
    }
  },
  {
    "text": "For information about the core FastMCP server architecture, see [2](jlowin/fastmcp/2-fastmcp-server-core.md). For details about component management and registration, see [2.1](jlowin/fastmcp/2.1-component-system-architecture.md).\n\n## Overview\n\nFastMCP provides three primary mechanisms for server composition:\n\n- **Mounting** - Live delegation to child servers with automatic prefix handling\n- **Importing** - Static copying of components from other servers\n- **Proxying** - Transparent forwarding to remote MCP-compliant servers\n\nAll composition methods support automatic prefixing of component names to avoid conflicts and provide clear namespacing.\n\n## Mount System Architecture\n\nThe mount system enables live delegation to child FastMCP servers. When a component is requested, the parent server forwards the request to the appropriate mounted server in real-time.\n\n### Mount System Core Components\n\n```\n```\n\n**Sources:** [src/fastmcp/server/server.py175](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L175-L175) [src/fastmcp/server/server.py1260-1332](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L1260-L1332)\n\n### Mount Method Implementation\n\nThe `mount` method in `FastMCP` registers child servers for live delegation:\n\n```\n```\n\n**Sources:** [src/fastmcp/server/server.py1260-1332](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L1260-L1332) [tests/server/test\\_mount.py16-68](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_mount.py#L16-L68)\n\n## Import System Architecture\n\nThe import system performs static copying of components from other servers. Components are copied once at import time and become part of the importing server.\n\n### Import vs Mount Comparison\n\n```\n```\n\n**Sources:** [src/fastmcp/server/server.py1334-1421](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L1334-L1421) [tests/server/test\\_import\\_server.py10-34](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_import_server.py#L10-L34)\n\n### Import Method Implementation\n\nThe `import_server` method copies components with prefix handling:\n\n```\n```\n\n**Sources:** [src/fastmcp/server/server.py1334-1421](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L1334-L1421) [tests/server/test\\_import\\_server.py61-89](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_import_server.py#L61-L89)\n\n## Proxy System Architecture\n\nThe proxy system enables FastMCP servers to act as transparent proxies to remote MCP-compliant servers. This is implemented through specialized managers and components.\n\n### Proxy System Core Components\n\n```\n```\n\n**Sources:** [src/fastmcp/server/proxy.py454-519](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/proxy.py#L454-L519) [src/fastmcp/server/proxy.py69-121](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/proxy.py#L69-L121)\n\n### FastMCPProxy Creation Methods\n\nFastMCP provides two ways to create proxy servers:\n\n```\n```\n\n**Sources:** [src/fastmcp/server/server.py1555-1610](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L1555-L1610) [src/fastmcp/server/proxy.py460-508](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/proxy.py#L460-L508)\n\n## Prefix Handling System\n\nAll composition methods support automatic prefixing to avoid component name conflicts. The prefix handling varies by component type.\n\n### Prefix Application Rules\n\n```\n```\n\n**Sources:** [src/fastmcp/server/server.py1423-1553](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L1423-L1553) [src/fastmcp/server/server.py2157-2205](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L2157-L2205)\n\n### Resource Prefix Utilities\n\nFastMCP provides utility functions for resource prefix manipulation:",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_2.3-server-composition-and-proxying.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 1020,
      "character_count": 3905,
      "created_at": "2025-10-16T17:42:18.876926",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "jlowin_fastmcp",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_2.3-server-composition-and-proxying.md",
      "collection_context": "FAST_DOCS/jlowin_fastmcp"
    }
  },
  {
    "text": "| Function                   | Purpose                    | Example                               |\n| -------------------------- | -------------------------- | ------------------------------------- |\n| `add_resource_prefix()`    | Add prefix to resource URI | `data://users` → `data://api/users`   |\n| `remove_resource_prefix()` | Remove prefix from URI     | `data://api/users` → `data://users`   |\n| `has_resource_prefix()`    | Check if URI has prefix    | Returns `True` for `data://api/users` |\n\n**Sources:** [src/fastmcp/server/server.py2157-2205](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L2157-L2205) [tests/server/test\\_server.py22-26](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_server.py#L22-L26)\n\n## Component Request Flow\n\nThe following diagram shows how requests flow through the composition system:\n\n```\n```\n\n**Sources:** [src/fastmcp/server/server.py729-752](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/server.py#L729-L752) [src/fastmcp/server/proxy.py107-121](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/proxy.py#L107-L121) [src/fastmcp/server/proxy.py280-296](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/proxy.py#L280-L296)\n\n## Advanced Composition Patterns\n\n### Multi-Level Composition\n\nServers can be composed in multiple levels, with prefixes accumulating:\n\n```\n```\n\n**Sources:** [tests/server/test\\_import\\_server.py249-283](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_import_server.py#L249-L283) [tests/server/test\\_mount.py466-509](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_mount.py#L466-L509)\n\n### Mixed Composition Strategies\n\nA single parent server can use multiple composition strategies simultaneously:\n\n```\n```\n\n**Sources:** [tests/server/test\\_mount.py210-238](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_mount.py#L210-L238) [tests/server/test\\_import\\_server.py36-58](https://github.com/jlowin/fastmcp/blob/66221ed3/tests/server/test_import_server.py#L36-L58) [src/fastmcp/server/proxy.py454-519](https://github.com/jlowin/fastmcp/blob/66221ed3/src/fastmcp/server/proxy.py#L454-L519)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [Server Composition and Proxying](#server-composition-and-proxying.md)\n- [Overview](#overview.md)\n- [Mount System Architecture](#mount-system-architecture.md)\n- [Mount System Core Components](#mount-system-core-components.md)\n- [Mount Method Implementation](#mount-method-implementation.md)\n- [Import System Architecture](#import-system-architecture.md)\n- [Import vs Mount Comparison](#import-vs-mount-comparison.md)\n- [Import Method Implementation](#import-method-implementation.md)\n- [Proxy System Architecture](#proxy-system-architecture.md)\n- [Proxy System Core Components](#proxy-system-core-components.md)\n- [FastMCPProxy Creation Methods](#fastmcpproxy-creation-methods.md)\n- [Prefix Handling System](#prefix-handling-system.md)\n- [Prefix Application Rules](#prefix-application-rules.md)\n- [Resource Prefix Utilities](#resource-prefix-utilities.md)\n- [Component Request Flow](#component-request-flow.md)\n- [Advanced Composition Patterns](#advanced-composition-patterns.md)\n- [Multi-Level Composition](#multi-level-composition.md)\n- [Mixed Composition Strategies](#mixed-composition-strategies.md)",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_2.3-server-composition-and-proxying.md",
      "input_type": "fast_docs",
      "chunking_strategy": "api_documentation",
      "token_count": 854,
      "character_count": 3386,
      "created_at": "2025-10-16T17:42:18.881814",
      "parent_context": null,
      "semantic_type": "fast_docs",
      "collection_name": "FAST_DOCS",
      "subfolder_name": "jlowin_fastmcp",
      "collection_strategy": "api_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "FAST_DOCS\\jlowin_fastmcp\\_jlowin_fastmcp_2.3-server-composition-and-proxying.md",
      "collection_context": "FAST_DOCS/jlowin_fastmcp"
    }
  }
]