[
  {
    "text": "Plugin System | pydantic/pydantic | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[pydantic/pydantic](https://github.com/pydantic/pydantic \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 11 October 2025 ([76ef0b](https://github.com/pydantic/pydantic/commits/76ef0b08))\n\n- [Overview](pydantic/pydantic/1-overview.md)\n- [Core Model System](pydantic/pydantic/2-core-model-system.md)\n- [BaseModel](pydantic/pydantic/2.1-basemodel.md)\n- [Field System](pydantic/pydantic/2.2-field-system.md)\n- [Model Configuration](pydantic/pydantic/2.3-model-configuration.md)\n- [Type System](pydantic/pydantic/3-type-system.md)\n- [Constrained Types](pydantic/pydantic/3.1-constrained-types.md)\n- [Network Types](pydantic/pydantic/3.2-network-types.md)\n- [TypeAdapter](pydantic/pydantic/3.3-typeadapter.md)\n- [Generics and Forward References](pydantic/pydantic/3.4-generics-and-forward-references.md)\n- [Validation and Serialization](pydantic/pydantic/4-validation-and-serialization.md)\n- [Validators](pydantic/pydantic/4.1-validators.md)\n- [Serializers](pydantic/pydantic/4.2-serializers.md)\n- [JSON Conversion](pydantic/pydantic/4.3-json-conversion.md)\n- [Schema Generation](pydantic/pydantic/5-schema-generation.md)\n- [Core Schema Generation](pydantic/pydantic/5.1-core-schema-generation.md)\n- [JSON Schema Generation](pydantic/pydantic/5.2-json-schema-generation.md)\n- [Advanced Features](pydantic/pydantic/6-advanced-features.md)\n- [Dataclass Support](pydantic/pydantic/6.1-dataclass-support.md)\n- [Function Validation](pydantic/pydantic/6.2-function-validation.md)\n- [RootModel and Computed Fields](pydantic/pydantic/6.3-rootmodel-and-computed-fields.md)\n- [Plugin System](pydantic/pydantic/6.4-plugin-system.md)\n- [Development and Deployment](pydantic/pydantic/7-development-and-deployment.md)\n- [Testing Framework](pydantic/pydantic/7.1-testing-framework.md)\n- [CI/CD Pipeline](pydantic/pydantic/7.2-cicd-pipeline.md)\n- [Documentation System](pydantic/pydantic/7.3-documentation-system.md)\n- [Versioning and Dependencies](pydantic/pydantic/7.4-versioning-and-dependencies.md)\n- [Migration and Compatibility](pydantic/pydantic/8-migration-and-compatibility.md)\n- [V1 to V2 Migration](pydantic/pydantic/8.1-v1-to-v2-migration.md)\n- [Backported Modules](pydantic/pydantic/8.2-backported-modules.md)\n\nMenu\n\n# Plugin System\n\nRelevant source files",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 745,
      "character_count": 2450,
      "created_at": "2025-10-16T17:42:20.645041",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "- [pydantic/\\_internal/\\_validate\\_call.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/_internal/_validate_call.py)\n- [pydantic/functional\\_serializers.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/functional_serializers.py)\n- [pydantic/functional\\_validators.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/functional_validators.py)\n- [pydantic/plugin/\\_\\_init\\_\\_.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/__init__.py)\n- [pydantic/plugin/\\_schema\\_validator.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py)\n- [pydantic/root\\_model.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/root_model.py)\n- [pydantic/type\\_adapter.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/type_adapter.py)\n- [pydantic/validate\\_call\\_decorator.py](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/validate_call_decorator.py)\n- [tests/test\\_plugins.py](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py)\n- [tests/test\\_type\\_adapter.py](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_type_adapter.py)\n- [tests/test\\_validate\\_call.py](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_validate_call.py)\n\nThis document describes Pydantic's plugin system, which allows external code to hook into the validation lifecycle through event handlers. Plugins can observe validation inputs, outputs, errors, and exceptions for all validation methods (`validate_python`, `validate_json`, `validate_strings`).\n\nFor information about custom validators and serializers at the field or model level, see [Validators](pydantic/pydantic/4.1-validators.md) and [Serializers](pydantic/pydantic/4.2-serializers.md). For type-level customization hooks, see [Core Schema Generation](pydantic/pydantic/5.1-core-schema-generation.md).\n\n## Overview\n\nThe plugin system provides a way to instrument Pydantic's validation process without modifying models or types. Plugins implement the `PydanticPluginProtocol` and receive callbacks at key points during validation:\n\n- **on\\_enter**: Before validation begins\n- **on\\_success**: After successful validation\n- **on\\_error**: When validation fails\n- **on\\_exception**: When an unexpected exception occurs\n\nPlugins are invoked automatically whenever a `SchemaValidator` is created for BaseModels, TypeAdapters, dataclasses, `validate_call`, or `create_model`.\n\n**Sources:** [pydantic/plugin/\\_\\_init\\_\\_.py1-194](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/__init__.py#L1-L194)\n\n## Plugin Protocol\n\n### PydanticPluginProtocol\n\n```\n```\n\nPlugins must implement a single method that returns event handlers for each of the three validation modes:\n\n| Parameter          | Type                 | Description                                                                                |\n| ------------------ | -------------------- | ------------------------------------------------------------------------------------------ |\n| `schema`           | `CoreSchema`         | The pydantic-core schema for validation                                                    |\n| `schema_type`      | `Any`                | The original Python type (e.g., model class)                                               |\n| `schema_type_path` | `SchemaTypePath`     | Module and name where the type was defined                                                 |\n| `schema_kind`      | `SchemaKind`         | One of: `'BaseModel'`, `'TypeAdapter'`, `'dataclass'`, `'create_model'`, `'validate_call'` |\n| `config`           | `CoreConfig \\| None` | Core configuration for the validator                                                       |\n| `plugin_settings`  | `dict[str, object]`  | Settings passed via `plugin_settings` in model config                                      |\n\n**Sources:** [pydantic/plugin/\\_\\_init\\_\\_.py40-73](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/__init__.py#L40-L73)\n\n### SchemaTypePath and SchemaKind\n\n```\n```\n\nThe `SchemaTypePath` identifies where a schema was created, useful for filtering which schemas a plugin should observe. The `SchemaKind` indicates what API created the schema.",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 1011,
      "character_count": 4256,
      "created_at": "2025-10-16T17:42:20.650524",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "**Sources:** [pydantic/plugin/\\_\\_init\\_\\_.py30-37](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/__init__.py#L30-L37)\n\n## Event Handler Protocols\n\n### Handler Lifecycle\n\n```\n```\n\nEach handler protocol defines four callback methods. All methods have default no-op implementations, so plugins only need to implement the callbacks they care about.\n\n**Sources:** [pydantic/plugin/\\_schema\\_validator.py96-126](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L96-L126)\n\n### ValidatePythonHandlerProtocol\n\nHandles events for `validate_python()` calls:\n\n```\n```\n\nThe `self_instance` parameter is populated when validation occurs during model `__init__`, allowing plugins to observe the model instance being initialized.\n\n**Sources:** [pydantic/plugin/\\_\\_init\\_\\_.py110-138](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/__init__.py#L110-L138)\n\n### ValidateJsonHandlerProtocol\n\nHandles events for `validate_json()` calls with JSON string/bytes input:\n\n```\n```\n\n**Sources:** [pydantic/plugin/\\_\\_init\\_\\_.py140-166](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/__init__.py#L140-L166)\n\n### ValidateStringsHandlerProtocol\n\nHandles events for `validate_strings()` calls:\n\n```\n```\n\n**Sources:** [pydantic/plugin/\\_\\_init\\_\\_.py171-193](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/__init__.py#L171-L193)\n\n## PluggableSchemaValidator\n\n### Architecture\n\n```\n```\n\nThe `PluggableSchemaValidator` wraps a standard `SchemaValidator` and intercepts its validation methods. When plugins are registered, `create_schema_validator()` returns a `PluggableSchemaValidator` instead of a plain `SchemaValidator`.\n\n**Sources:** [pydantic/plugin/\\_schema\\_validator.py22-52](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L22-L52) [pydantic/plugin/\\_schema\\_validator.py54-94](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L54-L94)\n\n### Wrapper Construction\n\nThe `build_wrapper()` function creates wrapper methods that invoke event handlers:\n\n| Step                 | Action                                                                   |\n| -------------------- | ------------------------------------------------------------------------ |\n| 1. Filter handlers   | Only include handlers with custom (non-protocol) implementations         |\n| 2. Extract callbacks | Collect all `on_enter`, `on_success`, `on_error`, `on_exception` methods |\n| 3. Wrap function     | Create wrapper that calls handlers at appropriate points                 |\n\n```\n```\n\nThe `filter_handlers()` function checks if a method is implemented by the plugin (not inherited from the protocol) by checking if `handler.__module__ == 'pydantic.plugin'`.\n\n**Sources:** [pydantic/plugin/\\_schema\\_validator.py96-141](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L96-L141)\n\n## Plugin Registration\n\n### Integration Points\n\n```\n```\n\nAll schema validation entry points use `create_schema_validator()` to construct validators:\n\n| Entry Point            | Schema Kind       | Location                                   |\n| ---------------------- | ----------------- | ------------------------------------------ |\n| BaseModel              | `'BaseModel'`     | Model metaclass during class creation      |\n| TypeAdapter            | `'TypeAdapter'`   | `TypeAdapter._init_core_attrs()`           |\n| @dataclasses.dataclass | `'dataclass'`     | Dataclass wrapper initialization           |\n| @validate\\_call        | `'validate_call'` | `ValidateCallWrapper._create_validators()` |\n| create\\_model()        | `'create_model'`  | Dynamic model creation                     |\n\n**Sources:** [pydantic/type\\_adapter.py321-330](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/type_adapter.py#L321-L330) [pydantic/\\_internal/\\_validate\\_call.py91-104](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/_internal/_validate_call.py#L91-L104)\n\n### Plugin Settings\n\nModels can pass settings to plugins via the `plugin_settings` configuration:\n\n```\n```",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 998,
      "character_count": 4150,
      "created_at": "2025-10-16T17:42:20.659312",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "These settings are passed to `PydanticPluginProtocol.new_schema_validator()` as the `plugin_settings` parameter, allowing plugins to customize behavior per schema.\n\n**Sources:** [tests/test\\_plugins.py68-76](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py#L68-L76)\n\n## Usage Examples\n\n### Basic Logging Plugin\n\n```\n```\n\n**Sources:** [tests/test\\_plugins.py126-165](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py#L126-L165)\n\n### Stateful Plugin with Cleanup\n\nPlugins can maintain state across validation calls:\n\n```\n```\n\nAll three lifecycle methods (`on_success`, `on_error`, `on_exception`) are called to ensure proper cleanup regardless of validation outcome.\n\n**Sources:** [tests/test\\_plugins.py217-272](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py#L217-L272)\n\n### Multi-Method Plugin\n\nPlugins can handle all three validation methods:\n\n```\n```\n\nEach handler receives method-specific parameters in `on_enter()`. For example, `ValidateJsonHandlerProtocol.on_enter()` receives `input: str | bytes | bytearray` while `ValidatePythonHandlerProtocol.on_enter()` receives `input: Any`.\n\n**Sources:** [tests/test\\_plugins.py274-336](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py#L274-L336)\n\n### Filtering by Schema Kind\n\nPlugins can choose which schemas to observe based on `schema_kind`:\n\n```\n```\n\n**Sources:** [tests/test\\_plugins.py338-355](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py#L338-L355)\n\n### Filtering by Module Path\n\nPlugins can filter based on where types are defined:\n\n```\n```\n\n**Sources:** [tests/test\\_plugins.py357-408](https://github.com/pydantic/pydantic/blob/76ef0b08/tests/test_plugins.py#L357-L408)\n\n## Implementation Details\n\n### Handler Method Filtering\n\nThe `filter_handlers()` function prevents calling protocol default methods:\n\n```\n```\n\nThis allows plugins to only implement the callbacks they need without performance overhead from no-op protocol defaults.\n\n**Sources:** [pydantic/plugin/\\_schema\\_validator.py128-141](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L128-L141)\n\n### Attribute Proxying\n\n`PluggableSchemaValidator` proxies all other attributes to the wrapped `SchemaValidator`:\n\n```\n```\n\nThis ensures that `PluggableSchemaValidator` behaves identically to `SchemaValidator` for attributes like `title`, `get_default_value()`, etc.\n\n**Sources:** [pydantic/plugin/\\_schema\\_validator.py92-93](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L92-L93)\n\n### Performance Considerations\n\nWhen no plugins are installed, `create_schema_validator()` returns a plain `SchemaValidator` with zero overhead. The plugin system only activates when plugins are registered via the plugin loader.\n\n**Sources:** [pydantic/plugin/\\_schema\\_validator.py22-51](https://github.com/pydantic/pydantic/blob/76ef0b08/pydantic/plugin/_schema_validator.py#L22-L51)\n\nDismiss\n\nRefresh this wiki\n\nThis wiki was recently refreshed. Please wait 4 days to refresh again.\n\n### On this page",
    "metadata": {
      "chunk_id": 3,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 757,
      "character_count": 3107,
      "created_at": "2025-10-16T17:42:20.667253",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 3,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "- [Plugin System](#plugin-system.md)\n- [Overview](#overview.md)\n- [Plugin Protocol](#plugin-protocol.md)\n- [PydanticPluginProtocol](#pydanticpluginprotocol.md)\n- [SchemaTypePath and SchemaKind](#schematypepath-and-schemakind.md)\n- [Event Handler Protocols](#event-handler-protocols.md)\n- [Handler Lifecycle](#handler-lifecycle.md)\n- [ValidatePythonHandlerProtocol](#validatepythonhandlerprotocol.md)\n- [ValidateJsonHandlerProtocol](#validatejsonhandlerprotocol.md)\n- [ValidateStringsHandlerProtocol](#validatestringshandlerprotocol.md)\n- [PluggableSchemaValidator](#pluggableschemavalidator.md)\n- [Architecture](#architecture.md)\n- [Wrapper Construction](#wrapper-construction.md)\n- [Plugin Registration](#plugin-registration.md)\n- [Integration Points](#integration-points.md)\n- [Plugin Settings](#plugin-settings.md)\n- [Usage Examples](#usage-examples.md)\n- [Basic Logging Plugin](#basic-logging-plugin.md)\n- [Stateful Plugin with Cleanup](#stateful-plugin-with-cleanup.md)\n- [Multi-Method Plugin](#multi-method-plugin.md)\n- [Filtering by Schema Kind](#filtering-by-schema-kind.md)\n- [Filtering by Module Path](#filtering-by-module-path.md)\n- [Implementation Details](#implementation-details.md)\n- [Handler Method Filtering](#handler-method-filtering.md)\n- [Attribute Proxying](#attribute-proxying.md)\n- [Performance Considerations](#performance-considerations.md)",
    "metadata": {
      "chunk_id": 4,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 334,
      "character_count": 1365,
      "created_at": "2025-10-16T17:42:20.667412",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 4,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_6.4-plugin-system.md",
      "collection_context": "pydantic_pydantic"
    }
  }
]