[
  {
    "text": "V1 to V2 Migration | pydantic/pydantic | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[pydantic/pydantic](https://github.com/pydantic/pydantic \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 11 October 2025 ([76ef0b](https://github.com/pydantic/pydantic/commits/76ef0b08))\n\n- [Overview](pydantic/pydantic/1-overview.md)\n- [Core Model System](pydantic/pydantic/2-core-model-system.md)\n- [BaseModel](pydantic/pydantic/2.1-basemodel.md)\n- [Field System](pydantic/pydantic/2.2-field-system.md)\n- [Model Configuration](pydantic/pydantic/2.3-model-configuration.md)\n- [Type System](pydantic/pydantic/3-type-system.md)\n- [Constrained Types](pydantic/pydantic/3.1-constrained-types.md)\n- [Network Types](pydantic/pydantic/3.2-network-types.md)\n- [TypeAdapter](pydantic/pydantic/3.3-typeadapter.md)\n- [Generics and Forward References](pydantic/pydantic/3.4-generics-and-forward-references.md)\n- [Validation and Serialization](pydantic/pydantic/4-validation-and-serialization.md)\n- [Validators](pydantic/pydantic/4.1-validators.md)\n- [Serializers](pydantic/pydantic/4.2-serializers.md)\n- [JSON Conversion](pydantic/pydantic/4.3-json-conversion.md)\n- [Schema Generation](pydantic/pydantic/5-schema-generation.md)\n- [Core Schema Generation](pydantic/pydantic/5.1-core-schema-generation.md)\n- [JSON Schema Generation](pydantic/pydantic/5.2-json-schema-generation.md)\n- [Advanced Features](pydantic/pydantic/6-advanced-features.md)\n- [Dataclass Support](pydantic/pydantic/6.1-dataclass-support.md)\n- [Function Validation](pydantic/pydantic/6.2-function-validation.md)\n- [RootModel and Computed Fields](pydantic/pydantic/6.3-rootmodel-and-computed-fields.md)\n- [Plugin System](pydantic/pydantic/6.4-plugin-system.md)\n- [Development and Deployment](pydantic/pydantic/7-development-and-deployment.md)\n- [Testing Framework](pydantic/pydantic/7.1-testing-framework.md)\n- [CI/CD Pipeline](pydantic/pydantic/7.2-cicd-pipeline.md)\n- [Documentation System](pydantic/pydantic/7.3-documentation-system.md)\n- [Versioning and Dependencies](pydantic/pydantic/7.4-versioning-and-dependencies.md)\n- [Migration and Compatibility](pydantic/pydantic/8-migration-and-compatibility.md)\n- [V1 to V2 Migration](pydantic/pydantic/8.1-v1-to-v2-migration.md)\n- [Backported Modules](pydantic/pydantic/8.2-backported-modules.md)\n\nMenu\n\n# V1 to V2 Migration\n\nRelevant source files",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 753,
      "character_count": 2460,
      "created_at": "2025-10-16T17:42:20.925768",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "- [.pre-commit-config.yaml](https://github.com/pydantic/pydantic/blob/76ef0b08/.pre-commit-config.yaml)\n- [docs/concepts/config.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/config.md)\n- [docs/concepts/dataclasses.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/dataclasses.md)\n- [docs/concepts/json.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/json.md)\n- [docs/concepts/json\\_schema.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/json_schema.md)\n- [docs/concepts/models.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/models.md)\n- [docs/concepts/performance.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/performance.md)\n- [docs/concepts/serialization.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/serialization.md)\n- [docs/concepts/validators.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/validators.md)\n- [docs/contributing.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/contributing.md)\n- [docs/examples/custom\\_validators.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/examples/custom_validators.md)\n- [docs/integrations/aws\\_lambda.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/integrations/aws_lambda.md)\n- [docs/integrations/llms.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/integrations/llms.md)\n- [docs/migration.md](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md)\n- [release/README.md](https://github.com/pydantic/pydantic/blob/76ef0b08/release/README.md)\n\nThis document provides a comprehensive guide for migrating Pydantic code from V1 to V2. It covers breaking changes, API modifications, and migration strategies. For specific documentation on V2 features like validators, serializers, or model configuration, see the respective pages in sections 2-4 of this wiki.\n\n## Overview and Installation\n\n### Installing Pydantic V2\n\nPydantic V2 is the current production release and can be installed from PyPI:\n\n```\n```\n\nFor users who need to continue using V1 features, the V1 API is accessible through the `pydantic.v1` namespace when using Pydantic V2. Alternatively, Pydantic V1 can be installed directly with `pip install \"pydantic==1.*\"`.\n\nSources: [docs/migration.md10-76](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L10-L76)\n\n### Migration Tool: bump-pydantic\n\nThe `bump-pydantic` tool automates much of the migration process:\n\n```\n```\n\nThis tool handles common migration patterns including method renames, config updates, and validator syntax changes. Use the `--dry-run` flag to preview changes without modifying files.\n\nSources: [docs/migration.md25-47](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L25-L47)\n\n```\n```\n\n**Migration Workflow with bump-pydantic Tool**\n\nSources: [docs/migration.md25-47](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L25-L47)\n\n## BaseModel API Changes\n\n### Method Name Changes\n\nPydantic V2 standardizes method naming with `model_*` and `__*pydantic*__` patterns. Deprecated V1 method names remain available but emit deprecation warnings.",
    "metadata": {
      "chunk_id": 1,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 880,
      "character_count": 3211,
      "created_at": "2025-10-16T17:42:20.931370",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 1,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "| Pydantic V1              | Pydantic V2              | Purpose                                            |\n| ------------------------ | ------------------------ | -------------------------------------------------- |\n| `__fields__`             | `model_fields`           | Field definitions                                  |\n| `__private_attributes__` | `__pydantic_private__`   | Private attributes                                 |\n| `__validators__`         | `__pydantic_validator__` | Validator functions                                |\n| `construct()`            | `model_construct()`      | Create without validation                          |\n| `copy()`                 | `model_copy()`           | Copy model instance                                |\n| `dict()`                 | `model_dump()`           | Serialize to dictionary                            |\n| `json_schema()`          | `model_json_schema()`    | Generate JSON schema                               |\n| `json()`                 | `model_dump_json()`      | Serialize to JSON string                           |\n| `parse_obj()`            | `model_validate()`       | Validate Python object                             |\n| `parse_raw()`            | Deprecated               | Use `model_validate_json()`                        |\n| `parse_file()`           | Deprecated               | Load data then validate                            |\n| `from_orm()`             | Deprecated               | Use `model_validate()` with `from_attributes=True` |\n| `update_forward_refs()`  | `model_rebuild()`        | Rebuild schema                                     |\n\nSources: [docs/migration.md129-149](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L129-L149)\n\n### Equality Behavior Changes\n\nIn V2, model equality checking has stricter rules:\n\n- Models can only equal other `BaseModel` instances\n- Both instances must have the same type (or non-parametrized generic origin)\n- Field values, extra values, and private attribute values must all match\n- Models are no longer equal to dictionaries containing their data\n\nSources: [docs/migration.md152-162](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L152-L162)\n\n### RootModel Replaces `__root__`\n\nThe `__root__` field pattern for custom root models has been replaced with the `RootModel` class:\n\n```\n```\n\n`RootModel` types do not support `arbitrary_types_allowed` configuration.\n\nSources: [docs/migration.md163-166](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L163-L166) [docs/concepts/models.md1-100](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/models.md#L1-L100)\n\n```\n```\n\n**BaseModel Method Migration Mapping**\n\nSources: [docs/migration.md135-146](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L135-L146)\n\n## Field and Configuration Changes\n\n### Field Function Updates\n\nSeveral `Field()` parameters have been removed or renamed:\n\n| V1 Parameter     | V2 Replacement     | Notes                                |\n| ---------------- | ------------------ | ------------------------------------ |\n| `const`          | Removed            | Use `Literal` type instead           |\n| `min_items`      | `min_length`       | Renamed for consistency              |\n| `max_items`      | `max_length`       | Renamed for consistency              |\n| `unique_items`   | Removed            |                                      |\n| `allow_mutation` | `frozen`           | Inverse logic                        |\n| `regex`          | `pattern`          | Renamed                              |\n| `final`          | Use `typing.Final` | Type hint instead of field parameter |\n\nField constraints no longer automatically propagate to generic type parameters. Use `Annotated` for item-level validation:\n\n```\n```\n\nThe `alias` property now returns `None` when no alias is set (V1 returned the field name).\n\nSources: [docs/migration.md275-294](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L275-L294)\n\n### Model Configuration Migration\n\nV2 introduces `model_config` with `ConfigDict` replacing the V1 `Config` class:\n\n```\n```\n\nConfiguration can also be specified as class arguments for better type checking:\n\n```\n```\n\nSources: [docs/migration.md319-329](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L319-L329) [docs/concepts/config.md9-50](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/config.md#L9-L50)\n\n### Configuration Options Removed/Renamed\n\n**Removed Options:**",
    "metadata": {
      "chunk_id": 2,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 985,
      "character_count": 4546,
      "created_at": "2025-10-16T17:42:20.943452",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 2,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "- `allow_mutation` → use `frozen` (inverse logic)\n- `error_msg_templates`\n- `fields` → use `Annotated` for field modifications\n- `getter_dict` → removed with `orm_mode`\n- `smart_union` → default behavior in V2\n- `underscore_attrs_are_private` → always `True` in V2\n- `json_loads`, `json_dumps`\n- `copy_on_model_validation`\n- `post_init_call`\n\n**Renamed Options:**\n\n| V1 Name                          | V2 Name                                           |\n| -------------------------------- | ------------------------------------------------- |\n| `allow_population_by_field_name` | `populate_by_name` or `validate_by_name` (v2.11+) |\n| `anystr_lower`                   | `str_to_lower`                                    |\n| `anystr_strip_whitespace`        | `str_strip_whitespace`                            |\n| `anystr_upper`                   | `str_to_upper`                                    |\n| `keep_untouched`                 | `ignored_types`                                   |\n| `max_anystr_length`              | `str_max_length`                                  |\n| `min_anystr_length`              | `str_min_length`                                  |\n| `orm_mode`                       | `from_attributes`                                 |\n| `schema_extra`                   | `json_schema_extra`                               |\n| `validate_all`                   | `validate_default`                                |\n\nSources: [docs/migration.md330-356](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L330-L356)\n\n```\n```\n\n**Configuration Migration Pattern**\n\nSources: [docs/migration.md319-356](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L319-L356)\n\n## Validator and Serializer Changes\n\n### Decorator Migration\n\nV2 introduces new validator and serializer decorators with enhanced functionality:\n\n**Validator Migration:**\n\n| V1                | V2                 | Key Changes                                         |\n| ----------------- | ------------------ | --------------------------------------------------- |\n| `@validator`      | `@field_validator` | No `each_item` parameter; use `Annotated` for items |\n| `@root_validator` | `@model_validator` | May receive model instance instead of dict          |\n\nThe `@field_validator` decorator requires explicit mode specification and uses different argument patterns:\n\n```\n```\n\nSources: [docs/migration.md360-434](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L360-L434) [docs/concepts/validators.md29-463](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/validators.md#L29-L463)\n\n### Validator Argument Changes\n\nV2 validators no longer accept `field` and `config` keyword arguments. Use `ValidationInfo` instead:\n\n- `config` → `info.config` (now a dict, not a class)\n- `field` → `cls.model_fields[info.field_name]` (no longer `ModelField` object)\n\nThe `allow_reuse` keyword argument is no longer needed due to improved reuse detection.\n\nSources: [docs/migration.md404-488](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L404-L488)\n\n### TypeError Handling\n\nIn V1, `TypeError` raised in validators was converted to `ValidationError`. In V2, `TypeError` is raised directly:\n\n```\n```\n\nSources: [docs/migration.md436-464](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L436-L464)\n\n### Serializer Introduction\n\nV2 adds `@field_serializer` and `@model_serializer` decorators for custom serialization, replacing the deprecated `json_encoders` config option:\n\n```\n```\n\nSources: [docs/migration.md167-175](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L167-L175) [docs/concepts/serialization.md218-420](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/serialization.md#L218-L420)\n\n```\n```\n\n**Validator Decorator Migration**\n\nSources: [docs/migration.md360-434](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L360-L434) [docs/concepts/validators.md29-463](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/validators.md#L29-L463)\n\n## Dataclass Changes\n\n### Initialization and Validation\n\nIn V2, the `__post_init__` method is called *after* validation rather than before. The `__post_init_post_parse__` method has been removed as it's now redundant.",
    "metadata": {
      "chunk_id": 3,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 1022,
      "character_count": 4312,
      "created_at": "2025-10-16T17:42:20.957296",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 3,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "Pydantic dataclasses no longer support `extra='allow'` with attribute storage. Only `extra='ignore'` is supported for ignoring unexpected fields.\n\nSources: [docs/migration.md295-307](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L295-L307)\n\n### Schema Access Changes\n\nPydantic dataclasses no longer have a `__pydantic_model__` attribute. To access validation and schema functionality, wrap the dataclass with `TypeAdapter`:\n\n```\n```\n\nSources: [docs/migration.md307-317](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L307-L317) [docs/concepts/dataclasses.md1-80](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/dataclasses.md#L1-L80)\n\n### Configuration Inheritance\n\nIn V1, vanilla dataclasses used as fields would inherit the parent type's config. In V2, this no longer occurs. Use the `config` parameter on the `@dataclass` decorator to override configuration:\n\n```\n```\n\nSources: [docs/migration.md313-318](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L313-L318) [docs/concepts/dataclasses.md85-118](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/dataclasses.md#L85-L118)\n\n## Type System Changes\n\n### GenericModel Removal\n\n`pydantic.generics.GenericModel` has been removed. Create generic models by inheriting directly from `BaseModel` and `Generic`:\n\n```\n```\n\nAvoid using parametrized generics in `isinstance()` checks. For such checks, create concrete subclasses:\n\n```\n```\n\nSources: [docs/migration.md255-273](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L255-L273)\n\n### Input Type Preservation\n\nV1 attempted to preserve input types for generic collections (e.g., `Counter` → `Counter`). V2 only guarantees output types match annotations, typically converting to standard types:\n\n```\n```\n\nTo preserve input types, use a custom validator with `WrapValidator`:\n\n```\n```\n\nV2 preserves types for `BaseModel` subclasses and dataclasses.\n\nSources: [docs/migration.md498-611](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L498-L611)\n\n### Union Type Behavior\n\nV2 preserves input types when they match a union member, even if another type would also validate:\n\n```\n```\n\nTo revert to V1's left-to-right behavior, use `Field(union_mode='left_to_right')`.\n\nSources: [docs/migration.md620-644](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L620-L644)\n\n### Required vs Optional Fields\n\nV2 aligns with dataclasses behavior for `Optional` fields:\n\n| Pattern                   | V1 Behavior                | V2 Behavior                           |\n| ------------------------- | -------------------------- | ------------------------------------- |\n| `f: str`                  | Required, cannot be None   | Same                                  |\n| `f: str = 'default'`      | Optional, cannot be None   | Same                                  |\n| `f: Optional[str]`        | Optional, defaults to None | **Required**, can be None             |\n| `f: Optional[str] = None` | Optional, defaults to None | Same                                  |\n| `f: Any`                  | Optional, defaults to None | **Required**, can be None or any type |\n| `f: Any = None`           | Optional, defaults to None | Same                                  |\n\n**Breaking Change:** `Optional[T]` fields are now required by default unless a default value is provided.\n\nSources: [docs/migration.md645-694](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L645-L694)\n\n### Float to Integer Coercion\n\nV2 only allows float-to-int coercion when the decimal part is zero:\n\n```\n```\n\nSources: [docs/migration.md708-733](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L708-L733)\n\n### Regex Engine Change\n\nV2 uses Rust's regex engine instead of Python's, providing linear-time matching but without lookarounds and backreferences. Use `regex_engine` config to revert to Python's engine if needed:\n\n```\n```\n\nSources: [docs/migration.md696-706](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L696-L706)\n\n```\n```",
    "metadata": {
      "chunk_id": 4,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 1024,
      "character_count": 4101,
      "created_at": "2025-10-16T17:42:20.970151",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 4,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "**Key Type System Behavior Changes**\n\nSources: [docs/migration.md613-733](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L613-L733)\n\n## TypeAdapter Introduction\n\nV2 introduces `TypeAdapter` for validating and serializing arbitrary types outside `BaseModel`. This replaces V1's `parse_obj_as` and `schema_of` functions:\n\n```\n```\n\n`TypeAdapter` provides methods for:\n\n- `validate_python()` - Validate Python objects\n- `validate_json()` - Validate JSON strings\n- `dump_python()` - Serialize to Python objects\n- `dump_json()` - Serialize to JSON strings\n- `json_schema()` - Generate JSON schema\n\nFor proper typing with generic parameters, specify the type explicitly:\n\n```\n```\n\nSources: [docs/migration.md735-768](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L735-L768) [docs/concepts/type\\_adapter.md1-100](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/type_adapter.md#L1-L100)\n\n## Custom Types and Schema Generation\n\n### Custom Type Hooks\n\nV2 completely overhauls custom type definition:\n\n| V1 Method            | V2 Replacement                 |\n| -------------------- | ------------------------------ |\n| `__get_validators__` | `__get_pydantic_core_schema__` |\n| `__modify_schema__`  | `__get_pydantic_json_schema__` |\n\nThese hooks can also be provided via `Annotated` metadata rather than modifying the type directly:\n\n```\n```\n\nSources: [docs/migration.md769-791](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L769-L791) [docs/concepts/types.md1-100](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/types.md#L1-L100)\n\n### JSON Schema Generation\n\nV2 introduces `GenerateJsonSchema` class for customizable JSON schema generation:\n\n**Key Changes:**\n\n- Default target is JSON Schema Draft 2020-12 (was Draft 7 in V1)\n- `Optional` fields now indicate `null` is allowed\n- `Decimal` serialized as string (was number in V1)\n- Namedtuples no longer preserved in schema\n- Schema mode can be `'validation'` or `'serialization'`\n\nCustomize schema generation by subclassing `GenerateJsonSchema`:\n\n```\n```\n\nSources: [docs/migration.md793-824](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L793-L824) [docs/concepts/json\\_schema.md1-100](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/concepts/json_schema.md#L1-L100)\n\n## Relocated and Removed Features\n\n### BaseSettings Migration\n\n`BaseSettings` has moved to the separate `pydantic-settings` package:\n\n```\n```\n\n```\n```\n\nThe `parse_env_var` classmethod has been removed. Use customized settings sources instead.\n\nSources: [docs/migration.md825-834](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L825-L834)\n\n### Moved to pydantic-extra-types\n\nThe following types have moved to `pydantic-extra-types`:\n\n- Color types (Color, etc.)\n- Payment card numbers (PaymentCardNumber, etc.)\n\nInstall with:\n\n```\n```\n\nSources: [docs/migration.md835-843](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L835-L843)\n\n### URL and DSN Types\n\n`AnyUrl` and related URL/DSN types no longer inherit from `str` in V2. They are built on `Url` and `MultiHostUrl` classes using `Annotated`.\n\nTo use as strings, call `str(url)` explicitly:\n\n```\n```\n\nSources: [docs/migration.md844-851](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L844-L851)\n\n```\n```\n\n**Package Reorganization in V2**\n\nSources: [docs/migration.md825-851](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L825-L851)\n\n## Function Validation\n\nThe `@validate_arguments` decorator has been renamed to `@validate_call`:\n\n```\n```\n\nV1's validator function attributes (`raw_function`, `validate`) are no longer available in V2.",
    "metadata": {
      "chunk_id": 5,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 995,
      "character_count": 3717,
      "created_at": "2025-10-16T17:42:20.984543",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 5,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "collection_context": "pydantic_pydantic"
    }
  },
  {
    "text": "Sources: [docs/migration.md489-497](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L489-L497)\n\n## Migration Checklist\n\n```\n```\n\n**Recommended Migration Process**\n\nSources: [docs/migration.md1-851](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L1-L851)\n\n### Key Migration Steps\n\n1. **Install Tools**: Install `bump-pydantic` and run it on your codebase\n2. **Update BaseModel Methods**: Replace deprecated method names with V2 equivalents\n3. **Migrate Configuration**: Convert `Config` classes to `model_config` with `ConfigDict`\n4. **Update Validators**: Replace `@validator` and `@root_validator` with new decorators\n5. **Fix Field Definitions**: Update field parameters and use `Annotated` for constraints\n6. **Review Type Behavior**: Test Optional fields, unions, and numeric coercion\n7. **Update Dataclasses**: Replace `__pydantic_model__` usage with `TypeAdapter`\n8. **Migrate Custom Types**: Implement `__get_pydantic_core_schema__` hooks\n9. **Test Thoroughly**: Run comprehensive tests and type checking\n\nSources: [docs/migration.md1-851](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/migration.md#L1-L851) [docs/contributing.md1-272](https://github.com/pydantic/pydantic/blob/76ef0b08/docs/contributing.md#L1-L272)\n\nDismiss\n\nRefresh this wiki\n\nThis wiki was recently refreshed. Please wait 4 days to refresh again.\n\n### On this page\n\n- [V1 to V2 Migration](#v1-to-v2-migration.md)\n- [Overview and Installation](#overview-and-installation.md)\n- [Installing Pydantic V2](#installing-pydantic-v2.md)\n- [Migration Tool: bump-pydantic](#migration-tool-bump-pydantic.md)\n- [BaseModel API Changes](#basemodel-api-changes.md)\n- [Method Name Changes](#method-name-changes.md)\n- [Equality Behavior Changes](#equality-behavior-changes.md)\n- [RootModel Replaces \\`\\_\\_root\\_\\_\\`](#rootmodel-replaces-__root__.md)\n- [Field and Configuration Changes](#field-and-configuration-changes.md)\n- [Field Function Updates](#field-function-updates.md)\n- [Model Configuration Migration](#model-configuration-migration.md)\n- [Configuration Options Removed/Renamed](#configuration-options-removedrenamed.md)\n- [Validator and Serializer Changes](#validator-and-serializer-changes.md)\n- [Decorator Migration](#decorator-migration.md)\n- [Validator Argument Changes](#validator-argument-changes.md)\n- [TypeError Handling](#typeerror-handling.md)\n- [Serializer Introduction](#serializer-introduction.md)\n- [Dataclass Changes](#dataclass-changes.md)\n- [Initialization and Validation](#initialization-and-validation.md)\n- [Schema Access Changes](#schema-access-changes.md)\n- [Configuration Inheritance](#configuration-inheritance.md)\n- [Type System Changes](#type-system-changes.md)\n- [GenericModel Removal](#genericmodel-removal.md)\n- [Input Type Preservation](#input-type-preservation.md)\n- [Union Type Behavior](#union-type-behavior.md)\n- [Required vs Optional Fields](#required-vs-optional-fields.md)\n- [Float to Integer Coercion](#float-to-integer-coercion.md)\n- [Regex Engine Change](#regex-engine-change.md)\n- [TypeAdapter Introduction](#typeadapter-introduction.md)\n- [Custom Types and Schema Generation](#custom-types-and-schema-generation.md)\n- [Custom Type Hooks](#custom-type-hooks.md)\n- [JSON Schema Generation](#json-schema-generation.md)\n- [Relocated and Removed Features](#relocated-and-removed-features.md)\n- [BaseSettings Migration](#basesettings-migration.md)\n- [Moved to pydantic-extra-types](#moved-to-pydantic-extra-types.md)\n- [URL and DSN Types](#url-and-dsn-types.md)\n- [Function Validation](#function-validation.md)\n- [Migration Checklist](#migration-checklist.md)\n- [Key Migration Steps](#key-migration-steps.md)",
    "metadata": {
      "chunk_id": 6,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "input_type": "pydantic_pydantic",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 944,
      "character_count": 3668,
      "created_at": "2025-10-16T17:42:20.986814",
      "parent_context": null,
      "semantic_type": "pydantic_pydantic",
      "collection_name": "pydantic_pydantic",
      "subfolder_name": null,
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 6,
      "file_relative_path": "Docs\\pydantic_pydantic\\_pydantic_pydantic_8.1-v1-to-v2-migration.md",
      "collection_context": "pydantic_pydantic"
    }
  }
]