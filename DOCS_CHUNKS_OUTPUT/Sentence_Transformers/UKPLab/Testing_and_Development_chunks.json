[
  {
    "text": "This page covers the testing framework, development environment setup, and contribution guidelines for the sentence-transformers library. It provides information about running tests, building documentation, and maintaining code quality standards.\n\nFor information about training models, see [Training](#3). For details about evaluation methods, see [Evaluation](#4).\n\n## Test Framework Overview\n\nThe sentence-transformers library uses a comprehensive pytest-based testing framework that validates functionality across all three core model types: SentenceTransformer, SparseEncoder, and CrossEncoder.\n\n```mermaid\ngraph TB\n    subgraph \"Test Structure\"\n        TestRoot[\"tests/\"]\n        MainTests[\"tests/*.py\"]\n        CrossTests[\"tests/cross_encoder/\"]\n        SparseTests[\"tests/sparse_encoder/\"]\n    end\n    \n    subgraph \"Test Categories\"\n        UnitTests[\"Unit Tests\"]\n        IntegrationTests[\"Integration Tests\"]\n        SlowTests[\"Slow Tests (@pytest.mark.slow)\"]\n        ModelTests[\"Pretrained Model Tests\"]\n        TrainingTests[\"Training Tests\"]\n    end\n    \n    subgraph \"Test Configuration\"\n        MainConf[\"tests/conftest.py\"]\n        CrossConf[\"tests/cross_encoder/conftest.py\"]\n        SparseConf[\"tests/sparse_encoder/conftest.py\"]\n    end\n    \n    TestRoot --> MainTests\n    TestRoot --> CrossTests\n    TestRoot --> SparseTests\n    \n    MainConf --> UnitTests\n    MainConf --> IntegrationTests\n    CrossConf --> CrossTests\n    SparseConf --> SparseTests\n    \n    SlowTests --> ModelTests\n    SlowTests --> TrainingTests\n```\n\nSources: [tests/conftest.py:1-115](), [tests/cross_encoder/conftest.py:1-23](), [tests/sparse_encoder/conftest.py:1-46]()\n\n## Test Configuration and Fixtures\n\nThe testing framework uses pytest fixtures to manage test dependencies and ensure proper isolation between tests.\n\n### Core Test Fixtures\n\n| Fixture | Scope | Purpose | Location |\n|---------|-------|---------|----------|\n| `stsb_bert_tiny_model` | Function | SentenceTransformer model for testing | [tests/conftest.py:26-28]() |\n| `splade_bert_tiny_model` | Function | SparseEncoder model for testing | [tests/sparse_encoder/conftest.py:17-19]() |\n| `reranker_bert_tiny_model` | Function | CrossEncoder model for testing | [tests/cross_encoder/conftest.py:20-22]() |\n| `cache_dir` | Function | Temporary directory for CI environments | [tests/conftest.py:102-114]() |\n\n### Model Loading Strategy\n\n```mermaid\ngraph LR\n    subgraph \"Session Fixtures\"\n        SessionModel[\"_stsb_bert_tiny_model<br/>(session scope)\"]\n        SessionSparse[\"_splade_bert_tiny_model<br/>(session scope)\"]\n    end\n    \n    subgraph \"Function Fixtures\"\n        FuncModel[\"stsb_bert_tiny_model<br/>(function scope)\"]\n        FuncSparse[\"splade_bert_tiny_model<br/>(function scope)\"]\n    end\n    \n    SessionModel --> |\"deepcopy()\"| FuncModel\n    SessionSparse --> |\"deepcopy()\"| FuncSparse\n    \n    FuncModel --> TestCase1[\"test_encode()\"]\n    FuncModel --> TestCase2[\"test_similarity()\"]\n    FuncSparse --> TestCase3[\"test_sparse_encode()\"]\n```\n\nThe testing framework uses session-scoped fixtures to load models once per test session, then creates function-scoped copies using `deepcopy()` to ensure test isolation without the overhead of repeatedly loading models.\n\nSources: [tests/conftest.py:19-40](), [tests/sparse_encoder/conftest.py:10-31](), [tests/cross_encoder/conftest.py:15-22]()\n\n## Test Categories\n\n### Performance Validation Tests\n\nThe `test_pretrained_stsb.py` module validates that pretrained models maintain expected performance on the STSbenchmark dataset:\n\n```python",
    "metadata": {
      "chunk_id": 0,
      "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\Sentence_Transformers\\UKPLab\\sentence-transformers\\Testing_and_Development.md",
      "input_type": "sentence_transformers",
      "chunking_strategy": "programming_language_documentation",
      "token_count": 819,
      "character_count": 3565,
      "created_at": "2025-10-16T17:42:33.287836",
      "parent_context": null,
      "semantic_type": "sentence_transformers",
      "collection_name": "Sentence_Transformers",
      "subfolder_name": "UKPLab",
      "collection_strategy": "programming_language_documentation",
      "chunk_index_in_file": 0,
      "file_relative_path": "UKPLab\\sentence-transformers\\Testing_and_Development.md",
      "collection_context": "Sentence_Transformers/UKPLab"
    }
  }
]