{
  "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_examples\\_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
  "source_repo": "qdrant_examples",
  "total_chunks": 6,
  "chunks": [
    {
      "content": "Movie Recommendations with Sparse Vectors | qdrant/examples | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[qdrant/examples](https://github.com/qdrant/examples \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 26 June 2025 ([b3c4b2](https://github.com/qdrant/examples/commits/b3c4b28f))\n\n- [Overview](qdrant/examples/1-overview.md)\n- [Getting Started with Qdrant](qdrant/examples/2-getting-started-with-qdrant.md)\n- [Text Data Applications](qdrant/examples/3-text-data-applications.md)\n- [Code Search with Dual Embeddings](qdrant/examples/3.1-code-search-with-dual-embeddings.md)\n- [Extractive Question Answering](qdrant/examples/3.2-extractive-question-answering.md)\n- [Movie Recommendations with Sparse Vectors](qdrant/examples/3.3-movie-recommendations-with-sparse-vectors.md)\n- [Image Data Applications](qdrant/examples/4-image-data-applications.md)\n- [E-commerce Reverse Image Search](qdrant/examples/4.1-e-commerce-reverse-image-search.md)\n- [Medical Image Search with Vision Transformers](qdrant/examples/4.2-medical-image-search-with-vision-transformers.md)\n- [Audio Data Applications](qdrant/examples/5-audio-data-applications.md)\n- [Music Recommendation Engine](qdrant/examples/5.1-music-recommendation-engine.md)\n- [Advanced RAG Systems](qdrant/examples/6-advanced-rag-systems.md)\n- [Multivector RAG with DSPy](qdrant/examples/6.1-multivector-rag-with-dspy.md)\n- [Graph-Enhanced RAG with Neo4j](qdrant/examples/6.2-graph-enhanced-rag-with-neo4j.md)\n- [PDF Retrieval at Scale](qdrant/examples/6.3-pdf-retrieval-at-scale.md)\n- [Agentic Systems with CrewAI](qdrant/examples/7-agentic-systems-with-crewai.md)\n- [Meeting Analysis with Agentic RAG](qdrant/examples/7.1-meeting-analysis-with-agentic-rag.md)\n- [Additional Use Cases](qdrant/examples/8-additional-use-cases.md)\n- [Self-Query Systems with LangChain](qdrant/examples/8.1-self-query-systems-with-langchain.md)\n- [Development Environment Setup](qdrant/examples/8.",
      "index": 0,
      "token_count": 589,
      "metadata": {
        "title": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors",
        "source": "qdrant_examples\\_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_examples",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "file_name": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.013852",
        "total_chunks": 6
      },
      "start_char": 0,
      "end_char": 2049
    },
    {
      "content": "mples/8.1-self-query-systems-with-langchain.md)\n- [Development Environment Setup](qdrant/examples/8.2-development-environment-setup.md)\n\nMenu\n\n# Movie Recommendations with Sparse Vectors\n\nRelevant source files\n\n- [README.md](https://github.com/qdrant/examples/blob/b3c4b28f/README.md)\n- [code-search/code-search.ipynb](https://github.com/qdrant/examples/blob/b3c4b28f/code-search/code-search.ipynb)\n- [sparse-vectors-movies-reco/recommend-movies.ipynb](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb)\n\n## Purpose\n\nThis document explains how to implement a movie recommendation system using collaborative filtering with Qdrant's sparse vector capabilities. We'll demonstrate how to represent user preferences as sparse vectors, find similar users based on these vectors, and generate personalized movie recommendations. This approach is particularly efficient for recommendation systems with large, sparse feature spaces.\n\nSources: [README.md9-16](https://github.com/qdrant/examples/blob/b3c4b28f/README.md#L9-L16) [sparse-vectors-movies-reco/recommend-movies.ipynb6-25](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L6-L25)\n\n## Overview\n\nCollaborative filtering is a recommendation technique that finds patterns in user behavior to predict preferences. It works on the premise that if two users have similar tastes (rated similar movies similarly), they will likely have similar preferences for other movies. This example leverages Qdrant's sparse vector capabilities to implement a collaborative filtering system using the MovieLens dataset.\n\nThe key workflow is:\n\n1. Represent each user's movie ratings as a sparse vector\n2. Index these vectors in Qdrant\n3. Find users with similar taste patterns\n4. Recommend movies that similar users liked but the target user hasn't seen\n\n```\n```\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb6-25](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.",
      "index": 1,
      "token_count": 504,
      "metadata": {
        "title": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors",
        "source": "qdrant_examples\\_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_examples",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "file_name": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.013852",
        "total_chunks": 6
      },
      "start_char": 1949,
      "end_char": 3998
    },
    {
      "content": "b6-25](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L6-L25)\n\n## Sparse Vectors for Collaborative Filtering\n\n### What are Sparse Vectors?\n\nSparse vectors contain mostly zero values, with only a few non-zero entries. In the context of movie recommendations:\n\n- Each dimension represents a movie ID\n- The value at that dimension represents the user's rating\n- Most users rate only a tiny fraction of all available movies, making the vector sparse\n\nQdrant efficiently handles sparse vectors by only storing non-zero values (values and their indices), significantly reducing storage requirements and improving search performance for recommendation systems.\n\n```\n```\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb416-428](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L416-L428)\n\n## Implementation Steps\n\n### 1. Data Preparation\n\nFirst, we load the MovieLens dataset, which contains:\n\n- User information (demographics)\n- Movie information (title, genres)\n- User ratings for movies\n\n```\n```\n\nThe ratings are normalized to have a mean of 0 and standard deviation of 1. This normalization is particularly important for sparse vectors as it allows us to capture both positive and negative preferences.\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb210-408](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L210-L408)\n\n### 2. Converting Ratings to Sparse Vectors\n\nEach user's ratings are converted into a sparse vector format with two components:\n\n- `values`: The normalized rating values\n- `indices`: The corresponding movie IDs\n\n```\n```\n\nThis structure efficiently represents each user's preferences across the entire movie space by only storing the movies they've actually rated.\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb416-428](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L416-L428)\n\n### 3.",
      "index": 2,
      "token_count": 519,
      "metadata": {
        "title": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors",
        "source": "qdrant_examples\\_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_examples",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "file_name": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.013852",
        "total_chunks": 6
      },
      "start_char": 3898,
      "end_char": 5941
    },
    {
      "content": "m/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L416-L428)\n\n### 3. Setting Up Qdrant Collection\n\nUnlike dense vector collections that require a pre-defined dimension, sparse vector collections in Qdrant don't need dimension specification since the dimensionality is determined by the indices in the data.\n\n```\n```\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb460-469](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L460-L469)\n\n### 4. Indexing User Preference Vectors\n\nEach user's sparse rating vector is uploaded to Qdrant along with their demographic information:\n\n```\n```\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb480-494](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L480-L494)\n\n### 5. Querying Similar Users\n\nTo generate recommendations, we first create a sparse vector of our own movie preferences:\n\n```\n```\n\nThen we search for similar users using Qdrant's vector similarity search:\n\n```\n```\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb510-554](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L510-L554)\n\n### 6. Generating Recommendations\n\nFrom the similar users' ratings, we identify movies they liked that the target user hasn't rated yet:\n\n```\n```\n\nThe final recommendations are generated by sorting movies by their aggregated scores:\n\n```\n```\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb562-603](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L562-L603)\n\n## Advanced Features\n\n### Filtered Recommendations\n\nQdrant allows filtering recommendations based on user demographics or other metadata. For example, you can find similar users within a specific age group:\n\n```\n```\n\nThis feature enables more personalized recommendations by leveraging both similarity in taste and demographic information.",
      "index": 3,
      "token_count": 545,
      "metadata": {
        "title": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors",
        "source": "qdrant_examples\\_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_examples",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "file_name": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.013852",
        "total_chunks": 6
      },
      "start_char": 5841,
      "end_char": 7854
    },
    {
      "content": "e personalized recommendations by leveraging both similarity in taste and demographic information.\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb622-649](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L622-L649)\n\n## System Architecture\n\nThe overall architecture of the movie recommendation system is as follows:\n\n```\n```\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb6-649](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L6-L649)\n\n## Performance Considerations\n\nSparse vectors are particularly efficient for collaborative filtering recommendation systems because:\n\n1. **Storage Efficiency**: Only non-zero values are stored, greatly reducing memory requirements for large catalogs with millions of items.\n\n2. **Computational Efficiency**: Similarity calculations only consider dimensions with non-zero values in at least one of the vectors.\n\n3. **Interpretability**: The sparse approach maintains clear relationships between dimensions (movie IDs) and values (ratings), making the system more interpretable.\n\n4. **Scalability**: The system can easily accommodate new movies without retraining, as they simply become new dimensions in the sparse vector space.\n\nFor production use cases, it's recommended to use a server-based Qdrant instance rather than the in-memory version shown in the example.\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb436-440](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L436-L440)\n\n## Conclusion\n\nThis implementation demonstrates how Qdrant's sparse vector capabilities can be leveraged to build an effective collaborative filtering recommendation system. The approach is particularly suitable for domains with large, sparse feature spaces like movie recommendations, e-commerce product recommendations, or content suggestions.",
      "index": 4,
      "token_count": 439,
      "metadata": {
        "title": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors",
        "source": "qdrant_examples\\_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_examples",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "file_name": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.013852",
        "total_chunks": 6
      },
      "start_char": 7754,
      "end_char": 9710
    },
    {
      "content": "ure spaces like movie recommendations, e-commerce product recommendations, or content suggestions.\n\nBy representing user preferences as sparse vectors and utilizing Qdrant's vector search capabilities, we can efficiently find similar users and generate personalized recommendations with minimal computational overhead.\n\nSources: [sparse-vectors-movies-reco/recommend-movies.ipynb6-649](https://github.com/qdrant/examples/blob/b3c4b28f/sparse-vectors-movies-reco/recommend-movies.ipynb#L6-L649) [README.md16](https://github.com/qdrant/examples/blob/b3c4b28f/README.md#L16-L16)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [Movie Recommendations with Sparse Vectors](#movie-recommendations-with-sparse-vectors.md)\n- [Purpose](#purpose.md)\n- [Overview](#overview.md)\n- [Sparse Vectors for Collaborative Filtering](#sparse-vectors-for-collaborative-filtering.md)\n- [What are Sparse Vectors?](#what-are-sparse-vectors.md)\n- [Implementation Steps](#implementation-steps.md)\n- [1. Data Preparation](#1-data-preparation.md)\n- [2. Converting Ratings to Sparse Vectors](#2-converting-ratings-to-sparse-vectors.md)\n- [3. Setting Up Qdrant Collection](#3-setting-up-qdrant-collection.md)\n- [4. Indexing User Preference Vectors](#4-indexing-user-preference-vectors.md)\n- [5. Querying Similar Users](#5-querying-similar-users.md)\n- [6. Generating Recommendations](#6-generating-recommendations.md)\n- [Advanced Features](#advanced-features.md)\n- [Filtered Recommendations](#filtered-recommendations.md)\n- [System Architecture](#system-architecture.md)\n- [Performance Considerations](#performance-considerations.md)\n- [Conclusion](#conclusion.md)",
      "index": 5,
      "token_count": 422,
      "metadata": {
        "title": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors",
        "source": "qdrant_examples\\_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_examples",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "file_name": "_qdrant_examples_3.3-movie-recommendations-with-sparse-vectors.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.013852",
        "total_chunks": 6
      },
      "start_char": 9610,
      "end_char": 11658
    }
  ]
}