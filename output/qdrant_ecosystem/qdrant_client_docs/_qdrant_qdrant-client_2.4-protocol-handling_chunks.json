{
  "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_client_docs\\_qdrant_qdrant-client_2.4-protocol-handling.md",
  "source_repo": "qdrant_client_docs",
  "total_chunks": 6,
  "chunks": [
    {
      "content": "Protocol Handling | qdrant/qdrant-client | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[qdrant/qdrant-client](https://github.com/qdrant/qdrant-client \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 9 July 2025 ([ac6f6c](https://github.com/qdrant/qdrant-client/commits/ac6f6cd2))\n\n- [Overview](qdrant/qdrant-client/1-overview.md)\n- [Client Architecture](qdrant/qdrant-client/2-client-architecture.md)\n- [Client Interface](qdrant/qdrant-client/2.1-client-interface.md)\n- [Local Mode](qdrant/qdrant-client/2.2-local-mode.md)\n- [Remote Mode](qdrant/qdrant-client/2.3-remote-mode.md)\n- [Protocol Handling](qdrant/qdrant-client/2.4-protocol-handling.md)\n- [Core Operations](qdrant/qdrant-client/3-core-operations.md)\n- [Search Operations](qdrant/qdrant-client/3.1-search-operations.md)\n- [Collection Management](qdrant/qdrant-client/3.2-collection-management.md)\n- [Point Operations](qdrant/qdrant-client/3.3-point-operations.md)\n- [Advanced Features](qdrant/qdrant-client/4-advanced-features.md)\n- [FastEmbed Integration](qdrant/qdrant-client/4.1-fastembed-integration.md)\n- [Batch Operations](qdrant/qdrant-client/4.2-batch-operations.md)\n- [Hybrid Search](qdrant/qdrant-client/4.3-hybrid-search.md)\n- [Local Inference](qdrant/qdrant-client/4.4-local-inference.md)\n- [Implementation Details](qdrant/qdrant-client/5-implementation-details.md)\n- [Payload Filtering](qdrant/qdrant-client/5.1-payload-filtering.md)\n- [Type Inspector System](qdrant/qdrant-client/5.2-type-inspector-system.md)\n- [Expression Evaluation](qdrant/qdrant-client/5.3-expression-evaluation.md)\n- [Development & Testing](qdrant/qdrant-client/6-development-and-testing.md)\n- [Project Setup](qdrant/qdrant-client/6.1-project-setup.md)\n- [Testing Framework](qdrant/qdrant-client/6.2-testing-framework.md)\n- [Documentation System](qdrant/qdrant-client/6.3-documentation-system.md)\n\nMenu\n\n# Protocol Handling\n\nRelevant source files",
      "index": 0,
      "token_count": 611,
      "metadata": {
        "title": "_qdrant_qdrant-client_2.4-protocol-handling",
        "source": "qdrant_client_docs\\_qdrant_qdrant-client_2.4-protocol-handling.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_client_docs",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "file_name": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:28.511558",
        "total_chunks": 6
      },
      "start_char": 0,
      "end_char": 2018
    },
    {
      "content": "drant/qdrant-client/6.3-documentation-system.md)\n\nMenu\n\n# Protocol Handling\n\nRelevant source files\n\n- [qdrant\\_client/common/client\\_exceptions.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/common/client_exceptions.py)\n- [qdrant\\_client/connection.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/connection.py)\n- [qdrant\\_client/conversions/conversion.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py)\n- [qdrant\\_client/http/api\\_client.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/http/api_client.py)\n- [qdrant\\_client/http/models/models.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/http/models/models.py)\n- [tests/conversions/fixtures.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/tests/conversions/fixtures.py)\n- [tests/conversions/test\\_validate\\_conversions.py](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/tests/conversions/test_validate_conversions.py)\n- [tools/generate\\_grpc\\_client.sh](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/tools/generate_grpc_client.sh)\n- [tools/generate\\_rest\\_client.sh](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/tools/generate_rest_client.sh)\n\nThis document covers the protocol handling mechanisms in the qdrant-client library, specifically focusing on the conversion layer between gRPC and REST protocols, connection management, and protocol selection logic. The system enables seamless communication with Qdrant services through both HTTP/REST and gRPC interfaces while maintaining a unified client API.\n\nFor information about the client interface that utilizes these protocols, see [Client Interface](qdrant/qdrant-client/2.1-client-interface.md). For details about remote mode implementation, see [Remote Mode](qdrant/qdrant-client/2.3-remote-mode.md).\n\n## Architecture Overview",
      "index": 1,
      "token_count": 491,
      "metadata": {
        "title": "_qdrant_qdrant-client_2.4-protocol-handling",
        "source": "qdrant_client_docs\\_qdrant_qdrant-client_2.4-protocol-handling.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_client_docs",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "file_name": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:28.511558",
        "total_chunks": 6
      },
      "start_char": 1918,
      "end_char": 3835
    },
    {
      "content": "lementation, see [Remote Mode](qdrant/qdrant-client/2.3-remote-mode.md).\n\n## Architecture Overview\n\nThe protocol handling system consists of three main components: bidirectional conversion between gRPC and REST formats, connection management for both protocols, and error handling across transport layers.\n\n### Protocol Conversion Flow\n\n```\n```\n\nSources: [qdrant\\_client/conversions/conversion.py1-2069](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py#L1-L2069) [qdrant\\_client/connection.py1-308](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/connection.py#L1-L308) [qdrant\\_client/http/api\\_client.py1-264](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/http/api_client.py#L1-L264)\n\n## gRPC to REST Conversion System\n\nThe `GrpcToRest` class provides comprehensive conversion from gRPC protocol buffer messages to REST API Pydantic models. This system handles complex nested structures, enums, and specialized data types.\n\n### Core Conversion Methods\n\n```\n```\n\nThe conversion system handles complex type mapping including:\n\n| gRPC Type          | REST Type           | Conversion Method        |\n| ------------------ | ------------------- | ------------------------ |\n| `grpc.Condition`   | `rest.Condition`    | `convert_condition()`    |\n| `grpc.Filter`      | `rest.Filter`       | `convert_filter()`       |\n| `grpc.ScoredPoint` | `rest.ScoredPoint`  | `convert_scored_point()` |\n| `grpc.Value`       | Python native types | `value_to_json()`        |\n\nSources: [qdrant\\_client/conversions/conversion.py140-163](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py#L140-L163) [qdrant\\_client/conversions/conversion.py165-182](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py#L165-L182) [qdrant\\_client/conversions/conversion.py560-578](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py#L560-L578)\n\n### Payload Conversion",
      "index": 2,
      "token_count": 565,
      "metadata": {
        "title": "_qdrant_qdrant-client_2.4-protocol-handling",
        "source": "qdrant_client_docs\\_qdrant_qdrant-client_2.4-protocol-handling.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_client_docs",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "file_name": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:28.511558",
        "total_chunks": 6
      },
      "start_char": 3735,
      "end_char": 5781
    },
    {
      "content": "nt-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py#L560-L578)\n\n### Payload Conversion\n\nThe payload conversion system transforms between gRPC's structured `Value` types and Python native types:\n\n```\n```\n\nSources: [qdrant\\_client/conversions/conversion.py58-88](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py#L58-L88) [qdrant\\_client/conversions/conversion.py90-96](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py#L90-L96)\n\n## REST to gRPC Conversion System\n\nThe `RestToGrpc` class performs the inverse conversion, transforming REST API requests into gRPC protocol buffer messages. This system ensures proper field mapping and type validation.\n\n### Payload to gRPC Conversion\n\n```\n```\n\nSources: [qdrant\\_client/conversions/conversion.py36-56](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py#L36-L56) [qdrant\\_client/conversions/conversion.py90-92](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/conversions/conversion.py#L90-L92)\n\n## Connection Management\n\nThe connection management system handles both gRPC and HTTP connections with support for authentication, interceptors, and error handling.\n\n### gRPC Connection System\n\n```\n```\n\nSources: [qdrant\\_client/connection.py254-276](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/connection.py#L254-L276) [qdrant\\_client/connection.py278-307](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/connection.py#L278-L307) [qdrant\\_client/connection.py131-182](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/connection.py#L131-L182)\n\n### HTTP Connection System\n\n```\n```\n\nSources: [qdrant\\_client/http/api\\_client.py67-153](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/http/api_client.py#L67-L153) [qdrant\\_client/http/api\\_client.py154-241](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/http/api_client.",
      "index": 3,
      "token_count": 618,
      "metadata": {
        "title": "_qdrant_qdrant-client_2.4-protocol-handling",
        "source": "qdrant_client_docs\\_qdrant_qdrant-client_2.4-protocol-handling.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_client_docs",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "file_name": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:28.511558",
        "total_chunks": 6
      },
      "start_char": 5681,
      "end_char": 7703
    },
    {
      "content": "ient.py154-241](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/http/api_client.py#L154-L241) [qdrant\\_client/http/api\\_client.py243-251](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/http/api_client.py#L243-L251)\n\n## Error Handling\n\nThe protocol handling system includes comprehensive error handling for both gRPC and HTTP protocols, with special attention to rate limiting and resource exhaustion.\n\n### gRPC Error Handling\n\n```\n```\n\nSources: [qdrant\\_client/connection.py135-148](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/connection.py#L135-L148) [qdrant\\_client/connection.py189-207](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/connection.py#L189-L207)\n\n### HTTP Error Handling\n\n```\n```\n\nSources: [qdrant\\_client/http/api\\_client.py114-130](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/http/api_client.py#L114-L130) [qdrant\\_client/http/api\\_client.py203-219](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/http/api_client.py#L203-L219) [qdrant\\_client/common/client\\_exceptions.py5-17](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/common/client_exceptions.py#L5-L17)\n\n## Protocol Selection Logic\n\nThe protocol selection mechanism allows clients to choose between gRPC and HTTP protocols based on configuration and preferences. This is typically handled at the client initialization level, with the conversion system providing the necessary bridge between protocols.\n\n### Default Channel Options\n\nThe connection system provides default gRPC channel options for optimal performance:\n\n| Option                            | Value | Purpose                        |\n| --------------------------------- | ----- | ------------------------------ |\n| `grpc.max_send_message_length`    | -1    | Unlimited send message size    |\n| `grpc.max_receive_message_length` | -1    | Unlimited receive message size |\n\nSources: [qdrant\\_client/connection.py239-252](https://github.",
      "index": 4,
      "token_count": 555,
      "metadata": {
        "title": "_qdrant_qdrant-client_2.4-protocol-handling",
        "source": "qdrant_client_docs\\_qdrant_qdrant-client_2.4-protocol-handling.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_client_docs",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "file_name": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:28.511558",
        "total_chunks": 6
      },
      "start_char": 7603,
      "end_char": 9627
    },
    {
      "content": "| Unlimited receive message size |\n\nSources: [qdrant\\_client/connection.py239-252](https://github.com/qdrant/qdrant-client/blob/ac6f6cd2/qdrant_client/connection.py#L239-L252)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [Protocol Handling](#protocol-handling.md)\n- [Architecture Overview](#architecture-overview.md)\n- [Protocol Conversion Flow](#protocol-conversion-flow.md)\n- [gRPC to REST Conversion System](#grpc-to-rest-conversion-system.md)\n- [Core Conversion Methods](#core-conversion-methods.md)\n- [Payload Conversion](#payload-conversion.md)\n- [REST to gRPC Conversion System](#rest-to-grpc-conversion-system.md)\n- [Payload to gRPC Conversion](#payload-to-grpc-conversion.md)\n- [Connection Management](#connection-management.md)\n- [gRPC Connection System](#grpc-connection-system.md)\n- [HTTP Connection System](#http-connection-system.md)\n- [Error Handling](#error-handling.md)\n- [gRPC Error Handling](#grpc-error-handling.md)\n- [HTTP Error Handling](#http-error-handling.md)\n- [Protocol Selection Logic](#protocol-selection-logic.md)\n- [Default Channel Options](#default-channel-options.md)",
      "index": 5,
      "token_count": 289,
      "metadata": {
        "title": "_qdrant_qdrant-client_2.4-protocol-handling",
        "source": "qdrant_client_docs\\_qdrant_qdrant-client_2.4-protocol-handling.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_client_docs",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "file_name": "_qdrant_qdrant-client_2.4-protocol-handling.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:28.511558",
        "total_chunks": 6
      },
      "start_char": 9527,
      "end_char": 11575
    }
  ]
}