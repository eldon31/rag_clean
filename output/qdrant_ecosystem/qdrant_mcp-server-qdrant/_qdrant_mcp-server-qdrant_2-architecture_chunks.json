{
  "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2-architecture.md",
  "source_repo": "qdrant_mcp-server-qdrant",
  "total_chunks": 5,
  "chunks": [
    {
      "content": "Architecture | qdrant/mcp-server-qdrant | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[qdrant/mcp-server-qdrant](https://github.com/qdrant/mcp-server-qdrant \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 20 April 2025 ([a3ab0b](https://github.com/qdrant/mcp-server-qdrant/commits/a3ab0b96))\n\n- [Overview](qdrant/mcp-server-qdrant/1-overview.md)\n- [Architecture](qdrant/mcp-server-qdrant/2-architecture.md)\n- [Core Components](qdrant/mcp-server-qdrant/2.1-core-components.md)\n- [Embedding System](qdrant/mcp-server-qdrant/2.2-embedding-system.md)\n- [Configuration System](qdrant/mcp-server-qdrant/2.3-configuration-system.md)\n- [Installation & Deployment](qdrant/mcp-server-qdrant/3-installation-and-deployment.md)\n- [Configuration Options](qdrant/mcp-server-qdrant/3.1-configuration-options.md)\n- [Client Integration](qdrant/mcp-server-qdrant/3.2-client-integration.md)\n- [API Reference](qdrant/mcp-server-qdrant/4-api-reference.md)\n- [qdrant-store Tool](qdrant/mcp-server-qdrant/4.1-qdrant-store-tool.md)\n- [qdrant-find Tool](qdrant/mcp-server-qdrant/4.2-qdrant-find-tool.md)\n- [QdrantConnector Reference](qdrant/mcp-server-qdrant/5-qdrantconnector-reference.md)\n- [Embedding Providers](qdrant/mcp-server-qdrant/6-embedding-providers.md)\n- [Development Guide](qdrant/mcp-server-qdrant/7-development-guide.md)\n\nMenu\n\n# Architecture\n\nRelevant source files\n\n- [README.md](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/README.md)\n- [src/mcp\\_server\\_qdrant/mcp\\_server.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/mcp_server.py)\n- [src/mcp\\_server\\_qdrant/qdrant.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/qdrant.py)\n- [src/mcp\\_server\\_qdrant/server.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/server.py)",
      "index": 0,
      "token_count": 640,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2-architecture",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2-architecture.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "file_name": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.790857",
        "total_chunks": 5
      },
      "start_char": 0,
      "end_char": 1961
    },
    {
      "content": "ver.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/server.py)\n\nThis document provides a high-level overview of the mcp-server-qdrant architecture, explaining the main components and their interactions. It covers the core structural elements, data flows, and integration points that make up the system. For installation and configuration details, see [Installation & Deployment](qdrant/mcp-server-qdrant/3-installation-and-deployment.md).\n\n## System Overview\n\nThe mcp-server-qdrant is a Model Context Protocol (MCP) server that provides a semantic memory layer on top of the Qdrant vector database. It allows LLM applications to store and retrieve information using vector embeddings for semantic similarity search rather than simple keyword matching.\n\n### High-Level Architecture Diagram\n\n```\n```\n\nSources: [src/mcp\\_server\\_qdrant/server.py1-13](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/server.py#L1-L13) [src/mcp\\_server\\_qdrant/mcp\\_server.py1-170](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/mcp_server.py#L1-L170) [README.md1-50](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/README.md#L1-L50)\n\n## Core Components\n\nThe architecture consists of four main components that work together to provide the semantic memory functionality:\n\n### QdrantMCPServer\n\nThe `QdrantMCPServer` class is the central component that initializes the server and registers the MCP tools. It inherits from `FastMCP` and serves as the entry point for client requests. The server:\n\n1. Sets up the embedding provider and Qdrant connector\n2. Registers the `qdrant-store` and `qdrant-find` tools\n3. Handles formatting of entries for display to clients\n\n```\n```\n\nSources: [src/mcp\\_server\\_qdrant/mcp\\_server.py18-50](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/mcp_server.py#L18-L50) [src/mcp\\_server\\_qdrant/server.py1-13](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/server.",
      "index": 1,
      "token_count": 565,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2-architecture",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2-architecture.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "file_name": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.790857",
        "total_chunks": 5
      },
      "start_char": 1861,
      "end_char": 3905
    },
    {
      "content": "rver.py1-13](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/server.py#L1-L13)\n\n### QdrantConnector\n\nThe `QdrantConnector` handles all interactions with the Qdrant vector database. It provides methods to:\n\n1. Connect to either a remote Qdrant instance or a local database file\n2. Store entries with their vector embeddings\n3. Search for semantically similar entries using vector similarity\n4. Manage collections in the Qdrant database\n\n```\n```\n\nSources: [src/mcp\\_server\\_qdrant/qdrant.py24-149](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/qdrant.py#L24-L149)\n\n### Embedding System\n\nThe embedding system converts text to vector embeddings that can be stored and searched in the Qdrant database. It uses an abstraction called `EmbeddingProvider` with implementations for different embedding technologies. The current implementation supports FastEmbed for generating embeddings.\n\nFor detailed information about embedding providers, see [Embedding Providers](qdrant/mcp-server-qdrant/6-embedding-providers.md).\n\n### MCP Tools\n\nThe server provides two main tools to clients:\n\n1. **qdrant-store**: Allows storing information with optional metadata in a specified collection\n2. **qdrant-find**: Enables semantic search for information based on a query\n\nThe behavior of these tools adapts based on the server configuration. For example, if a default collection name is configured, the tools don't require a collection name parameter.\n\nSources: [src/mcp\\_server\\_qdrant/mcp\\_server.py58-169](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/mcp_server.py#L58-L169) [README.md21-38](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/README.md#L21-L38)\n\n## Data Flow\n\nThe mcp-server-qdrant handles two primary operations: storing information and finding relevant information. Here's how data flows through the system for these operations:\n\n### Store Operation Flow\n\n```\n```\n\n### Find Operation Flow\n\n```\n```",
      "index": 2,
      "token_count": 517,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2-architecture",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2-architecture.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "file_name": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.790857",
        "total_chunks": 5
      },
      "start_char": 3805,
      "end_char": 5811
    },
    {
      "content": "system for these operations:\n\n### Store Operation Flow\n\n```\n```\n\n### Find Operation Flow\n\n```\n```\n\nSources: [src/mcp\\_server\\_qdrant/mcp\\_server.py63-138](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/mcp_server.py#L63-L138) [src/mcp\\_server\\_qdrant/qdrant.py59-126](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/qdrant.py#L59-L126)\n\n## Configuration Architecture\n\nThe system uses a layered configuration approach based on environment variables. There are three main settings classes:\n\n1. **QdrantSettings**: Configures the connection to the Qdrant database\n2. **EmbeddingProviderSettings**: Configures the embedding provider\n3. **ToolSettings**: Configures the behavior and descriptions of the MCP tools\n\n```\n```\n\nFor detailed information about configuration options, see [Configuration System](qdrant/mcp-server-qdrant/2.3-configuration-system.md).\n\nSources: [src/mcp\\_server\\_qdrant/server.py1-13](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/server.py#L1-L13) [README.md39-57](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/README.md#L39-L57)\n\n## Deployment Architecture\n\nThe mcp-server-qdrant can be deployed in several ways:\n\n1. Using `uvx` for direct execution\n2. Using Docker containers\n3. Via Smithery installation\n\nThe server supports multiple transport protocols:\n\n- **stdio**: Standard input/output transport for local clients\n- **sse**: Server-Sent Events transport for remote clients\n\n```\n```\n\nFor detailed deployment instructions, see [Installation & Deployment](qdrant/mcp-server-qdrant/3-installation-and-deployment.md).\n\nSources: [README.md59-149](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/README.md#L59-L149)\n\n## Security Considerations\n\nThe architecture supports secure connections to Qdrant through:\n\n1. API key authentication for remote Qdrant instances\n2. Local file-based storage for sensitive environments",
      "index": 3,
      "token_count": 544,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2-architecture",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2-architecture.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "file_name": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.790857",
        "total_chunks": 5
      },
      "start_char": 5711,
      "end_char": 7674
    },
    {
      "content": "authentication for remote Qdrant instances\n2. Local file-based storage for sensitive environments\n\nWhen using the SSE transport protocol, the server listens on port 8000 by default and should be secured appropriately if exposed to external networks.\n\nSources: [README.md39-57](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/README.md#L39-L57) [src/mcp\\_server\\_qdrant/qdrant.py35-49](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/qdrant.py#L35-L49)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [Architecture](#architecture.md)\n- [System Overview](#system-overview.md)\n- [High-Level Architecture Diagram](#high-level-architecture-diagram.md)\n- [Core Components](#core-components.md)\n- [QdrantMCPServer](#qdrantmcpserver.md)\n- [QdrantConnector](#qdrantconnector.md)\n- [Embedding System](#embedding-system.md)\n- [MCP Tools](#mcp-tools.md)\n- [Data Flow](#data-flow.md)\n- [Store Operation Flow](#store-operation-flow.md)\n- [Find Operation Flow](#find-operation-flow.md)\n- [Configuration Architecture](#configuration-architecture.md)\n- [Deployment Architecture](#deployment-architecture.md)\n- [Security Considerations](#security-considerations.md)",
      "index": 4,
      "token_count": 336,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2-architecture",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2-architecture.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "file_name": "_qdrant_mcp-server-qdrant_2-architecture.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.790857",
        "total_chunks": 5
      },
      "start_char": 7574,
      "end_char": 9622
    }
  ]
}