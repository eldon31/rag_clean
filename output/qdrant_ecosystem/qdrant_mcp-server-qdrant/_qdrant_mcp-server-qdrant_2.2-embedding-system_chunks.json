{
  "source_file": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\RAG_CLEAN\\Docs\\qdrant_ecosystem\\qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
  "source_repo": "qdrant_mcp-server-qdrant",
  "total_chunks": 6,
  "chunks": [
    {
      "content": "Embedding System | qdrant/mcp-server-qdrant | DeepWiki\n\n[Index your code with Devin](private-repo.md)\n\n[DeepWiki](https://deepwiki.com)\n\n[DeepWiki](.md)\n\n[qdrant/mcp-server-qdrant](https://github.com/qdrant/mcp-server-qdrant \"Open repository\")\n\n[Index your code with](private-repo.md)\n\n[Devin](private-repo.md)\n\nShare\n\nLast indexed: 20 April 2025 ([a3ab0b](https://github.com/qdrant/mcp-server-qdrant/commits/a3ab0b96))\n\n- [Overview](qdrant/mcp-server-qdrant/1-overview.md)\n- [Architecture](qdrant/mcp-server-qdrant/2-architecture.md)\n- [Core Components](qdrant/mcp-server-qdrant/2.1-core-components.md)\n- [Embedding System](qdrant/mcp-server-qdrant/2.2-embedding-system.md)\n- [Configuration System](qdrant/mcp-server-qdrant/2.3-configuration-system.md)\n- [Installation & Deployment](qdrant/mcp-server-qdrant/3-installation-and-deployment.md)\n- [Configuration Options](qdrant/mcp-server-qdrant/3.1-configuration-options.md)\n- [Client Integration](qdrant/mcp-server-qdrant/3.2-client-integration.md)\n- [API Reference](qdrant/mcp-server-qdrant/4-api-reference.md)\n- [qdrant-store Tool](qdrant/mcp-server-qdrant/4.1-qdrant-store-tool.md)\n- [qdrant-find Tool](qdrant/mcp-server-qdrant/4.2-qdrant-find-tool.md)\n- [QdrantConnector Reference](qdrant/mcp-server-qdrant/5-qdrantconnector-reference.md)\n- [Embedding Providers](qdrant/mcp-server-qdrant/6-embedding-providers.md)\n- [Development Guide](qdrant/mcp-server-qdrant/7-development-guide.md)\n\nMenu\n\n# Embedding System\n\nRelevant source files\n\n- [src/mcp\\_server\\_qdrant/embeddings/\\_\\_init\\_\\_.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/__init__.py)\n- [src/mcp\\_server\\_qdrant/embeddings/base.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/base.py)\n- [src/mcp\\_server\\_qdrant/embeddings/factory.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/factory.py)\n- [src/mcp\\_server\\_qdrant/embeddings/fastembed.py](https://github.",
      "index": 0,
      "token_count": 648,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2.2-embedding-system",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "file_name": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.804111",
        "total_chunks": 6
      },
      "start_char": 0,
      "end_char": 2015
    },
    {
      "content": "er_qdrant/embeddings/factory.py)\n- [src/mcp\\_server\\_qdrant/embeddings/fastembed.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py)\n- [src/mcp\\_server\\_qdrant/embeddings/types.py](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/types.py)\n\nThe Embedding System is a core component of the mcp-server-qdrant architecture responsible for converting text data (both documents and queries) into vector representations that enable semantic search capabilities in the Qdrant vector database. This page documents the design, implementation, and usage of the embedding system.\n\nFor information about the overall architecture, see [Architecture](qdrant/mcp-server-qdrant/2-architecture.md), and for details about configuring the embedding system, see [Configuration System](qdrant/mcp-server-qdrant/2.3-configuration-system.md).\n\n## System Overview\n\nThe Embedding System serves as the bridge between natural language text and the vector space where semantic similarity operations can be performed.\n\n```\n```\n\nThe Embedding System transforms raw text into numerical vector representations that capture semantic meaning, enabling similarity-based search rather than simple keyword matching.\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/factory.py6-17](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/factory.py#L6-L17) [src/mcp\\_server\\_qdrant/embeddings/base.py5-26](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/base.py#L5-L26) [src/mcp\\_server\\_qdrant/embeddings/fastembed.py10-51](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L10-L51)\n\n## EmbeddingProvider Interface\n\nAt the core of the embedding system is the abstract `EmbeddingProvider` interface:\n\n```\n```\n\nThis interface defines four critical methods that all embedding providers must implement:",
      "index": 1,
      "token_count": 507,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2.2-embedding-system",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "file_name": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.804111",
        "total_chunks": 6
      },
      "start_char": 1915,
      "end_char": 3906
    },
    {
      "content": "```\n```\n\nThis interface defines four critical methods that all embedding providers must implement:\n\n| Method            | Purpose                                                 | Return Type         |\n| ----------------- | ------------------------------------------------------- | ------------------- |\n| `embed_documents` | Converts multiple text documents into vector embeddings | `List[List[float]]` |\n| `embed_query`     | Converts a single query string into a vector embedding  | `List[float]`       |\n| `get_vector_name` | Returns an identifier for the vector type               | `str`               |\n| `get_vector_size` | Returns the dimensionality of the vectors               | `int`               |\n\nBoth embedding methods are asynchronous, allowing the server to handle multiple concurrent requests efficiently.\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/base.py5-26](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/base.py#L5-L26)\n\n## FastEmbed Implementation\n\nThe current implementation uses the FastEmbed library through the `FastEmbedProvider` class:\n\n```\n```\n\nThe `FastEmbedProvider` class:\n\n1. Is initialized with a model name and creates an internal `TextEmbedding` instance\n2. Implements `embed_documents` by running FastEmbed's `passage_embed` method\n3. Implements `embed_query` by running FastEmbed's `query_embed` method\n4. Provides a vector name in the format `fast-{model_name}`\n5. Retrieves the vector dimensionality from the model's metadata\n\nSince FastEmbed's API is synchronous but the `EmbeddingProvider` interface is asynchronous, the implementation uses `asyncio.get_event_loop().run_in_executor()` to run the embedding operations in thread pools, preventing blocking of the main event loop.\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/fastembed.py10-51](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L10-L51)\n\n## Provider Factory",
      "index": 2,
      "token_count": 437,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2.2-embedding-system",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "file_name": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.804111",
        "total_chunks": 6
      },
      "start_char": 3806,
      "end_char": 5778
    },
    {
      "content": "r-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L10-L51)\n\n## Provider Factory\n\nThe embedding system uses a factory pattern to create embedding providers based on configuration settings:\n\n```\n```\n\nThe `create_embedding_provider` factory function:\n\n1. Takes an `EmbeddingProviderSettings` instance as input\n2. Checks the `provider_type` field to determine which implementation to create\n3. Creates and returns the appropriate `EmbeddingProvider` implementation\n4. Raises a `ValueError` for unsupported provider types\n\nCurrently, only the `FASTEMBED` provider type is supported, defined in the `EmbeddingProviderType` enum.\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/factory.py6-17](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/factory.py#L6-L17) [src/mcp\\_server\\_qdrant/embeddings/types.py1-5](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/types.py#L1-L5)\n\n## Embedding Workflow\n\nThe following sequence diagram illustrates how the embedding system is used in the two main operations of the mcp-server-qdrant:\n\n```\n```\n\n1. **Store Operation**: When storing information, the text is first embedded into a vector before being stored in Qdrant\n2. **Find Operation**: When searching for information, the query text is embedded to perform semantic similarity search\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/fastembed.py20-36](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L20-L36)\n\n## Technical Implementation Details\n\n### Asynchronous Operation\n\nThe embedding interface is designed to be asynchronous, but the FastEmbed library provides synchronous methods. To bridge this gap, the `FastEmbedProvider` implementation runs the synchronous FastEmbed operations in thread pools:\n\n```\n```\n\nThis approach allows the server to handle multiple requests efficiently without being blocked by embedding operations.\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/fastembed.",
      "index": 3,
      "token_count": 499,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2.2-embedding-system",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "file_name": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.804111",
        "total_chunks": 6
      },
      "start_char": 5678,
      "end_char": 7711
    },
    {
      "content": "hout being blocked by embedding operations.\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/fastembed.py20-27](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L20-L27)\n\n### Vector Characteristics\n\nEach embedding model produces vectors with specific characteristics that need to be communicated to the Qdrant database:\n\n| Method              | Purpose                                          | Example (for FastEmbed)                 |\n| ------------------- | ------------------------------------------------ | --------------------------------------- |\n| `get_vector_name()` | Provides a unique identifier for the vector type | `\"fast-baai-bge-small-en\"`              |\n| `get_vector_size()` | Provides the dimensionality of the vectors       | Typically 384 or 768 depending on model |\n\nThe `FastEmbedProvider` implementation:\n\n- Generates vector names in the format `fast-{model_name}`\n- Retrieves the vector dimensionality from the model's metadata via `model_description.dim`\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/fastembed.py38-51](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/fastembed.py#L38-L51)\n\n## Extending the Embedding System\n\nTo add support for new embedding models or libraries:\n\n1. Add a new value to the `EmbeddingProviderType` enum in `types.py`\n2. Create a new implementation of the `EmbeddingProvider` interface\n3. Update the `create_embedding_provider` factory function to handle the new provider type\n\nThis modular design allows the system to evolve with minimal changes to existing code.\n\nSources: [src/mcp\\_server\\_qdrant/embeddings/types.py1-5](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/types.py#L1-L5) [src/mcp\\_server\\_qdrant/embeddings/factory.py6-17](https://github.com/qdrant/mcp-server-qdrant/blob/a3ab0b96/src/mcp_server_qdrant/embeddings/factory.py#L6-L17)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page",
      "index": 4,
      "token_count": 500,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2.2-embedding-system",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "file_name": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.804111",
        "total_chunks": 6
      },
      "start_char": 7611,
      "end_char": 9629
    },
    {
      "content": "mbeddings/factory.py#L6-L17)\n\nDismiss\n\nRefresh this wiki\n\nEnter email to refresh\n\n### On this page\n\n- [Embedding System](#embedding-system.md)\n- [System Overview](#system-overview.md)\n- [EmbeddingProvider Interface](#embeddingprovider-interface.md)\n- [FastEmbed Implementation](#fastembed-implementation.md)\n- [Provider Factory](#provider-factory.md)\n- [Embedding Workflow](#embedding-workflow.md)\n- [Technical Implementation Details](#technical-implementation-details.md)\n- [Asynchronous Operation](#asynchronous-operation.md)\n- [Vector Characteristics](#vector-characteristics.md)\n- [Extending the Embedding System](#extending-the-embedding-system.md)",
      "index": 5,
      "token_count": 154,
      "metadata": {
        "title": "_qdrant_mcp-server-qdrant_2.2-embedding-system",
        "source": "qdrant_mcp-server-qdrant\\_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "chunk_method": "simple_fallback",
        "source_repo": "qdrant_mcp-server-qdrant",
        "source_subdir": "root",
        "category": "general",
        "file_path": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "file_name": "_qdrant_mcp-server-qdrant_2.2-embedding-system.md",
        "collection": "qdrant_ecosystem",
        "processed_date": "2025-10-16T01:58:34.804111",
        "total_chunks": 6
      },
      "start_char": 9529,
      "end_char": 11577
    }
  ]
}