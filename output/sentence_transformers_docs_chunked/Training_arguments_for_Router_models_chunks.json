[
  {
    "chunk_id": "sentence_transformers_docs:UKPLab\\sentence-transformers\\Training_arguments_for_Router_models.md:chunk:0",
    "content": "args = SparseEncoderTrainingArguments(\n    router_mapping={\n        \"question\": \"query\",\n        \"answer\": \"document\",\n    },\n    learning_rate_mapping={\n        r\"SparseStaticEmbedding\\.*\": 1e-3,  # Higher LR for static embeddings\n    }\n)\n```\n\n**Sources:** [docs/sparse_encoder/training_overview.md:149-168]()\n\n### Multi-Dataset Training\n\nThe system supports training on multiple datasets simultaneously with different batch sampling strategies:\n\n```python\nargs = SparseEncoderTrainingArguments(\n    multi_dataset_batch_sampler=BatchSamplers.PROPORTIONAL,\n    batch_sampler=BatchSamplers.NO_DUPLICATES,\n)\n```\n\n**Sources:** [docs/sparse_encoder/training_overview.md:419-425]()\n\n### Memory Optimization\n\nFor large models, several memory optimization techniques are available:\n\n- **Gradient Checkpointing**: `gradient_checkpointing=True`\n- **Mixed Precision**: `fp16=True` or `bf16=True`\n- **Chunked Processing**: Configure `chunk_size` in `SpladePooling`\n- **Gradient Accumulation**: `gradient_accumulation_steps=N`",
    "metadata": {
      "source_file": "UKPLab\\sentence-transformers\\Training_arguments_for_Router_models.md",
      "source_collection": "sentence_transformers_docs",
      "subdirectory": "UKPLab",
      "filename": "Training_arguments_for_Router_models.md",
      "file_extension": ".md",
      "chunk_index": 0,
      "token_count": 242,
      "char_count": 1014,
      "start_char": 0,
      "end_char": 1016
    }
  },
  {
    "chunk_id": "sentence_transformers_docs:UKPLab\\sentence-transformers\\Training_arguments_for_Router_models.md:chunk:1",
    "content": "igure `chunk_size` in `SpladePooling`\n- **Gradient Accumulation**: `gradient_accumulation_steps=N`\n\n**Sources:** [docs/sparse_encoder/training_overview.md:400-425](), [sentence_transformers/sparse_encoder/models/SpladePooling.py:92-128]()",
    "metadata": {
      "source_file": "UKPLab\\sentence-transformers\\Training_arguments_for_Router_models.md",
      "source_collection": "sentence_transformers_docs",
      "subdirectory": "UKPLab",
      "filename": "Training_arguments_for_Router_models.md",
      "file_extension": ".md",
      "chunk_index": 1,
      "token_count": 68,
      "char_count": 238,
      "start_char": 916,
      "end_char": 1940
    }
  }
]