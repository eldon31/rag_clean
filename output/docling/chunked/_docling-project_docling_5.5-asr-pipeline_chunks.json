[
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:0",
    "content": "# ASR Pipeline\n\n\nRelevant source files\n\n- [.github/SECURITY.md](https://github.com/docling-project/docling/blob/f7244a43/.github/SECURITY.md)\n- [CHANGELOG.md](https://github.com/docling-project/docling/blob/f7244a43/CHANGELOG.md)\n- [CITATION.cff](https://github.com/docling-project/docling/blob/f7244a43/CITATION.cff)\n- [docling/datamodel/extraction.py](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/extraction.py)\n- [docling/document\\_extractor.py](https://github.com/docling-project/docling/blob/f7244a43/docling/document_extractor.py)\n- [docling/models/vlm\\_models\\_inline/nuextract\\_transformers\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/vlm_models_inline/nuextract_transformers_model.py)\n- [docling/pipeline/asr\\_pipeline.py](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py)\n- [docling/pipeline/base\\_extraction\\_pipeline.py](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_extraction_pipeline.py)\n- [docling/pipeline/base\\_pipeline.py](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py)\n- [docling/pipeline/extraction\\_vlm\\_pipeline.py](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/extraction_vlm_pipeline.py)\n- [docling/pipeline/simple\\_pipeline.py](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/simple_pipeline.py)\n- [docling/pipeline/threaded\\_standard\\_pdf\\_pipeline.py](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/threaded_standard_pdf_pipeline.py)\n- [docling/pipeline/vlm\\_pipeline.py](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/vlm_pipeline.py)\n- [pyproject.toml](https://github.com/docling-project/docling/blob/f7244a43/pyproject.toml)\n- [uv.lock](https://github.com/docling-project/docling/blob/f7244a43/uv.lock)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "ASR Pipeline",
      "heading_level": 1,
      "chunk_index": 0,
      "collection": "docling",
      "char_count": 1929,
      "estimated_tokens": 482,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:1",
    "content": "ng/pipeline/vlm_pipeline.py)\n- [pyproject.toml](https://github.com/docling-project/docling/blob/f7244a43/pyproject.toml)\n- [uv.lock](https://github.com/docling-project/docling/blob/f7244a43/uv.lock)\n\nThe ASR (Automatic Speech Recognition) Pipeline provides audio transcription capabilities within Docling, converting audio files into text-based `DoclingDocument` representations. This pipeline uses OpenAI's Whisper models to transcribe speech and generates structured output with optional timestamps and word-level segmentation.\n\nFor information about other pipeline types, see:\n\n- Standard PDF processing: [Standard PDF Pipeline](docling-project/docling/5.1-standard-pdf-pipeline.md)\n- Vision-based document processing: [VLM Pipeline](docling-project/docling/5.3-vlm-pipeline.md)\n- Structured data extraction: [Extraction Pipeline](docling-project/docling/5.4-extraction-pipeline.md)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "ASR Pipeline",
      "heading_level": 1,
      "chunk_index": 1,
      "collection": "docling",
      "char_count": 885,
      "estimated_tokens": 221,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:2",
    "content": "## Overview\n\n\nThe ASR Pipeline differs fundamentally from other Docling pipelines in several ways:\n\n1. **No page-based processing**: Audio files are not paginated, so the pipeline inherits directly from `BasePipeline` rather than `PaginatedPipeline`\n2. **Backend architecture**: Uses `NoOpBackend` since audio files don't require document parsing like PDFs\n3. **Output format**: Produces text-based `DoclingDocument` with conversation items containing transcribed text and optional timing information\n4. **Model dependency**: Requires the `openai-whisper` package (installable via `pip install openai-whisper` or `uv sync --extra asr`)\n\nSources: [docling/pipeline/asr\\_pipeline.py1-270](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L1-L270)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Overview",
      "heading_level": 2,
      "chunk_index": 2,
      "collection": "docling",
      "char_count": 785,
      "estimated_tokens": 196,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:3",
    "content": "## Architecture\n\n\n```\n```\n\n**Figure 1: ASR Pipeline Component Architecture**\n\nThe ASR Pipeline follows a streamlined architecture compared to document processing pipelines:\n\n- **NoOpBackend** provides access to the audio file path or stream without parsing\n- **\\_NativeWhisperModel** handles the actual transcription using Whisper\n- **\\_ConversationItem** structures represent transcribed segments with metadata\n- Final output is a `DoclingDocument` populated with `TextItem` elements\n\nSources: [docling/pipeline/asr\\_pipeline.py1-50](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L1-L50) [docling/pipeline/asr\\_pipeline.py232-270](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L232-L270)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Architecture",
      "heading_level": 2,
      "chunk_index": 3,
      "collection": "docling",
      "char_count": 776,
      "estimated_tokens": 194,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:4",
    "content": "### Class Hierarchy\n\n\n```\n```\n\n**Figure 2: ASR Pipeline Class Hierarchy**\n\nThe `AsrPipeline` class inherits directly from `BasePipeline` (not `PaginatedPipeline`) because audio files are not paginated.\n\nSources: [docling/pipeline/asr\\_pipeline.py232-270](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L232-L270) [docling/pipeline/base\\_pipeline.py43-133](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L43-L133)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Class Hierarchy",
      "heading_level": 3,
      "chunk_index": 4,
      "collection": "docling",
      "char_count": 499,
      "estimated_tokens": 124,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:5",
    "content": "### Initialization Process\n\n\nThe pipeline is initialized in `AsrPipeline.__init__()`:\n\n| Component          | Purpose                                   | Configuration Source          |\n| ------------------ | ----------------------------------------- | ----------------------------- |\n| `pipeline_options` | Contains ASR model configuration          | `AsrPipelineOptions`          |\n| `keep_backend`     | Set to `True` to retain backend reference | Fixed value                   |\n| `_model`           | Whisper transcription model wrapper       | `_NativeWhisperModel`         |\n| `artifacts_path`   | Model download/cache location             | Inherited from `BasePipeline` |\n\nThe initialization delegates model setup to `_NativeWhisperModel`:\n\n```\nAsrPipeline.__init__()\n  ├── super().__init__(pipeline_options)\n  │   └── Sets artifacts_path from options or settings\n  ├── self.keep_backend = True\n  └── self._model = _NativeWhisperModel(...)\n      ├── Import whisper package\n      ├── Set device (CPU/CUDA/MPS) based on accelerator_options\n      ├── Load Whisper model with name from asr_options.repo_id\n      └── Configure transcription parameters (verbose, timestamps, word_timestamps)\n```\n\nSources: [docling/pipeline/asr\\_pipeline.py233-251](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L233-L251) [docling/pipeline/asr\\_pipeline.py99-149](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L99-L149)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Initialization Process",
      "heading_level": 3,
      "chunk_index": 5,
      "collection": "docling",
      "char_count": 1494,
      "estimated_tokens": 373,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:6",
    "content": "## Audio Processing Flow\n\n\n```\n```\n\n**Figure 3: ASR Pipeline Execution Sequence**\n\nSources: [docling/pipeline/asr\\_pipeline.py260-265](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L260-L265) [docling/pipeline/asr\\_pipeline.py150-230](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L150-L230)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Audio Processing Flow",
      "heading_level": 2,
      "chunk_index": 6,
      "collection": "docling",
      "char_count": 379,
      "estimated_tokens": 94,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:7",
    "content": "### Step-by-Step Processing\n\n\n1. **Pipeline Entry** ([asr\\_pipeline.py260-265](https://github.com/docling-project/docling/blob/f7244a43/asr_pipeline.py#L260-L265)):\n\n   - `AsrPipeline._build_document()` is called by the base pipeline's `execute()` method\n   - Delegates immediately to `_NativeWhisperModel.run()`\n\n2. **Input Handling** ([asr\\_pipeline.py150-169](https://github.com/docling-project/docling/blob/f7244a43/asr_pipeline.py#L150-L169)):\n\n   - Accesses `path_or_stream` from the `NoOpBackend`\n   - For `BytesIO` inputs, creates a temporary file (Whisper requires file paths)\n   - For `Path` inputs, uses the path directly\n\n3. **Transcription** ([asr\\_pipeline.py171-189](https://github.com/docling-project/docling/blob/f7244a43/asr_pipeline.py#L171-L189)):\n\n   - Calls `_NativeWhisperModel.transcribe()` which invokes the Whisper model\n   - Whisper returns segments with text, start time, end time, and optionally word-level timestamps\n\n4. **Document Assembly** ([asr\\_pipeline.py174-188](https://github.com/docling-project/docling/blob/f7244a43/asr_pipeline.py#L174-L188)):\n\n   - Creates a `DoclingDocument` with proper `DocumentOrigin` metadata\n   - Iterates through conversation items\n   - Each item is added as a `TextItem` with `DocItemLabel.TEXT`\n\n5. **Cleanup** ([asr\\_pipeline.py197-205](https://github.com/docling-project/docling/blob/f7244a43/asr_pipeline.py#L197-L205)):\n\n   - Removes temporary files if created from `BytesIO` input\n\nSources: [docling/pipeline/asr\\_pipeline.py150-230](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L150-L230)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Step-by-Step Processing",
      "heading_level": 3,
      "chunk_index": 7,
      "collection": "docling",
      "char_count": 1608,
      "estimated_tokens": 402,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:8",
    "content": "### Model Wrapper: \\_NativeWhisperModel\n\n\nThe `_NativeWhisperModel` class encapsulates Whisper model loading and inference:\n\n| Property          | Type          | Purpose                       |\n| ----------------- | ------------- | ----------------------------- |\n| `enabled`         | `bool`        | Whether model is active       |\n| `device`          | `str`         | Compute device (cpu/cuda/mps) |\n| `model`           | Whisper model | Loaded Whisper model instance |\n| `max_tokens`      | `int`         | Maximum tokens per generation |\n| `temperature`     | `float`       | Sampling temperature          |\n| `verbose`         | `bool`        | Enable Whisper logging        |\n| `timestamps`      | `bool`        | Include segment timestamps    |\n| `word_timestamps` | `bool`        | Include word-level timestamps |",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Model Wrapper: \\_NativeWhisperModel",
      "heading_level": 3,
      "chunk_index": 8,
      "collection": "docling",
      "char_count": 824,
      "estimated_tokens": 206,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:9",
    "content": "### Model Loading Logic\n\n\n```\n```\n\n**Figure 4: Whisper Model Loading Flow**\n\nSources: [docling/pipeline/asr\\_pipeline.py99-149](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L99-L149)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Model Loading Logic",
      "heading_level": 3,
      "chunk_index": 9,
      "collection": "docling",
      "char_count": 227,
      "estimated_tokens": 56,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:10",
    "content": "### Device Selection\n\n\nThe model automatically selects the appropriate device using `decide_device()`:\n\n1. Checks `accelerator_options.device` setting\n2. Validates against `asr_options.supported_devices`\n3. Falls back to CPU if CUDA/MPS unavailable\n4. Logs the selected device for debugging\n\nSources: [docling/pipeline/asr\\_pipeline.py126-130](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L126-L130)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Device Selection",
      "heading_level": 3,
      "chunk_index": 10,
      "collection": "docling",
      "char_count": 444,
      "estimated_tokens": 111,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:11",
    "content": "### Transcription Output Structure\n\n\nThe `transcribe()` method returns a list of `_ConversationItem` objects:\n\n```\n```\n\nEach conversation item can be formatted as:\n\n```\n[time: 0.0-5.2] [speaker:speaker-1] Transcribed text goes here\n```\n\nSources: [docling/pipeline/asr\\_pipeline.py50-97](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L50-L97) [docling/pipeline/asr\\_pipeline.py207-229](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L207-L229)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Transcription Output Structure",
      "heading_level": 3,
      "chunk_index": 11,
      "collection": "docling",
      "char_count": 529,
      "estimated_tokens": 132,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:12",
    "content": "### AsrPipelineOptions\n\n\nThe `AsrPipelineOptions` class (defined in the options module, referenced in the code) configures the ASR pipeline:\n\n```\n```",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "AsrPipelineOptions",
      "heading_level": 3,
      "chunk_index": 12,
      "collection": "docling",
      "char_count": 149,
      "estimated_tokens": 37,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:13",
    "content": "### InlineAsrNativeWhisperOptions\n\n\nModel-specific configuration for native Whisper:\n\n| Option              | Type        | Default                 | Purpose                                              |\n| ------------------- | ----------- | ----------------------- | ---------------------------------------------------- |\n| `repo_id`           | `str`       | e.g., \"base\"            | Whisper model variant (tiny/base/small/medium/large) |\n| `max_new_tokens`    | `int`       | -                       | Maximum tokens to generate                           |\n| `temperature`       | `float`     | -                       | Sampling temperature                                 |\n| `verbose`           | `bool`      | `False`                 | Enable detailed logging                              |\n| `timestamps`        | `bool`      | `True`                  | Include segment timestamps                           |\n| `word_timestamps`   | `bool`      | `False`                 | Include word-level timestamps                        |\n| `supported_devices` | `list[str]` | \\[\"cuda\", \"cpu\", \"mps\"] | Allowed compute devices                              |\n\nSources: [docling/pipeline/asr\\_pipeline.py105-148](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L105-L148)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "InlineAsrNativeWhisperOptions",
      "heading_level": 3,
      "chunk_index": 13,
      "collection": "docling",
      "char_count": 1310,
      "estimated_tokens": 327,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:14",
    "content": "### Default Options\n\n\n```\n```\n\nThis provides default configuration when no options are explicitly specified.\n\nSources: [docling/pipeline/asr\\_pipeline.py256-258](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L256-L258)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Default Options",
      "heading_level": 3,
      "chunk_index": 14,
      "collection": "docling",
      "char_count": 262,
      "estimated_tokens": 65,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:15",
    "content": "### NoOpBackend Usage\n\n\nThe ASR pipeline uses `NoOpBackend` which provides minimal functionality:\n\n```\n```\n\n**Figure 5: NoOpBackend Role**\n\nThe backend's role is limited to:\n\n1. Storing the `path_or_stream` reference\n2. Providing file metadata (name, size, etc.)\n3. No parsing or structure extraction (unlike PDF backends)\n\nThe `is_backend_supported()` method validates this:\n\n```\n```\n\nSources: [docling/pipeline/asr\\_pipeline.py268-269](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L268-L269) [docling/backend/noop\\_backend.py1-20](https://github.com/docling-project/docling/blob/f7244a43/docling/backend/noop_backend.py#L1-L20) (referenced but not shown)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "NoOpBackend Usage",
      "heading_level": 3,
      "chunk_index": 15,
      "collection": "docling",
      "char_count": 701,
      "estimated_tokens": 175,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:16",
    "content": "### Input Handling: Path vs BytesIO\n\n\nThe pipeline handles two input types:\n\n| Input Type | Handling                  | Cleanup Required         |\n| ---------- | ------------------------- | ------------------------ |\n| `Path`     | Used directly by Whisper  | No                       |\n| `BytesIO`  | Written to temporary file | Yes (in `finally` block) |\n\n**Temporary File Creation**:\n\n```\n```\n\nThis approach is necessary because the Whisper library requires file paths for audio processing.\n\nSources: [docling/pipeline/asr\\_pipeline.py154-169](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L154-L169)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Input Handling: Path vs BytesIO",
      "heading_level": 3,
      "chunk_index": 16,
      "collection": "docling",
      "char_count": 647,
      "estimated_tokens": 161,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:17",
    "content": "### DoclingDocument Structure\n\n\nThe ASR pipeline creates a simple `DoclingDocument` structure:\n\n```\n```\n\n**Figure 6: ASR Output Document Structure**\n\nUnlike PDF documents, ASR output:\n\n- Has no page structure\n- No layout elements (headings, tables, figures)\n- Only text items with optional timestamps\n- No bounding boxes or provenance information\n\nSources: [docling/pipeline/asr\\_pipeline.py174-188](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L174-L188)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "DoclingDocument Structure",
      "heading_level": 3,
      "chunk_index": 17,
      "collection": "docling",
      "char_count": 500,
      "estimated_tokens": 125,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:18",
    "content": "### Text Formatting\n\n\nEach conversation item is formatted using `_ConversationItem.to_string()`:\n\n```\n```\n\nExample output:\n\n```\n[time: 0.0-5.234] This is the first transcribed segment\n[time: 5.234-10.512] This is the second segment with more text\n[time: 10.512-15.801] And this is the third segment\n```\n\nSources: [docling/pipeline/asr\\_pipeline.py86-96](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L86-L96)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Text Formatting",
      "heading_level": 3,
      "chunk_index": 18,
      "collection": "docling",
      "char_count": 452,
      "estimated_tokens": 113,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:19",
    "content": "### Exception Management\n\n\n```\n```\n\n**Figure 7: ASR Error Handling Flow**\n\nError handling includes:\n\n1. **Import errors**: Caught during initialization if `openai-whisper` not installed\n2. **Transcription errors**: Logged and set `status = FAILURE`\n3. **Cleanup guarantees**: Temporary files deleted in `finally` block\n4. **Graceful degradation**: Failed conversions return `ConversionResult` with `FAILURE` status\n\nSources: [docling/pipeline/asr\\_pipeline.py171-205](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L171-L205)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Exception Management",
      "heading_level": 3,
      "chunk_index": 19,
      "collection": "docling",
      "char_count": 568,
      "estimated_tokens": 142,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:20",
    "content": "### Status Determination\n\n\n```\n```\n\nThe ASR pipeline uses a simple status determination: if `_build_document()` completes without raising an exception, the status is `SUCCESS`. Unlike PDF pipelines, there's no concept of partial success (no page-level validation).\n\nSources: [docling/pipeline/asr\\_pipeline.py252-254](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L252-L254)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Status Determination",
      "heading_level": 3,
      "chunk_index": 20,
      "collection": "docling",
      "char_count": 418,
      "estimated_tokens": 104,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:21",
    "content": "## Integration with DocumentConverter\n\n\nThe ASR pipeline is automatically selected by `DocumentConverter` when processing audio formats:\n\n```\n```\n\n**Figure 8: ASR Pipeline Selection in DocumentConverter**\n\nThe format-to-pipeline mapping is configured in `DocumentConverter.format_to_options`:\n\n- Audio formats (MP3, WAV, etc.) → `AsrPipeline`\n- Uses `AudioBackend` or `NoOpBackend` for file access\n- Pipeline options can be customized per format\n\nSources: [docling/pipeline/asr\\_pipeline.py232-270](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L232-L270) [docling/document\\_converter.py1-500](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py#L1-L500) (referenced but not shown in detail)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Integration with DocumentConverter",
      "heading_level": 2,
      "chunk_index": 21,
      "collection": "docling",
      "char_count": 770,
      "estimated_tokens": 192,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:22",
    "content": "## Key Differences from Other Pipelines\n\n\n| Aspect           | ASR Pipeline       | PDF Pipelines         | VLM Pipeline          |\n| ---------------- | ------------------ | --------------------- | --------------------- |\n| Base class       | `BasePipeline`     | `PaginatedPipeline`   | `PaginatedPipeline`   |\n| Backend type     | `NoOpBackend`      | `PdfDocumentBackend`  | `PdfDocumentBackend`  |\n| Processing unit  | Entire audio file  | Individual pages      | Individual pages      |\n| Primary model    | Whisper (external) | Layout, Table, OCR    | Vision-Language Model |\n| Output structure | Sequential text    | Hierarchical document | Structured document   |\n| Temporal data    | Timestamps         | Page numbers          | Page numbers          |\n\nSources: [docling/pipeline/asr\\_pipeline.py232-270](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/asr_pipeline.py#L232-L270) [docling/pipeline/base\\_pipeline.py184-320](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/base_pipeline.py#L184-L320) [docling/pipeline/vlm\\_pipeline.py50-389](https://github.com/docling-project/docling/blob/f7244a43/docling/pipeline/vlm_pipeline.py#L50-L389)\n\nDismiss\n\nRefresh this wiki\n\nThis wiki was recently refreshed. Please wait 4 days to refresh again.",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "Key Differences from Other Pipelines",
      "heading_level": 2,
      "chunk_index": 22,
      "collection": "docling",
      "char_count": 1303,
      "estimated_tokens": 325,
      "total_chunks": 24
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_5.5-asr-pipeline.md:chunk:23",
    "content": "### On this page\n\n\n- [ASR Pipeline](#asr-pipeline.md)\n- [Overview](#overview.md)\n- [Architecture](#architecture.md)\n- [Pipeline Initialization](#pipeline-initialization.md)\n- [Class Hierarchy](#class-hierarchy.md)\n- [Initialization Process](#initialization-process.md)\n- [Audio Processing Flow](#audio-processing-flow.md)\n- [Step-by-Step Processing](#step-by-step-processing.md)\n- [Whisper Model Integration](#whisper-model-integration.md)\n- [Model Wrapper: \\_NativeWhisperModel](#model-wrapper-_nativewhispermodel.md)\n- [Model Loading Logic](#model-loading-logic.md)\n- [Device Selection](#device-selection.md)\n- [Transcription Output Structure](#transcription-output-structure.md)\n- [Configuration Options](#configuration-options.md)\n- [AsrPipelineOptions](#asrpipelineoptions.md)\n- [InlineAsrNativeWhisperOptions](#inlineasrnativewhisperoptions.md)\n- [Default Options](#default-options.md)\n- [Backend Integration](#backend-integration.md)\n- [NoOpBackend Usage](#noopbackend-usage.md)\n- [Input Handling: Path vs BytesIO](#input-handling-path-vs-bytesio.md)\n- [Output Format](#output-format.md)\n- [DoclingDocument Structure](#doclingdocument-structure.md)\n- [Text Formatting](#text-formatting.md)\n- [Error Handling](#error-handling.md)\n- [Exception Management](#exception-management.md)\n- [Status Determination](#status-determination.md)\n- [Usage Example](#usage-example.md)\n- [Integration with DocumentConverter](#integration-with-documentconverter.md)\n- [Key Differences from Other Pipelines](#key-differences-from-other-pipelines.md)",
    "metadata": {
      "source": "_docling-project_docling_5.5-asr-pipeline.md",
      "heading": "On this page",
      "heading_level": 3,
      "chunk_index": 23,
      "collection": "docling",
      "char_count": 1536,
      "estimated_tokens": 384,
      "total_chunks": 24
    }
  }
]