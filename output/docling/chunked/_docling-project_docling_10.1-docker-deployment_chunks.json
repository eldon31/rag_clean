[
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:0",
    "content": "# Docker Deployment\n\n\nRelevant source files\n\n- [.github/SECURITY.md](https://github.com/docling-project/docling/blob/f7244a43/.github/SECURITY.md)\n- [CHANGELOG.md](https://github.com/docling-project/docling/blob/f7244a43/CHANGELOG.md)\n- [CITATION.cff](https://github.com/docling-project/docling/blob/f7244a43/CITATION.cff)\n- [docling/cli/main.py](https://github.com/docling-project/docling/blob/f7244a43/docling/cli/main.py)\n- [docling/datamodel/base\\_models.py](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/base_models.py)\n- [docling/datamodel/document.py](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/document.py)\n- [docling/datamodel/pipeline\\_options.py](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/pipeline_options.py)\n- [docling/document\\_converter.py](https://github.com/docling-project/docling/blob/f7244a43/docling/document_converter.py)\n- [pyproject.toml](https://github.com/docling-project/docling/blob/f7244a43/pyproject.toml)\n- [uv.lock](https://github.com/docling-project/docling/blob/f7244a43/uv.lock)\n\nThis document covers containerized deployment of Docling using Docker, including Dockerfile configuration, environment setup, model management, and production deployment considerations. For information about model artifacts management and caching strategies, see [Model Artifacts Management](docling-project/docling/10.2-model-artifacts-management.md). For general development and testing setup, see [Development and Testing](docling-project/docling/9-development-and-testing.md).",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Docker Deployment",
      "heading_level": 1,
      "chunk_index": 0,
      "collection": "docling",
      "char_count": 1589,
      "estimated_tokens": 397,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:1",
    "content": "## Container Architecture Overview\n\n\nDocling's Docker deployment provides a self-contained environment that includes the Python SDK, AI models, and all necessary system dependencies. The containerization approach enables consistent deployment across different environments while managing the complexity of AI model dependencies.\n\n```\n```\n\n**Container Architecture**: The Docker image packages Docling with pre-downloaded AI models and optimized environment settings for container deployment.\n\nSources: [Dockerfile1-30](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L1-L30)",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Container Architecture Overview",
      "heading_level": 2,
      "chunk_index": 1,
      "collection": "docling",
      "char_count": 594,
      "estimated_tokens": 148,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:2",
    "content": "## Dockerfile Configuration Analysis\n\n\nThe Docling Dockerfile implements a multi-stage approach that optimizes for both functionality and container size:",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Dockerfile Configuration Analysis",
      "heading_level": 2,
      "chunk_index": 2,
      "collection": "docling",
      "char_count": 153,
      "estimated_tokens": 38,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:3",
    "content": "### Base Image and System Dependencies\n\n\nThe container uses `python:3.11-slim-bookworm` as the base image and installs essential system libraries required for AI processing:\n\n[Dockerfile1-8](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L1-L8) establishes the foundation with:\n\n- OpenGL support (`libgl1`) for image processing\n- GLib libraries (`libglib2.0-0`) for low-level operations\n- Git, curl, wget for model downloading and updates\n- Process utilities (`procps`) for container management",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Base Image and System Dependencies",
      "heading_level": 3,
      "chunk_index": 3,
      "collection": "docling",
      "char_count": 515,
      "estimated_tokens": 128,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:4",
    "content": "### PyTorch CPU-Only Installation\n\n\nThe installation specifically targets CPU-only PyTorch deployment to minimize container size:\n\n[Dockerfile12](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L12-L12) installs Docling with CPU-optimized dependencies using the PyTorch CPU wheel index. This approach reduces the container size significantly compared to GPU-enabled installations.",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "PyTorch CPU-Only Installation",
      "heading_level": 3,
      "chunk_index": 4,
      "collection": "docling",
      "char_count": 400,
      "estimated_tokens": 100,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:5",
    "content": "### Environment Optimization\n\n\nCritical environment variables are configured for container environments:\n\n| Variable          | Value   | Purpose                    |\n| ----------------- | ------- | -------------------------- |\n| `HF_HOME`         | `/tmp/` | HuggingFace cache location |\n| `TORCH_HOME`      | `/tmp/` | PyTorch model cache        |\n| `OMP_NUM_THREADS` | `4`     | Thread budget control      |\n\n[Dockerfile14-22](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L14-L22) sets these variables to optimize memory usage and prevent thread congestion in containerized environments.\n\nSources: [Dockerfile1-22](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L1-L22)",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Environment Optimization",
      "heading_level": 3,
      "chunk_index": 5,
      "collection": "docling",
      "char_count": 716,
      "estimated_tokens": 179,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:6",
    "content": "## Model Pre-loading Strategy\n\n\nThe Dockerfile implements a model pre-loading strategy to optimize container startup time:\n\n```\n```\n\n**Model Pre-loading Flow**: Models are downloaded during container build and can be accessed at runtime through environment variable configuration.\n\n[Dockerfile19](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L19-L19) executes `docling-tools models download` during the build process, ensuring all required AI models are available immediately when the container starts.\n\nThe runtime configuration [Dockerfile28-29](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L28-L29) shows how to use pre-loaded models by setting `DOCLING_ARTIFACTS_PATH=/root/.cache/docling/models`.\n\nSources: [Dockerfile19](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L19-L19) [Dockerfile28-29](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L28-L29)",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Model Pre-loading Strategy",
      "heading_level": 2,
      "chunk_index": 6,
      "collection": "docling",
      "char_count": 944,
      "estimated_tokens": 236,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:7",
    "content": "### Basic Container Execution\n\n\nThe container includes a minimal example for immediate testing:\n\n[Dockerfile17](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L17-L17) copies `docs/examples/minimal.py` to `/root/minimal.py`, providing a ready-to-run example that demonstrates basic document conversion functionality.",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Basic Container Execution",
      "heading_level": 3,
      "chunk_index": 7,
      "collection": "docling",
      "char_count": 337,
      "estimated_tokens": 84,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:8",
    "content": "### Environment Variable Configuration\n\n\nFor production deployment, several environment variables control container behavior:\n\n```\n```",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Environment Variable Configuration",
      "heading_level": 3,
      "chunk_index": 8,
      "collection": "docling",
      "char_count": 134,
      "estimated_tokens": 33,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:9",
    "content": "### Volume Mounting for Production\n\n\nProduction deployments typically require volume mounting for input/output operations:\n\n```\n```\n\nSources: [Dockerfile17](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L17-L17) [Dockerfile28-29](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L28-L29)",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Volume Mounting for Production",
      "heading_level": 3,
      "chunk_index": 9,
      "collection": "docling",
      "char_count": 328,
      "estimated_tokens": 82,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:10",
    "content": "### Thread Management\n\n\n[Dockerfile22](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L22-L22) sets `OMP_NUM_THREADS=4` to prevent thread congestion in container environments. This setting should be adjusted based on:\n\n- Available CPU cores in the container\n- Concurrent container instances\n- Memory constraints\n- Expected document processing load",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Thread Management",
      "heading_level": 3,
      "chunk_index": 10,
      "collection": "docling",
      "char_count": 368,
      "estimated_tokens": 92,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:11",
    "content": "### Memory Optimization\n\n\nThe container configuration optimizes memory usage through:\n\n- **Temporary cache locations**: Using `/tmp/` for model caches reduces persistent storage requirements\n- **CPU-only PyTorch**: Eliminates GPU memory overhead\n- **Slim base image**: Minimizes container footprint",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Memory Optimization",
      "heading_level": 3,
      "chunk_index": 11,
      "collection": "docling",
      "char_count": 298,
      "estimated_tokens": 74,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:12",
    "content": "### Model Loading Optimization\n\n\nThe pre-loading strategy eliminates cold start delays but requires consideration of:\n\n- Container image size increase due to embedded models\n- Alternative approaches using persistent volumes for model caching\n- Trade-offs between startup time and image size\n\nSources: [Dockerfile14-16](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L14-L16) [Dockerfile22](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L22-L22)",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Model Loading Optimization",
      "heading_level": 3,
      "chunk_index": 12,
      "collection": "docling",
      "char_count": 487,
      "estimated_tokens": 121,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:13",
    "content": "### Stateless Container Design\n\n\nThe Dockerfile implements a stateless container pattern where:\n\n- Models are either pre-loaded or mounted from external volumes\n- Processing state is not persisted within the container\n- Input/output operations use mounted volumes or network endpoints",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Stateless Container Design",
      "heading_level": 3,
      "chunk_index": 13,
      "collection": "docling",
      "char_count": 284,
      "estimated_tokens": 71,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:14",
    "content": "### Scaling Considerations\n\n\nFor horizontal scaling, consider:\n\n- Shared model cache volumes across container instances\n- Load balancing for document processing requests\n- Resource allocation based on document types and processing complexity",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Scaling Considerations",
      "heading_level": 3,
      "chunk_index": 14,
      "collection": "docling",
      "char_count": 241,
      "estimated_tokens": 60,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:15",
    "content": "### Security Configuration\n\n\nContainer security best practices include:\n\n- Running with non-root user (not implemented in current Dockerfile)\n- Limiting container capabilities\n- Securing model artifact access\n- Network isolation for processing workloads\n\nSources: [Dockerfile1-30](https://github.com/docling-project/docling/blob/f7244a43/Dockerfile#L1-L30)\n\nDismiss\n\nRefresh this wiki\n\nThis wiki was recently refreshed. Please wait 4 days to refresh again.",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "Security Configuration",
      "heading_level": 3,
      "chunk_index": 15,
      "collection": "docling",
      "char_count": 456,
      "estimated_tokens": 114,
      "total_chunks": 17
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_10.1-docker-deployment.md:chunk:16",
    "content": "### On this page\n\n\n- [Docker Deployment](#docker-deployment.md)\n- [Container Architecture Overview](#container-architecture-overview.md)\n- [Dockerfile Configuration Analysis](#dockerfile-configuration-analysis.md)\n- [Base Image and System Dependencies](#base-image-and-system-dependencies.md)\n- [PyTorch CPU-Only Installation](#pytorch-cpu-only-installation.md)\n- [Environment Optimization](#environment-optimization.md)\n- [Model Pre-loading Strategy](#model-pre-loading-strategy.md)\n- [Runtime Configuration and Usage](#runtime-configuration-and-usage.md)\n- [Basic Container Execution](#basic-container-execution.md)\n- [Environment Variable Configuration](#environment-variable-configuration.md)\n- [Volume Mounting for Production](#volume-mounting-for-production.md)\n- [Performance Considerations](#performance-considerations.md)\n- [Thread Management](#thread-management.md)\n- [Memory Optimization](#memory-optimization.md)\n- [Model Loading Optimization](#model-loading-optimization.md)\n- [Production Deployment Patterns](#production-deployment-patterns.md)\n- [Stateless Container Design](#stateless-container-design.md)\n- [Scaling Considerations](#scaling-considerations.md)\n- [Security Configuration](#security-configuration.md)",
    "metadata": {
      "source": "_docling-project_docling_10.1-docker-deployment.md",
      "heading": "On this page",
      "heading_level": 3,
      "chunk_index": 16,
      "collection": "docling",
      "char_count": 1231,
      "estimated_tokens": 307,
      "total_chunks": 17
    }
  }
]