[
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:0",
    "content": "# OCR Models\n\n\nRelevant source files\n\n- [docling/cli/models.py](https://github.com/docling-project/docling/blob/f7244a43/docling/cli/models.py)\n- [docling/models/auto\\_ocr\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/auto_ocr_model.py)\n- [docling/models/picture\\_description\\_vlm\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/picture_description_vlm_model.py)\n- [docling/models/plugins/defaults.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/plugins/defaults.py)\n- [docling/models/rapid\\_ocr\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/rapid_ocr_model.py)\n- [docling/models/tesseract\\_ocr\\_cli\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/tesseract_ocr_cli_model.py)\n- [docling/models/tesseract\\_ocr\\_model.py](https://github.com/docling-project/docling/blob/f7244a43/docling/models/tesseract_ocr_model.py)\n- [docling/utils/model\\_downloader.py](https://github.com/docling-project/docling/blob/f7244a43/docling/utils/model_downloader.py)\n- [tests/data\\_scanned/sample\\_with\\_rotation\\_mismatch.pdf](https://github.com/docling-project/docling/blob/f7244a43/tests/data_scanned/sample_with_rotation_mismatch.pdf)\n- [tests/test\\_backend\\_docling\\_parse.py](https://github.com/docling-project/docling/blob/f7244a43/tests/test_backend_docling_parse.py)\n- [tests/test\\_backend\\_docling\\_parse\\_v2.py](https://github.com/docling-project/docling/blob/f7244a43/tests/test_backend_docling_parse_v2.py)\n- [tests/test\\_backend\\_pdfium.py](https://github.com/docling-project/docling/blob/f7244a43/tests/test_backend_pdfium.py)\n- [tests/test\\_e2e\\_ocr\\_conversion.py](https://github.com/docling-project/docling/blob/f7244a43/tests/test_e2e_ocr_conversion.py)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "OCR Models",
      "heading_level": 1,
      "chunk_index": 0,
      "collection": "docling",
      "char_count": 1824,
      "estimated_tokens": 456,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:1",
    "content": "docling-project/docling/blob/f7244a43/tests/test_backend_pdfium.py)\n- [tests/test\\_e2e\\_ocr\\_conversion.py](https://github.com/docling-project/docling/blob/f7244a43/tests/test_e2e_ocr_conversion.py)\n\nThis document covers the Optical Character Recognition (OCR) models and engines available in Docling's document processing pipeline. OCR models are responsible for extracting text from image regions in documents, particularly scanned PDFs and bitmap areas where programmatic text extraction is not possible.\n\nFor information about layout analysis and document structure recognition, see [Layout and Table Structure Models](docling-project/docling/4.2-layout-and-table-structure-models.md). For details about vision-language models that can understand document content, see [Vision Language Models](docling-project/docling/4.3-vision-language-models.md).",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "OCR Models",
      "heading_level": 1,
      "chunk_index": 1,
      "collection": "docling",
      "char_count": 853,
      "estimated_tokens": 213,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:2",
    "content": "## OCR Architecture Overview\n\n\nDocling provides a flexible OCR framework that supports multiple OCR engines through a common interface. The system automatically detects areas requiring OCR processing and applies the configured engine to extract text.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "OCR Architecture Overview",
      "heading_level": 2,
      "chunk_index": 2,
      "collection": "docling",
      "char_count": 250,
      "estimated_tokens": 62,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:3",
    "content": "### OCR Model Class Hierarchy\n\n\n```\n```\n\n**Sources:** [docling/models/base\\_ocr\\_model.py24-228](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_ocr_model.py#L24-L228) [docling/models/tesseract\\_ocr\\_model.py29-255](https://github.com/docling-project/docling/blob/f7244a43/docling/models/tesseract_ocr_model.py#L29-L255) [docling/models/tesseract\\_ocr\\_cli\\_model.py35-328](https://github.com/docling-project/docling/blob/f7244a43/docling/models/tesseract_ocr_cli_model.py#L35-L328) [docling/models/easyocr\\_model.py28-201](https://github.com/docling-project/docling/blob/f7244a43/docling/models/easyocr_model.py#L28-L201)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "OCR Model Class Hierarchy",
      "heading_level": 3,
      "chunk_index": 3,
      "collection": "docling",
      "char_count": 651,
      "estimated_tokens": 162,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:4",
    "content": "## Base OCR Model Framework\n\n\nThe `BaseOcrModel` class provides the foundation for all OCR implementations in Docling. It defines the common interface and shared functionality used by all OCR engines.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Base OCR Model Framework",
      "heading_level": 2,
      "chunk_index": 4,
      "collection": "docling",
      "char_count": 200,
      "estimated_tokens": 50,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:5",
    "content": "### Core Functionality\n\n\n| Method                 | Purpose                                              | Implementation                                     |\n| ---------------------- | ---------------------------------------------------- | -------------------------------------------------- |\n| `get_ocr_rects()`      | Identifies bitmap regions requiring OCR              | Uses bitmap detection and morphological operations |\n| `post_process_cells()` | Integrates OCR results with existing text            | Handles cell filtering and re-indexing             |\n| `_filter_ocr_cells()`  | Removes OCR cells overlapping with programmatic text | Uses R-tree spatial indexing for efficiency        |\n| `_combine_cells()`     | Merges OCR and programmatic text cells               | Handles full-page OCR vs. selective OCR modes      |",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Core Functionality",
      "heading_level": 3,
      "chunk_index": 5,
      "collection": "docling",
      "char_count": 834,
      "estimated_tokens": 208,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:6",
    "content": "### OCR Region Detection\n\n\nThe base class implements intelligent OCR region detection in `get_ocr_rects()`:\n\n1. **Bitmap Analysis**: Identifies image regions in the document using `page._backend.get_bitmap_rects()`\n2. **Morphological Processing**: Uses binary dilation to merge nearby bitmap regions\n3. **Coverage Calculation**: Determines if full-page OCR is needed based on bitmap coverage\n4. **Threshold-based Decision**: Compares coverage against `bitmap_area_threshold` and `force_full_page_ocr` settings\n\n**Sources:** [docling/models/base\\_ocr\\_model.py40-113](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_ocr_model.py#L40-L113) [docling/models/base\\_ocr\\_model.py140-172](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_ocr_model.py#L140-L172)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "OCR Region Detection",
      "heading_level": 3,
      "chunk_index": 6,
      "collection": "docling",
      "char_count": 811,
      "estimated_tokens": 202,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:7",
    "content": "## Supported OCR Engines\n\n\nDocling supports multiple OCR engines through a plugin-based architecture. Each engine has specific strengths and implementation characteristics.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Supported OCR Engines",
      "heading_level": 2,
      "chunk_index": 7,
      "collection": "docling",
      "char_count": 172,
      "estimated_tokens": 43,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:8",
    "content": "### OcrAutoModel (Automatic Engine Selection)\n\n\nThe `OcrAutoModel` implements intelligent fallback logic to automatically select the best available OCR engine on the current system.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "OcrAutoModel (Automatic Engine Selection)",
      "heading_level": 3,
      "chunk_index": 8,
      "collection": "docling",
      "char_count": 181,
      "estimated_tokens": 45,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:9",
    "content": "#### Selection Priority\n\n\nThe auto-selection follows this priority order:\n\n1. **OcrMac** (Darwin/macOS only) - Native macOS OCR API via `ocrmac` library\n2. **RapidOcrModel** with ONNX backend - If `onnxruntime` is installed\n3. **EasyOcrModel** - If `easyocr` is installed\n4. **RapidOcrModel** with Torch backend - If `torch` is installed",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Selection Priority",
      "heading_level": 4,
      "chunk_index": 9,
      "collection": "docling",
      "char_count": 337,
      "estimated_tokens": 84,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:10",
    "content": "#### Implementation\n\n\nThe selection logic is implemented in `OcrAutoModel.__init__()`:\n\n```\n```\n\n**Sources:** [docling/models/auto\\_ocr\\_model.py25-133](https://github.com/docling-project/docling/blob/f7244a43/docling/models/auto_ocr_model.py#L25-L133)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Implementation",
      "heading_level": 4,
      "chunk_index": 10,
      "collection": "docling",
      "char_count": 252,
      "estimated_tokens": 63,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:11",
    "content": "### RapidOcrModel\n\n\nThe `RapidOcrModel` provides a lightweight OCR solution with multiple backend options (ONNX and PyTorch).",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "RapidOcrModel",
      "heading_level": 3,
      "chunk_index": 11,
      "collection": "docling",
      "char_count": 125,
      "estimated_tokens": 31,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:12",
    "content": "#### Architecture\n\n\nRapidOCR uses a three-stage pipeline:\n\n- **Detection**: Locates text regions in images\n- **Classification**: Determines text orientation\n- **Recognition**: Extracts text from detected regions",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Architecture",
      "heading_level": 4,
      "chunk_index": 12,
      "collection": "docling",
      "char_count": 211,
      "estimated_tokens": 52,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:13",
    "content": "#### Backend Support\n\n\n| Backend       | Library        | Use Case                         |\n| ------------- | -------------- | -------------------------------- |\n| `onnxruntime` | ONNX Runtime   | Default, CPU-optimized inference |\n| `torch`       | PyTorch        | GPU acceleration support         |\n| `openvino`    | Intel OpenVINO | Intel hardware optimization      |\n| `paddle`      | PaddlePaddle   | PaddleOCR native backend         |",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Backend Support",
      "heading_level": 4,
      "chunk_index": 13,
      "collection": "docling",
      "char_count": 442,
      "estimated_tokens": 110,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:14",
    "content": "#### Configuration Options\n\n\nRapidOcrOptions provides extensive control over the OCR pipeline:\n\n| Option            | Type             | Default         | Description                       |\n| ----------------- | ---------------- | --------------- | --------------------------------- |\n| `backend`         | `str`            | `\"onnxruntime\"` | Backend engine to use             |\n| `use_det`         | `bool`           | `True`          | Enable text detection             |\n| `use_cls`         | `bool`           | `True`          | Enable orientation classification |\n| `use_rec`         | `bool`           | `True`          | Enable text recognition           |\n| `text_score`      | `float`          | `0.5`           | Minimum confidence threshold      |\n| `det_model_path`  | `Optional[str]`  | `None`          | Custom detection model path       |\n| `cls_model_path`  | `Optional[str]`  | `None`          | Custom classification model path  |\n| `rec_model_path`  | `Optional[str]`  | `None`          | Custom recognition model path     |\n| `rec_keys_path`   | `Optional[str]`  | `None`          | Custom character dictionary path  |\n| `rapidocr_params` | `Optional[dict]` | `None`          | Advanced RapidOCR parameters      |",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Configuration Options",
      "heading_level": 4,
      "chunk_index": 14,
      "collection": "docling",
      "char_count": 1235,
      "estimated_tokens": 308,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:15",
    "content": "#### Processing Flow\n\n\nThe implementation in `RapidOcrModel.__call__()` processes each OCR rectangle:\n\n1. Extract image region with 3x scaling (216 DPI)\n2. Convert to numpy array\n3. Call `self.reader(im, use_det=..., use_cls=..., use_rec=...)`\n4. Parse results as `(boxes, texts, scores)` tuples\n5. Transform coordinates back to page coordinate system\n6. Create `TextCell` objects with bounding rectangles\n\n**Sources:** [docling/models/rapid\\_ocr\\_model.py36-306](https://github.com/docling-project/docling/blob/f7244a43/docling/models/rapid_ocr_model.py#L36-L306)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Processing Flow",
      "heading_level": 4,
      "chunk_index": 15,
      "collection": "docling",
      "char_count": 564,
      "estimated_tokens": 141,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:16",
    "content": "### TesseractOcrModel\n\n\nThe `TesseractOcrModel` provides direct integration with Tesseract via the `tesserocr` Python binding.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "TesseractOcrModel",
      "heading_level": 3,
      "chunk_index": 16,
      "collection": "docling",
      "char_count": 126,
      "estimated_tokens": 31,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:17",
    "content": "#### Key Features\n\n\n- **Direct API Access**: Uses `tesserocr.PyTessBaseAPI` for optimal performance\n- **Automatic Language Detection**: Script detection with automatic language switching via `lang=[\"auto\"]`\n- **Orientation Detection**: OSD (Orientation and Script Detection) via separate `osd_reader`\n- **Multi-script Support**: Maintains separate `script_readers` dictionary for detected scripts\n- **PSM Configuration**: Configurable Page Segmentation Mode via `psm` option",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Key Features",
      "heading_level": 4,
      "chunk_index": 17,
      "collection": "docling",
      "char_count": 474,
      "estimated_tokens": 118,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:18",
    "content": "#### Language Detection Implementation\n\n\nWhen `lang=[\"auto\"]` is configured:\n\n1. **OSD Detection**: `osd_reader.DetectOrientationScript()` identifies script and orientation\n2. **Script Mapping**: `map_tesseract_script()` converts Tesseract script names to language codes\n3. **Language Validation**: Checks if detected language exists in `_tesserocr_languages`\n4. **Reader Creation**: Creates script-specific `PyTessBaseAPI` instance and caches in `script_readers`\n5. **Dynamic Switching**: Uses appropriate reader for each OCR rectangle",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Language Detection Implementation",
      "heading_level": 4,
      "chunk_index": 18,
      "collection": "docling",
      "char_count": 536,
      "estimated_tokens": 134,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:19",
    "content": "#### Configuration Options\n\n\n| Option | Type            | Default   | Description                                |\n| ------ | --------------- | --------- | ------------------------------------------ |\n| `lang` | `List[str]`     | `[\"eng\"]` | Language codes or `[\"auto\"]` for detection |\n| `path` | `Optional[str]` | `None`    | Custom tessdata directory path             |\n| `psm`  | `Optional[int]` | `None`    | Page Segmentation Mode (0-13)              |\n\n**Sources:** [docling/models/tesseract\\_ocr\\_model.py29-265](https://github.com/docling-project/docling/blob/f7244a43/docling/models/tesseract_ocr_model.py#L29-L265)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Configuration Options",
      "heading_level": 4,
      "chunk_index": 19,
      "collection": "docling",
      "char_count": 625,
      "estimated_tokens": 156,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:20",
    "content": "### TesseractOcrCliModel\n\n\nThe `TesseractOcrCliModel` provides CLI-based Tesseract integration as an alternative when `tesserocr` binding is unavailable.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "TesseractOcrCliModel",
      "heading_level": 3,
      "chunk_index": 20,
      "collection": "docling",
      "char_count": 153,
      "estimated_tokens": 38,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:21",
    "content": "#### Implementation Characteristics\n\n\n- **Subprocess Execution**: Uses `subprocess.run()` to invoke tesseract CLI\n- **TSV Output**: Parses Tesseract's tab-separated value output format\n- **Temporary Files**: Creates temporary PNG files for each OCR rectangle\n- **OSD via CLI**: Runs `tesseract --psm 0 -l osd` for orientation detection\n- **Language Enumeration**: Uses `tesseract --list-langs` to discover installed languages",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Implementation Characteristics",
      "heading_level": 4,
      "chunk_index": 21,
      "collection": "docling",
      "char_count": 425,
      "estimated_tokens": 106,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:22",
    "content": "#### Key Methods\n\n\n| Method                        | Purpose                                                 |\n| ----------------------------- | ------------------------------------------------------- |\n| `_get_name_and_version()`     | Executes `tesseract --version` to validate installation |\n| `_set_languages_and_prefix()` | Discovers installed languages and script prefix         |\n| `_perform_osd()`              | Runs OSD mode for orientation/script detection          |\n| `_parse_language()`           | Maps detected script to language code                   |\n| `_run_tesseract()`            | Executes main OCR with language and PSM settings        |",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Key Methods",
      "heading_level": 4,
      "chunk_index": 22,
      "collection": "docling",
      "char_count": 662,
      "estimated_tokens": 165,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:23",
    "content": "#### Configuration Options\n\n\n| Option          | Type            | Default       | Description                  |\n| --------------- | --------------- | ------------- | ---------------------------- |\n| `tesseract_cmd` | `str`           | `\"tesseract\"` | Path to tesseract executable |\n| `lang`          | `List[str]`     | `[\"eng\"]`     | Language codes or `[\"auto\"]` |\n| `path`          | `Optional[str]` | `None`        | Custom tessdata directory    |\n| `psm`           | `Optional[int]` | `None`        | Page Segmentation Mode       |\n\n**Sources:** [docling/models/tesseract\\_ocr\\_cli\\_model.py35-332](https://github.com/docling-project/docling/blob/f7244a43/docling/models/tesseract_ocr_cli_model.py#L35-L332)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Configuration Options",
      "heading_level": 4,
      "chunk_index": 23,
      "collection": "docling",
      "char_count": 714,
      "estimated_tokens": 178,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:24",
    "content": "### EasyOcrModel\n\n\nThe `EasyOcrModel` integrates the EasyOCR library, providing deep learning-based OCR.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "EasyOcrModel",
      "heading_level": 3,
      "chunk_index": 24,
      "collection": "docling",
      "char_count": 104,
      "estimated_tokens": 26,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:25",
    "content": "#### Key Features\n\n\n- **GPU Acceleration**: Supports CUDA and MPS via `accelerator_options`\n- **Neural Networks**: Uses deep learning models for text recognition\n- **Multi-language**: Built-in support for 80+ languages\n- **Model Management**: Automatic model downloading via `download_models()` static method",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Key Features",
      "heading_level": 4,
      "chunk_index": 25,
      "collection": "docling",
      "char_count": 308,
      "estimated_tokens": 77,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:26",
    "content": "#### Configuration Options\n\n\n| Option                    | Type             | Default      | Description                                |\n| ------------------------- | ---------------- | ------------ | ------------------------------------------ |\n| `lang`                    | `List[str]`      | `[\"en\"]`     | EasyOCR language codes                     |\n| `use_gpu`                 | `Optional[bool]` | `None`       | GPU usage (auto-detected from accelerator) |\n| `confidence_threshold`    | `float`          | `0.5`        | Minimum confidence for results             |\n| `recog_network`           | `str`            | `\"standard\"` | Recognition network architecture           |\n| `model_storage_directory` | `Optional[str]`  | `None`       | Custom model cache directory               |\n\n**Sources:** [docling/models/easyocr\\_model.py28-201](https://github.com/docling-project/docling/blob/f7244a43/docling/models/easyocr_model.py#L28-L201)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Configuration Options",
      "heading_level": 4,
      "chunk_index": 26,
      "collection": "docling",
      "char_count": 945,
      "estimated_tokens": 236,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:27",
    "content": "### OcrMacModel\n\n\nThe `OcrMacModel` provides macOS-specific OCR using native system APIs via the `ocrmac` library.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "OcrMacModel",
      "heading_level": 3,
      "chunk_index": 27,
      "collection": "docling",
      "char_count": 114,
      "estimated_tokens": 28,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:28",
    "content": "#### Platform Requirements\n\n\n- **Platform**: macOS (Darwin) only\n- **Library**: `ocrmac` Python package\n- **System**: Uses macOS Vision framework\n\n**Sources:** [docling/models/auto\\_ocr\\_model.py43-58](https://github.com/docling-project/docling/blob/f7244a43/docling/models/auto_ocr_model.py#L43-L58)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Platform Requirements",
      "heading_level": 4,
      "chunk_index": 28,
      "collection": "docling",
      "char_count": 300,
      "estimated_tokens": 75,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:29",
    "content": "## OCR Processing Pipeline\n\n\nThe OCR processing flow integrates with Docling's document processing pipeline through the `BaseOcrModel` framework.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "OCR Processing Pipeline",
      "heading_level": 2,
      "chunk_index": 29,
      "collection": "docling",
      "char_count": 145,
      "estimated_tokens": 36,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:30",
    "content": "### Coordinate Transformation\n\n\nOCR engines return coordinates in the scaled image space. The `tesseract_box_to_bounding_rectangle()` utility transforms these to page coordinates:\n\n1. **Apply Rotation**: If document has rotation from OSD, apply inverse rotation\n2. **Scale Factor**: Divide by scale factor (typically 3)\n3. **Offset Translation**: Add OCR rectangle origin offset\n4. **Coordinate Origin**: Convert from TOPLEFT to BOTTOMLEFT if needed\n\n**Sources:** [docling/models/base\\_ocr\\_model.py40-228](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_ocr_model.py#L40-L228) [docling/models/tesseract\\_ocr\\_model.py125-260](https://github.com/docling-project/docling/blob/f7244a43/docling/models/tesseract_ocr_model.py#L125-L260) [docling/models/tesseract\\_ocr\\_cli\\_model.py208-319](https://github.com/docling-project/docling/blob/f7244a43/docling/models/tesseract_ocr_cli_model.py#L208-L319) [docling/models/rapid\\_ocr\\_model.py226-301](https://github.com/docling-project/docling/blob/f7244a43/docling/models/rapid_ocr_model.py#L226-L301) [docling/utils/ocr\\_utils.py](https://github.com/docling-project/docling/blob/f7244a43/docling/utils/ocr_utils.py)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Coordinate Transformation",
      "heading_level": 3,
      "chunk_index": 30,
      "collection": "docling",
      "char_count": 1187,
      "estimated_tokens": 296,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:31",
    "content": "### OCR Cell Post-Processing\n\n\nThe `post_process_cells()` method handles integration of OCR results:\n\n```\n```\n\n**Sources:** [docling/models/base\\_ocr\\_model.py140-228](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_ocr_model.py#L140-L228)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "OCR Cell Post-Processing",
      "heading_level": 3,
      "chunk_index": 31,
      "collection": "docling",
      "char_count": 268,
      "estimated_tokens": 67,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:32",
    "content": "## Configuration and Options\n\n\nOCR behavior is controlled through `PdfPipelineOptions.ocr_options`, with engine selection via the options factory pattern.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Configuration and Options",
      "heading_level": 2,
      "chunk_index": 32,
      "collection": "docling",
      "char_count": 154,
      "estimated_tokens": 38,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:33",
    "content": "### Common Options (All Engines)\n\n\n| Option                  | Type        | Default   | Description                                            |\n| ----------------------- | ----------- | --------- | ------------------------------------------------------ |\n| `bitmap_area_threshold` | `float`     | `0.05`    | Minimum bitmap coverage (0.0-1.0) to trigger OCR       |\n| `force_full_page_ocr`   | `bool`      | `False`   | Force OCR on entire page regardless of bitmap coverage |\n| `lang`                  | `List[str]` | `[\"eng\"]` | Language codes for OCR engine                          |",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Common Options (All Engines)",
      "heading_level": 3,
      "chunk_index": 33,
      "collection": "docling",
      "char_count": 589,
      "estimated_tokens": 147,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:34",
    "content": "### Integration with Accelerator Options\n\n\nOCR engines respect global `AcceleratorOptions` for device and threading:\n\n| AcceleratorOption | Effect on OCR                                |\n| ----------------- | -------------------------------------------- |\n| `device = CUDA`   | Enables GPU for EasyOCR and RapidOCR (torch) |\n| `device = CPU`    | Forces CPU execution                         |\n| `device = AUTO`   | Uses DirectML on Windows for RapidOCR ONNX   |\n| `num_threads = N` | Sets `intra_op_num_threads` for RapidOCR     |\n\n**Sources:** [docling/datamodel/pipeline\\_options.py](https://github.com/docling-project/docling/blob/f7244a43/docling/datamodel/pipeline_options.py) [docling/models/rapid\\_ocr\\_model.py82-200](https://github.com/docling-project/docling/blob/f7244a43/docling/models/rapid_ocr_model.py#L82-L200) [docling/models/easyocr\\_model.py57-73](https://github.com/docling-project/docling/blob/f7244a43/docling/models/easyocr_model.py#L57-L73) [tests/test\\_e2e\\_ocr\\_conversion.py39-56](https://github.com/docling-project/docling/blob/f7244a43/tests/test_e2e_ocr_conversion.py#L39-L56)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Integration with Accelerator Options",
      "heading_level": 3,
      "chunk_index": 34,
      "collection": "docling",
      "char_count": 1107,
      "estimated_tokens": 276,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:35",
    "content": "### Engine Comparison\n\n\n| Feature                | TesseractOCR   | TesseractCLI   | EasyOCR        | RapidOCR       | OCR Mac    |\n| ---------------------- | -------------- | -------------- | -------------- | -------------- | ---------- |\n| **Performance**        | High           | Medium         | Medium         | High           | High       |\n| **GPU Support**        | No             | No             | Yes            | No             | No         |\n| **Language Detection** | Yes            | Yes            | No             | Limited        | Yes        |\n| **Rotation Handling**  | Yes            | Yes            | No             | No             | Yes        |\n| **Installation**       | Complex        | Simple         | Simple         | Simple         | Built-in   |\n| **Platform Support**   | Cross-platform | Cross-platform | Cross-platform | Cross-platform | macOS only |",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Engine Comparison",
      "heading_level": 3,
      "chunk_index": 35,
      "collection": "docling",
      "char_count": 887,
      "estimated_tokens": 221,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:36",
    "content": "### Processing Characteristics\n\n\n- **Image Scaling**: All engines scale input images to 216 DPI (3x multiplier) for optimal OCR accuracy\n- **Confidence Scoring**: Each engine provides confidence scores for extracted text\n- **Spatial Indexing**: Uses R-tree indexing for efficient cell overlap detection\n- **Memory Management**: Implements proper cleanup for large image processing",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Processing Characteristics",
      "heading_level": 3,
      "chunk_index": 36,
      "collection": "docling",
      "char_count": 380,
      "estimated_tokens": 95,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:37",
    "content": "### Quality Assessment\n\n\nThe system includes text quality rating in `PagePreprocessingModel.rate_text_quality()` to assess OCR results:\n\n- Detects problematic patterns (glyph codes, fragmented text)\n- Applies penalties for low-quality OCR output\n- Integrates with overall document confidence scoring\n\n**Sources:** [docling/models/base\\_ocr\\_model.py173-217](https://github.com/docling-project/docling/blob/f7244a43/docling/models/base_ocr_model.py#L173-L217) [docling/models/page\\_preprocessing\\_model.py120-146](https://github.com/docling-project/docling/blob/f7244a43/docling/models/page_preprocessing_model.py#L120-L146) [tests/test\\_e2e\\_ocr\\_conversion.py59-101](https://github.com/docling-project/docling/blob/f7244a43/tests/test_e2e_ocr_conversion.py#L59-L101)\n\nDismiss\n\nRefresh this wiki\n\nThis wiki was recently refreshed. Please wait 4 days to refresh again.",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "Quality Assessment",
      "heading_level": 3,
      "chunk_index": 37,
      "collection": "docling",
      "char_count": 867,
      "estimated_tokens": 216,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:38",
    "content": "### On this page",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "On this page",
      "heading_level": 3,
      "chunk_index": 38,
      "collection": "docling",
      "char_count": 16,
      "estimated_tokens": 4,
      "total_chunks": 40
    }
  },
  {
    "chunk_id": "docling:_docling-project_docling_4.1-ocr-models.md:chunk:39",
    "content": "- [OCR Models](#ocr-models.md)\n- [OCR Architecture Overview](#ocr-architecture-overview.md)\n- [OCR Model Class Hierarchy](#ocr-model-class-hierarchy.md)\n- [Base OCR Model Framework](#base-ocr-model-framework.md)\n- [Core Functionality](#core-functionality.md)\n- [OCR Region Detection](#ocr-region-detection.md)\n- [Supported OCR Engines](#supported-ocr-engines.md)\n- [OcrAutoModel (Automatic Engine Selection)](#ocrautomodel-automatic-engine-selection.md)\n- [Selection Priority](#selection-priority.md)\n- [Implementation](#implementation.md)\n- [RapidOcrModel](#rapidocrmodel.md)\n- [Architecture](#architecture.md)\n- [Backend Support](#backend-support.md)\n- [Model Artifacts](#model-artifacts.md)\n- [Configuration Options](#configuration-options.md)\n- [Processing Flow](#processing-flow.md)\n- [TesseractOcrModel](#tesseractocrmodel.md)\n- [Key Features](#key-features.md)\n- [Language Detection Implementation](#language-detection-implementation.md)\n- [Configuration Options](#configuration-options-1.md)\n- [TesseractOcrCliModel](#tesseractocrclimodel.md)\n- [Implementation Characteristics](#implementation-characteristics.md)\n- [Key Methods](#key-methods.md)\n- [Configuration Options](#configuration-options-2.md)\n- [EasyOcrModel](#easyocrmodel.md)\n- [Key Features](#key-features-1.md)\n- [Configuration Options](#configuration-options-3.md)\n- [OcrMacModel](#ocrmacmodel.md)\n- [Platform Requirements](#platform-requirements.md)\n- [OCR Processing Pipeline](#ocr-processing-pipeline.md)\n- [End-to-End OCR Flow](#end-to-end-ocr-flow.md)\n- [Coordinate Transformation](#coordinate-transformation.md)\n- [OCR Cell Post-Processing](#ocr-cell-post-processing.md)\n- [Configuration and Options](#configuration-and-options.md)\n- [OCR Options Factory](#ocr-options-factory.md)\n- [Common Options (All Engines)](#common-options-all-engines.md)\n- [Usage Examples](#usage-examples.md)\n- [Integration with Accelerator Options](#integration-with-accelerator-options.md)\n- [Performance and Capabilities](#performance-and-capabilities.md)\n- [Engine Comparison](#engine-comparison.md)\n- [Processing Characteristics](#processing-characteristics.md)\n- [Quality Assessment](#quality-assessment.md)",
    "metadata": {
      "source": "_docling-project_docling_4.1-ocr-models.md",
      "heading": "On this page",
      "heading_level": 3,
      "chunk_index": 39,
      "collection": "docling",
      "char_count": 2167,
      "estimated_tokens": 541,
      "total_chunks": 40
    }
  }
]