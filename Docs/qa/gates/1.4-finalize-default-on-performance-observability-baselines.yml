schema: 1
story: '1.4'
story_title: 'Finalize Default-On Performance & Observability Baselines'
gate: PASS
status_reason: 'Gate confirmed PASS: comprehensive QA review on 2025-11-03 validated staging GPU baselines and TLS-verified Prometheus validation with evidence integrity confirmed.'
reviewer: 'Quinn (Test Architect)'
updated: '2025-11-03T00:00:00Z'
quality_score: 92
expires: '2025-12-31T00:00:00Z'

waiver:
  active: false

top_issues:
  - id: 'SEC-118'
    severity: high
    finding: 'RESOLVED 2025-11-18: Prometheus staging validation executed with certificate verification; evidence committed under docs/qa/assessments/1.4-telemetry-smoke-evidence/.'
    suggested_action: 'Schedule quarterly staging re-validation and monitor certificate rotation windows.'
    suggested_owner: dev
    status: CLOSED
  - id: 'PERF-204'
    severity: high
    finding: 'RESOLVED 2025-11-18: Staging GPU baselines captured (RTX 3090, CUDA 12.1) and assessments updated with latency/VRAM tables.'
    suggested_action: 'Refresh GPU baselines when hardware or model versions change.'
    suggested_owner: dev
    status: CLOSED
  - id: 'GOV-311'
    severity: medium
    finding: 'Upstream gates reconciled to reference staging artefacts and historical development evidence separately.'
    suggested_action: 'Keep gate references aligned when updating evidence manifests.'
    suggested_owner: dev
    status: CLOSED
  - id: 'EVI-305'
    severity: medium
    finding: 'ASCII GPU dashboards regenerated from staging run; integrity check reconciled with processing summaries.'
    suggested_action: 'Maintain integrity validator alerts for future evidence drift.'
    suggested_owner: dev
    status: CLOSED

risk_summary:
  totals: { critical: 0, high: 0, medium: 1, low: 2 }
  recommendations:
    must_fix:
      - 'Maintain quarterly staging validation cadence; rotate credentials and certificates with evidence updates.'
    monitor:
      - 'Integrate evidence integrity validator into CI to prevent future contradictions.'
      - 'Schedule weekly CI telemetry smoke matrix regeneration to keep evidence fresh.'
      - 'Review ASCII dashboards after major pipeline changes to prevent drift.'

trace:
  totals:
    requirements: 5
    full: 5
    partial: 0
    none: 0
  notes: 'All acceptance criteria satisfied with staging evidence captured 2025-11-18; historical development artefacts retained for context.'
  uncovered: []

nfr_validation:
  security:
    status: PASS
    notes: 'Staging Prometheus validation executed with TLS verification; automation continues to cover mock matrix in CI.'
  performance:
    status: PASS
    notes: 'CUDA-backed staging baselines recorded (RTX 3090) and documented in assessments and manifest.'
  reliability:
    status: PASS
    notes: '139 tests passing; integrity validator operational reducing evidence divergence risk.'
  maintainability:
    status: PASS
    notes: 'Validator + expanded tests improve observability maintenance; schema formalization remains a nice-to-have.'

evidence:
  tests_reviewed: 139
  risks_identified: 4
  risks_resolved: 4
  trace:
    ac_covered: [1, 2, 3, 4, 5]
    ac_gaps: []
  story_1_4_consolidation:
    - docs/qa/assessments/1.4-telemetry-smoke-evidence/staging_gpu_20251118/cli_default-on_20251118.txt
    - docs/qa/assessments/1.4-telemetry-smoke-evidence/staging_gpu_20251118/processing_summary_default-on_20251118.json
    - docs/qa/assessments/1.4-telemetry-smoke-evidence/prometheus-validation-staging-defaults-20251118.json
    - docs/qa/assessments/1.4-telemetry-smoke-evidence/prometheus-staging-curl-20251118.txt
    - docs/qa/assessments/1.4-telemetry-smoke-evidence/MANIFEST.md
    - docs/qa/assessments/1.4-security-controls-20251025.md
    - docs/qa/assessments/1.4-baselines-20251025.md
    - docs/qa/assets/gpu-peak-memory-by-stage.txt
    - scripts/validate_evidence_integrity.py
    - .github/workflows/telemetry-smoke-matrix.yml
  code_fixes_implemented:
    - processor/ultimate_embedder/config.py
    - processor/ultimate_embedder/runtime_config.py
    - processor/ultimate_embedder/core.py
    - tests/test_runtime_config.py

recommendations:
  immediate:
    - action: 'Embed staging validation artefacts into release checklist and ensure QA reviewers consume updated manifest.'
      refs:
        - docs/qa/assessments/1.4-security-controls-20251025.md
        - scripts/validate_prometheus_endpoint.py
    - action: 'Maintain GPU-backed baseline schedule; regenerate processing summaries if hardware or model revisions occur.'
      refs:
        - docs/qa/assessments/1.4-baselines-20251025.md
        - docs/qa/assessments/1.4-telemetry-smoke-evidence/MANIFEST.md
    - action: 'Propagate PASS status to upstream QA gates and story rollups with references to new evidence.'
      refs:
        - docs/qa/gates/1.1-default-on-configuration-wiring.yml
        - docs/qa/gates/1.2-cli-and-runtime-toggle-integration.yml
        - docs/qa/gates/1.3-telemetry-monitoring-baseline-updates.yml
  future:
    - action: 'Integrate evidence integrity validator into CI workflow.'
      refs:
        - scripts/validate_evidence_integrity.py
        - .github/workflows/telemetry-smoke-matrix.yml
    - action: 'Add typed schema/dataclasses for validation reports to reduce drift.'
      refs:
        - scripts/validate_prometheus_endpoint.py
    - action: 'Add automated guard that fails telemetry workflows when GPU fallbacks occur during staging baseline capture.'
      refs:
        - scripts/embed_collections_v6.py
        - scripts/validate_evidence_integrity.py
