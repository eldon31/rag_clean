schema: 1
story: '1.4'
story_title: 'Finalize Default-On Performance & Observability Baselines'
gate: CONCERNS
status_reason: 'Gate held at CONCERNS: staging GPU latency/VRAM baselines and non-mock TLS (verified HTTPS) Prometheus validation evidence still pending; all other ACs satisfied with integrity-validated artifacts.'
reviewer: 'Quinn (Test Architect)'
updated: '2025-10-31T12:00:00Z'
quality_score: 81
expires: '2025-11-30T00:00:00Z'

waiver: { active: false }

top_issues:
  - id: 'SEC-118'
    severity: medium
    finding: 'Security assessment now flags mock-only HTTPS validation; staging evidence (curl transcript + validator JSON without --mock-https/--no-verify-tls) still missing.'
    suggested_action: 'Execute validator against staging Prometheus endpoint and attach outputs so TLS coverage can be promoted from partial to pass.'
    suggested_owner: dev
    status: OPEN
  - id: 'PERF-204'
    severity: low
    finding: 'Performance baselines gathered under CPU; GPU staging baseline not yet captured for production readiness.'
    suggested_action: 'Run staging GPU baseline suite and attach latency/VRAM charts to baselines assessment.'
    suggested_owner: dev
    status: OPEN
  - id: 'GOV-310'
    severity: low
    finding: 'Evidence integrity validator added to telemetry smoke workflow; monitor initial runs for regressions.'
    suggested_action: 'Observe upcoming matrix executions to confirm the new validation step blocks contradictory artifacts.'
    suggested_owner: dev
    status: RESOLVED
  - id: 'MAINT-401'
    severity: low
    finding: 'Deprecation warnings for datetime.utcnow() in validate_prometheus_endpoint.py indicate future incompatibility.'
    suggested_action: 'Refactor to use timezone-aware datetime.now(datetime.UTC) and add timestamp format unit test.'
    suggested_owner: dev
    status: OPEN

risk_summary:
  totals: { critical: 0, high: 0, medium: 1, low: 2 }
  recommendations:
    must_fix:
      - 'Align security documentation with actual TLS validation status or produce staging HTTPS evidence.'
      - 'Refactor deprecated datetime.utcnow() usage to timezone-aware timestamps and add a validator timestamp test.'
    monitor:
      - 'Capture GPU staging baseline (latency & VRAM) to replace CPU-only metrics.'
      - 'Integrate evidence integrity validator into CI to prevent future contradictions.'
      - 'Schedule weekly CI telemetry smoke matrix regeneration to keep evidence fresh.'

trace:
  totals:
    requirements: 5
    full: 3
    partial: 2
    none: 0
  notes: 'AC2 & AC5 partial due to TLS/staging baseline pending; other ACs fully evidenced.'
  uncovered: []

nfr_validation:
  security:
    status: CONCERNS
    notes: 'Authentication alerts validated; HTTPS/TLS evidence still partially mock-driven â€“ staging validation or documentation correction required.'
  performance:
    status: CONCERNS
    notes: 'CPU baselines present; GPU staging latency/VRAM confirmation pending to finalize production performance posture.'
  reliability:
    status: PASS
    notes: '138 tests passing; integrity validator operational reducing evidence divergence risk.'
  maintainability:
    status: PASS
    notes: 'Validator + expanded tests improve observability maintenance; minor enhancement to formalize report schema recommended.'

evidence:
  tests_reviewed: 138
  risks_identified: 0
  risks_resolved: 3
  trace:
    ac_covered: [1, 3, 4]
    ac_gaps: [2, 5]
  story_1_4_consolidation:
    - docs/qa/assessments/1.4-telemetry-smoke-evidence/cli-output-defaults-20251026.txt
    - docs/qa/assessments/1.4-telemetry-smoke-evidence/processing_summary_defaults_20251026.json
    - docs/qa/assessments/1.4-telemetry-smoke-evidence/MANIFEST.md
    - docs/qa/assessments/1.4-security-controls-20251025.md
    - scripts/validate_evidence_integrity.py
    - .github/workflows/telemetry-smoke-matrix.yml
  code_fixes_implemented:
    - processor/ultimate_embedder/config.py
    - processor/ultimate_embedder/runtime_config.py
    - processor/ultimate_embedder/core.py
    - tests/test_runtime_config.py

recommendations:
  immediate:
    - action: 'Produce staging HTTPS validation evidence or correct documentation to mark TLS pending with waiver.'
      refs:
        - docs/qa/assessments/1.4-security-controls-20251025.md
        - scripts/validate_prometheus_endpoint.py
    - action: 'Capture GPU staging baseline (latency & VRAM) and attach charts to baselines assessment.'
      refs:
        - docs/qa/assessments/1.4-baselines-20251025.md
        - docs/qa/assets/gpu-peak-memory-by-stage.txt
  future:
    - action: 'Integrate evidence integrity validator into CI workflow.'
      refs:
        - scripts/validate_evidence_integrity.py
        - .github/workflows/telemetry-smoke-matrix.yml
    - action: 'Add typed schema/dataclasses for validation reports to reduce drift.'
      refs:
        - scripts/validate_prometheus_endpoint.py
