# Risk Profile: Story 1.1

Date: 2025-10-23
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Active Risks: 1 (PERF-101 reopened 2025-10-25)
- Critical Risks: 0
- High Risks: 1
- Residual Risk Score: 35/100 (pending staging baseline capture)

Story 1.1 is reopened because staging latency/VRAM baselines remain uncaptured. Chunk telemetry and CLI coverage stay healthy, but we must record real-run performance evidence before treating defaults as production ready.

## Critical Risks Requiring Immediate Attention

No score 9 (Critical) risks identified. Highest risk is DATA-001 (score 6) and should be mitigated before treating defaults as production-ready.

## Risk Distribution

### By Category

- Performance: 1 high (PERF-101 staging baseline capture outstanding)
- Data: 0 active risks (DATA-001 closed)
- Technical: 0 active risks (TECH-002 closed)
- Security: 0 risks
- Operational: 0 risks
- Business: 0 risks

### By Component

- CLI & Processing Summary: No open risks
- Test Harness: No open risks

## Detailed Risk Register

| Risk ID  | Category | Description | Probability | Impact | Score | Mitigation Strategy | Residual Risk |
| -------- | -------- | ----------- | ----------- | ------ | ----- | ------------------- | ------------- |
| PERF-101 | Performance | Staging latency/VRAM baselines for default-on execution have not been recorded, limiting confidence in production rollout. | Medium | High | 9 | Capture staging baseline runs (Story 1.4), document metrics, and attach QA evidence prior to rollout. | Low once baselines published and monitored. |
| DATA-001 | Data     | `processing_summary.json` chunk telemetry previously derived from file count. | Mitigated | Mitigated | 0 | Chunk totals now sourced from loader/runtime metrics with regression tests (`tests/test_processing_summary.py`). | None – monitor staging summaries to ensure parity holds. |
| TECH-002 | Technical | CLI toggle parsing lacked regression coverage, risking default-on contract drift. | Mitigated | Mitigated | 0 | Added parser unit tests locking defaults, disable flags, and provenance reporting (`tests/test_embed_collections_cli.py`). | None – fold new flags into tests as they appear. |

## Risk-Based Testing Strategy

### Priority 1: High Risk Tests

- Capture default-on latency/VRAM samples in staging and compare against dense-only baselines. Publish results with Story 1.4.
- Add smoke coverage that asserts real processing summaries retain loader-aligned chunk totals (now that regression tests exist).

### Priority 2: Regression & Monitoring

- Keep CLI parser tests updated when introducing new toggles or provenance fields.
- Maintain runtime_config precedence tests to guard against environment/config regression.

## Risk Acceptance Criteria

### Must Fix Before Production

- None outstanding. Monitor performance telemetry capture as part of staging checklist.

### Accepted Risks

- Default-on performance baseline still needs capture; treated as monitoring item rather than active risk.

## Monitoring Requirements

- Track processing summaries in staging runs to ensure chunk counts match loader telemetry post-fix.
- Alert on CLI toggle discrepancies by sampling `processing_summary.json` feature toggle provenance after deployment.

## Risk Review Triggers

- CLI changes that touch toggle parsing or provenance reporting.
- Modifications to telemetry export schema impacting chunk count fields.
